var chartDom = document.getElementById("vf_heatmap");
var myChart = echarts.init(chartDom);
var option;

// prettier-ignore
const hours = ["VF0116", "VF0148", "VF0395", "VF0075", "VF0321", "VF0079", "VF0403", "VF0530", "VF0430", "VF0402", "VF0035", "VF0003", "VF0014", "VF0421", "VF0021", "VF0109", "VF0315", "VF0017", "VF0004", "VF0091", "VF0451", "VF0300", "VF0358", "VF0273", "VF0283", "VF0015", "VF0105", "VF0947", "VF0018", "VF0007", "VF0354", "VF0011", "VF0012", "VF0356", "VF0019", "VF0144", "VF0020", "VF0145", "VF0311", "VF0521", "VF0106", "VF0084", "VF0456", "VF0299", "VF0454", "VF0013", "VF0361", "VF0082", "VF0023", "VF0083", "VF0010", "VF0352", "VF0538", "VF0143", "VF0008", "VF0146", "VF0006", "VF0001", "VF0151", "VF0044", "VF0100", "VF0103", "VF0286", "VF0457", "VF0102", "VF0540", "VF0425", "VF0313", "VF0289", "VF0287", "VF0310", "VF0095", "VF0420", "VF0267", "VF0525", "VF0002", "VF0423", "VF0221", "VF0357", "VF0362", "VF0455", "VF0949", "VF0359", "VF0422", "VF0424", "VF0253", "VF0149", "VF0016", "VF0024"];
// prettier-ignore
const categories = ["Core", "Dispensible", "Unique"];
const data = [
  [0, 0, "-"],
  [0, 1, "-"],
  [0, 2, 10.0],
  [1, 0, "-"],
  [1, 1, "-"],
  [1, 2, 2.0],
  [2, 0, "-"],
  [2, 1, "-"],
  [2, 2, 1.0],
  [3, 0, "-"],
  [3, 1, "-"],
  [3, 2, 1.0],
  [4, 0, "-"],
  [4, 1, "-"],
  [4, 2, 9.0],
  [5, 0, "-"],
  [5, 1, "-"],
  [5, 2, 2.0],
  [6, 0, "-"],
  [6, 1, "-"],
  [6, 2, 8.0],
  [7, 0, "-"],
  [7, 1, "-"],
  [7, 2, 3.0],
  [8, 0, "-"],
  [8, 1, "-"],
  [8, 2, 4.0],
  [9, 0, "-"],
  [9, 1, "-"],
  [9, 2, 5.0],
  [10, 0, "-"],
  [10, 1, "-"],
  [10, 2, 1.0],
  [11, 0, "-"],
  [11, 1, "-"],
  [11, 2, 16.0],
  [12, 0, "-"],
  [12, 1, "-"],
  [12, 2, 5.0],
  [13, 0, "-"],
  [13, 1, "-"],
  [13, 2, 1.0],
  [14, 0, "-"],
  [14, 1, "-"],
  [14, 2, 1.0],
  [15, 0, "-"],
  [15, 1, "-"],
  [15, 2, 1.0],
  [16, 0, "-"],
  [16, 1, "-"],
  [16, 2, 3.0],
  [17, 0, "-"],
  [17, 1, "-"],
  [17, 2, 1.0],
  [18, 0, "-"],
  [18, 1, "-"],
  [18, 2, 2.0],
  [19, 0, "-"],
  [19, 1, "-"],
  [19, 2, 4.0],
  [20, 0, "-"],
  [20, 1, "-"],
  [20, 2, 1.0],
  [21, 0, "-"],
  [21, 1, "-"],
  [21, 2, 1.0],
  [22, 0, "-"],
  [22, 1, "-"],
  [22, 2, 1.0],
  [23, 0, "-"],
  [23, 1, "-"],
  [23, 2, 2.0],
  [24, 0, "-"],
  [24, 1, "-"],
  [24, 2, 1.0],
  [25, 0, "-"],
  [25, 1, "-"],
  [25, 2, 8.0],
  [26, 0, "-"],
  [26, 1, "-"],
  [26, 2, 3.0],
  [27, 0, "-"],
  [27, 1, "-"],
  [27, 2, 3.0],
  [28, 0, "-"],
  [28, 1, "-"],
  [28, 2, 1.0],
  [29, 0, "-"],
  [29, 1, "-"],
  [29, 2, 1.0],
  [30, 0, "-"],
  [30, 1, "-"],
  [30, 2, 1.0],
  [31, 0, "-"],
  [31, 1, "-"],
  [31, 2, 3.0],
  [32, 0, "-"],
  [32, 1, "-"],
  [32, 2, 1.0],
  [33, 0, "-"],
  [33, 1, "-"],
  [33, 2, 2.0],
  [34, 0, "-"],
  [34, 1, "-"],
  [34, 2, 3.0],
  [35, 0, "-"],
  [35, 1, "-"],
  [35, 2, 3.0],
  [36, 0, "-"],
  [36, 1, "-"],
  [36, 2, 2.0],
  [37, 0, "-"],
  [37, 1, "-"],
  [37, 2, 4.0],
  [38, 0, "-"],
  [38, 1, "-"],
  [38, 2, 2.0],
  [39, 0, "-"],
  [39, 1, "-"],
  [39, 2, 3.0],
  [40, 0, "-"],
  [40, 1, "-"],
  [40, 2, 1.0],
  [41, 0, "-"],
  [41, 1, "-"],
  [41, 2, 1.0],
  [42, 0, "-"],
  [42, 1, "-"],
  [42, 2, 1.0],
  [43, 0, 1.0],
  [43, 1, "-"],
  [43, 2, 3.0],
  [44, 0, "-"],
  [44, 1, "-"],
  [44, 2, 1.0],
  [45, 0, "-"],
  [45, 1, "-"],
  [45, 2, 1.0],
  [46, 0, "-"],
  [46, 1, "-"],
  [46, 2, 3.0],
  [47, 0, "-"],
  [47, 1, "-"],
  [47, 2, 3.0],
  [48, 0, "-"],
  [48, 1, "-"],
  [48, 2, 1.0],
  [49, 0, "-"],
  [49, 1, "-"],
  [49, 2, 4.0],
  [50, 0, "-"],
  [50, 1, "-"],
  [50, 2, 2.0],
  [51, 0, "-"],
  [51, 1, "-"],
  [51, 2, 2.0],
  [52, 0, "-"],
  [52, 1, "-"],
  [52, 2, 4.0],
  [53, 0, "-"],
  [53, 1, "-"],
  [53, 2, 1.0],
  [54, 0, "-"],
  [54, 1, "-"],
  [54, 2, 1.0],
  [55, 0, "-"],
  [55, 1, "-"],
  [55, 2, 1.0],
  [56, 0, "-"],
  [56, 1, "-"],
  [56, 2, 2.0],
  [57, 0, "-"],
  [57, 1, "-"],
  [57, 2, 1.0],
  [58, 0, "-"],
  [58, 1, "-"],
  [58, 2, 1.0],
  [59, 0, "-"],
  [59, 1, "-"],
  [59, 2, 1.0],
  [60, 0, "-"],
  [60, 1, "-"],
  [60, 2, 2.0],
  [61, 0, "-"],
  [61, 1, "-"],
  [61, 2, 2.0],
  [62, 0, 1.0],
  [62, 1, "-"],
  [62, 2, "-"],
  [63, 0, "-"],
  [63, 1, "-"],
  [63, 2, 1.0],
  [64, 0, "-"],
  [64, 1, "-"],
  [64, 2, 1.0],
  [65, 0, "-"],
  [65, 1, "-"],
  [65, 2, 1.0],
  [66, 0, "-"],
  [66, 1, "-"],
  [66, 2, 1.0],
  [67, 0, "-"],
  [67, 1, "-"],
  [67, 2, 1.0],
  [68, 0, "-"],
  [68, 1, "-"],
  [68, 2, 1.0],
  [69, 0, 1.0],
  [69, 1, "-"],
  [69, 2, "-"],
  [70, 0, "-"],
  [70, 1, "-"],
  [70, 2, 2.0],
  [71, 0, "-"],
  [71, 1, "-"],
  [71, 2, 1.0],
  [72, 0, "-"],
  [72, 1, "-"],
  [72, 2, 1.0],
  [73, 0, "-"],
  [73, 1, "-"],
  [73, 2, 1.0],
  [74, 0, "-"],
  [74, 1, "-"],
  [74, 2, 1.0],
  [75, 0, "-"],
  [75, 1, "-"],
  [75, 2, 1.0],
  [76, 0, "-"],
  [76, 1, "-"],
  [76, 2, 1.0],
  [77, 0, "-"],
  [77, 1, "-"],
  [77, 2, 1.0],
  [78, 0, "-"],
  [78, 1, "-"],
  [78, 2, 1.0],
  [79, 0, "-"],
  [79, 1, "-"],
  [79, 2, 1.0],
  [80, 0, "-"],
  [80, 1, "-"],
  [80, 2, 1.0],
  [81, 0, "-"],
  [81, 1, "-"],
  [81, 2, 1.0],
  [82, 0, "-"],
  [82, 1, "-"],
  [82, 2, 1.0],
  [83, 0, "-"],
  [83, 1, "-"],
  [83, 2, 1.0],
  [84, 0, "-"],
  [84, 1, "-"],
  [84, 2, 1.0],
  [85, 0, 1.0],
  [85, 1, "-"],
  [85, 2, "-"],
  [86, 0, "-"],
  [86, 1, "-"],
  [86, 2, 1.0],
  [87, 0, "-"],
  [87, 1, "-"],
  [87, 2, 1.0],
  [88, 0, "-"],
  [88, 1, "-"],
  [88, 2, 1.0],
];
// prettier-ignore
const maxValue = data.reduce(function (max, item) {
  return Math.max(max, item[2]);
}, -Infinity);
option = {
  legend: {
    data: ["Punch Card"],
  },
  polar: {},
  tooltip: {},
  visualMap: {
    type: "continuous",
    min: 0,
    max: maxValue,
    top: "middle",
    dimension: 2,
    calculable: true,
  },
  angleAxis: {
    type: "category",
    data: hours,
    boundaryGap: false,
    splitLine: {
      show: true,
      lineStyle: {
        color: "#ddd",
        type: "dashed",
      },
    },
    axisLine: {
      show: false,
    },
  },
  radiusAxis: {
    type: "category",
    data: categories,
    z: 100,
  },
  series: [
    {
      name: "Punch Card",
      type: "custom",
      coordinateSystem: "polar",
      itemStyle: {
        color: "#d14a61",
      },
      renderItem: function (params, api) {
        var values = [api.value(0), api.value(1)];
        var coord = api.coord(values);
        var size = api.size([1, 1], values);
        return {
          type: "sector",
          shape: {
            cx: params.coordSys.cx,
            cy: params.coordSys.cy,
            r0: coord[2] - size[0] / 2,
            r: coord[2] + size[0] / 2,
            startAngle: -(coord[3] + size[1] / 2),
            endAngle: -(coord[3] - size[1] / 2),
          },
          style: api.style({
            fill: api.visual("color"),
          }),
        };
      },
      data: data,
    },
  ],
};

option && myChart.setOption(option);
