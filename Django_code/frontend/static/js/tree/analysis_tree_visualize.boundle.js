/*! For license information please see analysis_tree_visualize.boundle.js.LICENSE.txt */
(()=>{var t={486:function(t,n,e){var r;t=e.nmd(t),function(){var i,o=200,a="Expected a function",u="__lodash_hash_undefined__",s="__lodash_placeholder__",l=1,c=2,f=4,h=1,p=2,d=1,_=2,g=4,v=8,y=16,m=32,b=64,w=128,x=256,M=512,A=800,k=16,N=1/0,S=9007199254740991,E=17976931348623157e292,T=NaN,z=4294967295,C=z-1,j=z>>>1,L=[["ary",w],["bind",d],["bindKey",_],["curry",v],["curryRight",y],["flip",M],["partial",m],["partialRight",b],["rearg",x]],O="[object Arguments]",D="[object Array]",I="[object AsyncFunction]",R="[object Boolean]",U="[object Date]",B="[object DOMException]",P="[object Error]",F="[object Function]",H="[object GeneratorFunction]",q="[object Map]",V="[object Number]",W="[object Null]",Y="[object Object]",$="[object Promise]",X="[object Proxy]",Z="[object RegExp]",G="[object Set]",K="[object String]",J="[object Symbol]",Q="[object Undefined]",tt="[object WeakMap]",nt="[object ArrayBuffer]",et="[object DataView]",rt="[object Float32Array]",it="[object Float64Array]",ot="[object Int8Array]",at="[object Int16Array]",ut="[object Int32Array]",st="[object Uint8Array]",lt="[object Uint8ClampedArray]",ct="[object Uint16Array]",ft="[object Uint32Array]",ht=/\b__p \+= '';/g,pt=/\b(__p \+=) '' \+/g,dt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_t=/&(?:amp|lt|gt|quot|#39);/g,gt=/[&<>"']/g,vt=RegExp(_t.source),yt=RegExp(gt.source),mt=/<%-([\s\S]+?)%>/g,bt=/<%([\s\S]+?)%>/g,wt=/<%=([\s\S]+?)%>/g,xt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Mt=/^\w*$/,At=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kt=/[\\^$.*+?()[\]{}|]/g,Nt=RegExp(kt.source),St=/^\s+/,Et=/\s/,Tt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,zt=/\{\n\/\* \[wrapped with (.+)\] \*/,Ct=/,? & /,jt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Lt=/[()=,{}\[\]\/\s]/,Ot=/\\(\\)?/g,Dt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,It=/\w*$/,Rt=/^[-+]0x[0-9a-f]+$/i,Ut=/^0b[01]+$/i,Bt=/^\[object .+?Constructor\]$/,Pt=/^0o[0-7]+$/i,Ft=/^(?:0|[1-9]\d*)$/,Ht=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,qt=/($^)/,Vt=/['\n\r\u2028\u2029\\]/g,Wt="\\ud800-\\udfff",Yt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",$t="\\u2700-\\u27bf",Xt="a-z\\xdf-\\xf6\\xf8-\\xff",Zt="A-Z\\xc0-\\xd6\\xd8-\\xde",Gt="\\ufe0e\\ufe0f",Kt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Jt="["+Wt+"]",Qt="["+Kt+"]",tn="["+Yt+"]",nn="\\d+",en="["+$t+"]",rn="["+Xt+"]",on="[^"+Wt+Kt+nn+$t+Xt+Zt+"]",an="\\ud83c[\\udffb-\\udfff]",un="[^"+Wt+"]",sn="(?:\\ud83c[\\udde6-\\uddff]){2}",ln="[\\ud800-\\udbff][\\udc00-\\udfff]",cn="["+Zt+"]",fn="\\u200d",hn="(?:"+rn+"|"+on+")",pn="(?:"+cn+"|"+on+")",dn="(?:['’](?:d|ll|m|re|s|t|ve))?",_n="(?:['’](?:D|LL|M|RE|S|T|VE))?",gn="(?:"+tn+"|"+an+")?",vn="["+Gt+"]?",yn=vn+gn+"(?:"+fn+"(?:"+[un,sn,ln].join("|")+")"+vn+gn+")*",mn="(?:"+[en,sn,ln].join("|")+")"+yn,bn="(?:"+[un+tn+"?",tn,sn,ln,Jt].join("|")+")",wn=RegExp("['’]","g"),xn=RegExp(tn,"g"),Mn=RegExp(an+"(?="+an+")|"+bn+yn,"g"),An=RegExp([cn+"?"+rn+"+"+dn+"(?="+[Qt,cn,"$"].join("|")+")",pn+"+"+_n+"(?="+[Qt,cn+hn,"$"].join("|")+")",cn+"?"+hn+"+"+dn,cn+"+"+_n,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",nn,mn].join("|"),"g"),kn=RegExp("["+fn+Wt+Yt+Gt+"]"),Nn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Sn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],En=-1,Tn={};Tn[rt]=Tn[it]=Tn[ot]=Tn[at]=Tn[ut]=Tn[st]=Tn[lt]=Tn[ct]=Tn[ft]=!0,Tn[O]=Tn[D]=Tn[nt]=Tn[R]=Tn[et]=Tn[U]=Tn[P]=Tn[F]=Tn[q]=Tn[V]=Tn[Y]=Tn[Z]=Tn[G]=Tn[K]=Tn[tt]=!1;var zn={};zn[O]=zn[D]=zn[nt]=zn[et]=zn[R]=zn[U]=zn[rt]=zn[it]=zn[ot]=zn[at]=zn[ut]=zn[q]=zn[V]=zn[Y]=zn[Z]=zn[G]=zn[K]=zn[J]=zn[st]=zn[lt]=zn[ct]=zn[ft]=!0,zn[P]=zn[F]=zn[tt]=!1;var Cn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},jn=parseFloat,Ln=parseInt,On="object"==typeof e.g&&e.g&&e.g.Object===Object&&e.g,Dn="object"==typeof self&&self&&self.Object===Object&&self,In=On||Dn||Function("return this")(),Rn=n&&!n.nodeType&&n,Un=Rn&&t&&!t.nodeType&&t,Bn=Un&&Un.exports===Rn,Pn=Bn&&On.process,Fn=function(){try{return Un&&Un.require&&Un.require("util").types||Pn&&Pn.binding&&Pn.binding("util")}catch(t){}}(),Hn=Fn&&Fn.isArrayBuffer,qn=Fn&&Fn.isDate,Vn=Fn&&Fn.isMap,Wn=Fn&&Fn.isRegExp,Yn=Fn&&Fn.isSet,$n=Fn&&Fn.isTypedArray;function Xn(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}function Zn(t,n,e,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];n(r,a,e(a),t)}return r}function Gn(t,n){for(var e=-1,r=null==t?0:t.length;++e<r&&!1!==n(t[e],e,t););return t}function Kn(t,n){for(var e=null==t?0:t.length;e--&&!1!==n(t[e],e,t););return t}function Jn(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(!n(t[e],e,t))return!1;return!0}function Qn(t,n){for(var e=-1,r=null==t?0:t.length,i=0,o=[];++e<r;){var a=t[e];n(a,e,t)&&(o[i++]=a)}return o}function te(t,n){return!(null==t||!t.length)&&ce(t,n,0)>-1}function ne(t,n,e){for(var r=-1,i=null==t?0:t.length;++r<i;)if(e(n,t[r]))return!0;return!1}function ee(t,n){for(var e=-1,r=null==t?0:t.length,i=Array(r);++e<r;)i[e]=n(t[e],e,t);return i}function re(t,n){for(var e=-1,r=n.length,i=t.length;++e<r;)t[i+e]=n[e];return t}function ie(t,n,e,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(e=t[++i]);++i<o;)e=n(e,t[i],i,t);return e}function oe(t,n,e,r){var i=null==t?0:t.length;for(r&&i&&(e=t[--i]);i--;)e=n(e,t[i],i,t);return e}function ae(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}var ue=de("length");function se(t,n,e){var r;return e(t,(function(t,e,i){if(n(t,e,i))return r=e,!1})),r}function le(t,n,e,r){for(var i=t.length,o=e+(r?1:-1);r?o--:++o<i;)if(n(t[o],o,t))return o;return-1}function ce(t,n,e){return n==n?function(t,n,e){for(var r=e-1,i=t.length;++r<i;)if(t[r]===n)return r;return-1}(t,n,e):le(t,he,e)}function fe(t,n,e,r){for(var i=e-1,o=t.length;++i<o;)if(r(t[i],n))return i;return-1}function he(t){return t!=t}function pe(t,n){var e=null==t?0:t.length;return e?ve(t,n)/e:T}function de(t){return function(n){return null==n?i:n[t]}}function _e(t){return function(n){return null==t?i:t[n]}}function ge(t,n,e,r,i){return i(t,(function(t,i,o){e=r?(r=!1,t):n(e,t,i,o)})),e}function ve(t,n){for(var e,r=-1,o=t.length;++r<o;){var a=n(t[r]);a!==i&&(e=e===i?a:e+a)}return e}function ye(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}function me(t){return t?t.slice(0,Ie(t)+1).replace(St,""):t}function be(t){return function(n){return t(n)}}function we(t,n){return ee(n,(function(n){return t[n]}))}function xe(t,n){return t.has(n)}function Me(t,n){for(var e=-1,r=t.length;++e<r&&ce(n,t[e],0)>-1;);return e}function Ae(t,n){for(var e=t.length;e--&&ce(n,t[e],0)>-1;);return e}var ke=_e({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Ne=_e({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Se(t){return"\\"+Cn[t]}function Ee(t){return kn.test(t)}function Te(t){var n=-1,e=Array(t.size);return t.forEach((function(t,r){e[++n]=[r,t]})),e}function ze(t,n){return function(e){return t(n(e))}}function Ce(t,n){for(var e=-1,r=t.length,i=0,o=[];++e<r;){var a=t[e];a!==n&&a!==s||(t[e]=s,o[i++]=e)}return o}function je(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=t})),e}function Le(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=[t,t]})),e}function Oe(t){return Ee(t)?function(t){for(var n=Mn.lastIndex=0;Mn.test(t);)++n;return n}(t):ue(t)}function De(t){return Ee(t)?function(t){return t.match(Mn)||[]}(t):function(t){return t.split("")}(t)}function Ie(t){for(var n=t.length;n--&&Et.test(t.charAt(n)););return n}var Re=_e({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Ue=function t(n){var e,r=(n=null==n?In:Ue.defaults(In.Object(),n,Ue.pick(In,Sn))).Array,Et=n.Date,Wt=n.Error,Yt=n.Function,$t=n.Math,Xt=n.Object,Zt=n.RegExp,Gt=n.String,Kt=n.TypeError,Jt=r.prototype,Qt=Yt.prototype,tn=Xt.prototype,nn=n["__core-js_shared__"],en=Qt.toString,rn=tn.hasOwnProperty,on=0,an=(e=/[^.]+$/.exec(nn&&nn.keys&&nn.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"",un=tn.toString,sn=en.call(Xt),ln=In._,cn=Zt("^"+en.call(rn).replace(kt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fn=Bn?n.Buffer:i,hn=n.Symbol,pn=n.Uint8Array,dn=fn?fn.allocUnsafe:i,_n=ze(Xt.getPrototypeOf,Xt),gn=Xt.create,vn=tn.propertyIsEnumerable,yn=Jt.splice,mn=hn?hn.isConcatSpreadable:i,bn=hn?hn.iterator:i,Mn=hn?hn.toStringTag:i,kn=function(){try{var t=Lo(Xt,"defineProperty");return t({},"",{}),t}catch(t){}}(),Cn=n.clearTimeout!==In.clearTimeout&&n.clearTimeout,On=Et&&Et.now!==In.Date.now&&Et.now,Dn=n.setTimeout!==In.setTimeout&&n.setTimeout,Rn=$t.ceil,Un=$t.floor,Pn=Xt.getOwnPropertySymbols,Fn=fn?fn.isBuffer:i,ue=n.isFinite,_e=Jt.join,Be=ze(Xt.keys,Xt),Pe=$t.max,Fe=$t.min,He=Et.now,qe=n.parseInt,Ve=$t.random,We=Jt.reverse,Ye=Lo(n,"DataView"),$e=Lo(n,"Map"),Xe=Lo(n,"Promise"),Ze=Lo(n,"Set"),Ge=Lo(n,"WeakMap"),Ke=Lo(Xt,"create"),Je=Ge&&new Ge,Qe={},tr=ua(Ye),nr=ua($e),er=ua(Xe),rr=ua(Ze),ir=ua(Ge),or=hn?hn.prototype:i,ar=or?or.valueOf:i,ur=or?or.toString:i;function sr(t){if(Au(t)&&!pu(t)&&!(t instanceof hr)){if(t instanceof fr)return t;if(rn.call(t,"__wrapped__"))return sa(t)}return new fr(t)}var lr=function(){function t(){}return function(n){if(!Mu(n))return{};if(gn)return gn(n);t.prototype=n;var e=new t;return t.prototype=i,e}}();function cr(){}function fr(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=i}function hr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=z,this.__views__=[]}function pr(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function dr(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function _r(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function gr(t){var n=-1,e=null==t?0:t.length;for(this.__data__=new _r;++n<e;)this.add(t[n])}function vr(t){var n=this.__data__=new dr(t);this.size=n.size}function yr(t,n){var e=pu(t),r=!e&&hu(t),i=!e&&!r&&vu(t),o=!e&&!r&&!i&&ju(t),a=e||r||i||o,u=a?ye(t.length,Gt):[],s=u.length;for(var l in t)!n&&!rn.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Po(l,s))||u.push(l);return u}function mr(t){var n=t.length;return n?t[_i(0,n-1)]:i}function br(t,n){return ea(Gi(t),Tr(n,0,t.length))}function wr(t){return ea(Gi(t))}function xr(t,n,e){(e!==i&&!lu(t[n],e)||e===i&&!(n in t))&&Sr(t,n,e)}function Mr(t,n,e){var r=t[n];rn.call(t,n)&&lu(r,e)&&(e!==i||n in t)||Sr(t,n,e)}function Ar(t,n){for(var e=t.length;e--;)if(lu(t[e][0],n))return e;return-1}function kr(t,n,e,r){return Or(t,(function(t,i,o){n(r,t,e(t),o)})),r}function Nr(t,n){return t&&Ki(n,ts(n),t)}function Sr(t,n,e){"__proto__"==n&&kn?kn(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}function Er(t,n){for(var e=-1,o=n.length,a=r(o),u=null==t;++e<o;)a[e]=u?i:Zu(t,n[e]);return a}function Tr(t,n,e){return t==t&&(e!==i&&(t=t<=e?t:e),n!==i&&(t=t>=n?t:n)),t}function zr(t,n,e,r,o,a){var u,s=n&l,h=n&c,p=n&f;if(e&&(u=o?e(t,r,o,a):e(t)),u!==i)return u;if(!Mu(t))return t;var d=pu(t);if(d){if(u=function(t){var n=t.length,e=new t.constructor(n);return n&&"string"==typeof t[0]&&rn.call(t,"index")&&(e.index=t.index,e.input=t.input),e}(t),!s)return Gi(t,u)}else{var _=Io(t),g=_==F||_==H;if(vu(t))return Vi(t,s);if(_==Y||_==O||g&&!o){if(u=h||g?{}:Uo(t),!s)return h?function(t,n){return Ki(t,Do(t),n)}(t,function(t,n){return t&&Ki(n,ns(n),t)}(u,t)):function(t,n){return Ki(t,Oo(t),n)}(t,Nr(u,t))}else{if(!zn[_])return o?t:{};u=function(t,n,e){var r,i=t.constructor;switch(n){case nt:return Wi(t);case R:case U:return new i(+t);case et:return function(t,n){var e=n?Wi(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case rt:case it:case ot:case at:case ut:case st:case lt:case ct:case ft:return Yi(t,e);case q:return new i;case V:case K:return new i(t);case Z:return function(t){var n=new t.constructor(t.source,It.exec(t));return n.lastIndex=t.lastIndex,n}(t);case G:return new i;case J:return r=t,ar?Xt(ar.call(r)):{}}}(t,_,s)}}a||(a=new vr);var v=a.get(t);if(v)return v;a.set(t,u),Tu(t)?t.forEach((function(r){u.add(zr(r,n,e,r,t,a))})):ku(t)&&t.forEach((function(r,i){u.set(i,zr(r,n,e,i,t,a))}));var y=d?i:(p?h?No:ko:h?ns:ts)(t);return Gn(y||t,(function(r,i){y&&(r=t[i=r]),Mr(u,i,zr(r,n,e,i,t,a))})),u}function Cr(t,n,e){var r=e.length;if(null==t)return!r;for(t=Xt(t);r--;){var o=e[r],a=n[o],u=t[o];if(u===i&&!(o in t)||!a(u))return!1}return!0}function jr(t,n,e){if("function"!=typeof t)throw new Kt(a);return Jo((function(){t.apply(i,e)}),n)}function Lr(t,n,e,r){var i=-1,a=te,u=!0,s=t.length,l=[],c=n.length;if(!s)return l;e&&(n=ee(n,be(e))),r?(a=ne,u=!1):n.length>=o&&(a=xe,u=!1,n=new gr(n));t:for(;++i<s;){var f=t[i],h=null==e?f:e(f);if(f=r||0!==f?f:0,u&&h==h){for(var p=c;p--;)if(n[p]===h)continue t;l.push(f)}else a(n,h,r)||l.push(f)}return l}sr.templateSettings={escape:mt,evaluate:bt,interpolate:wt,variable:"",imports:{_:sr}},sr.prototype=cr.prototype,sr.prototype.constructor=sr,fr.prototype=lr(cr.prototype),fr.prototype.constructor=fr,hr.prototype=lr(cr.prototype),hr.prototype.constructor=hr,pr.prototype.clear=function(){this.__data__=Ke?Ke(null):{},this.size=0},pr.prototype.delete=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},pr.prototype.get=function(t){var n=this.__data__;if(Ke){var e=n[t];return e===u?i:e}return rn.call(n,t)?n[t]:i},pr.prototype.has=function(t){var n=this.__data__;return Ke?n[t]!==i:rn.call(n,t)},pr.prototype.set=function(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=Ke&&n===i?u:n,this},dr.prototype.clear=function(){this.__data__=[],this.size=0},dr.prototype.delete=function(t){var n=this.__data__,e=Ar(n,t);return!(e<0||(e==n.length-1?n.pop():yn.call(n,e,1),--this.size,0))},dr.prototype.get=function(t){var n=this.__data__,e=Ar(n,t);return e<0?i:n[e][1]},dr.prototype.has=function(t){return Ar(this.__data__,t)>-1},dr.prototype.set=function(t,n){var e=this.__data__,r=Ar(e,t);return r<0?(++this.size,e.push([t,n])):e[r][1]=n,this},_r.prototype.clear=function(){this.size=0,this.__data__={hash:new pr,map:new($e||dr),string:new pr}},_r.prototype.delete=function(t){var n=Co(this,t).delete(t);return this.size-=n?1:0,n},_r.prototype.get=function(t){return Co(this,t).get(t)},_r.prototype.has=function(t){return Co(this,t).has(t)},_r.prototype.set=function(t,n){var e=Co(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this},gr.prototype.add=gr.prototype.push=function(t){return this.__data__.set(t,u),this},gr.prototype.has=function(t){return this.__data__.has(t)},vr.prototype.clear=function(){this.__data__=new dr,this.size=0},vr.prototype.delete=function(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e},vr.prototype.get=function(t){return this.__data__.get(t)},vr.prototype.has=function(t){return this.__data__.has(t)},vr.prototype.set=function(t,n){var e=this.__data__;if(e instanceof dr){var r=e.__data__;if(!$e||r.length<o-1)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new _r(r)}return e.set(t,n),this.size=e.size,this};var Or=to(Hr),Dr=to(qr,!0);function Ir(t,n){var e=!0;return Or(t,(function(t,r,i){return e=!!n(t,r,i)})),e}function Rr(t,n,e){for(var r=-1,o=t.length;++r<o;){var a=t[r],u=n(a);if(null!=u&&(s===i?u==u&&!Cu(u):e(u,s)))var s=u,l=a}return l}function Ur(t,n){var e=[];return Or(t,(function(t,r,i){n(t,r,i)&&e.push(t)})),e}function Br(t,n,e,r,i){var o=-1,a=t.length;for(e||(e=Bo),i||(i=[]);++o<a;){var u=t[o];n>0&&e(u)?n>1?Br(u,n-1,e,r,i):re(i,u):r||(i[i.length]=u)}return i}var Pr=no(),Fr=no(!0);function Hr(t,n){return t&&Pr(t,n,ts)}function qr(t,n){return t&&Fr(t,n,ts)}function Vr(t,n){return Qn(n,(function(n){return bu(t[n])}))}function Wr(t,n){for(var e=0,r=(n=Pi(n,t)).length;null!=t&&e<r;)t=t[aa(n[e++])];return e&&e==r?t:i}function Yr(t,n,e){var r=n(t);return pu(t)?r:re(r,e(t))}function $r(t){return null==t?t===i?Q:W:Mn&&Mn in Xt(t)?function(t){var n=rn.call(t,Mn),e=t[Mn];try{t[Mn]=i;var r=!0}catch(t){}var o=un.call(t);return r&&(n?t[Mn]=e:delete t[Mn]),o}(t):function(t){return un.call(t)}(t)}function Xr(t,n){return t>n}function Zr(t,n){return null!=t&&rn.call(t,n)}function Gr(t,n){return null!=t&&n in Xt(t)}function Kr(t,n,e){for(var o=e?ne:te,a=t[0].length,u=t.length,s=u,l=r(u),c=1/0,f=[];s--;){var h=t[s];s&&n&&(h=ee(h,be(n))),c=Fe(h.length,c),l[s]=!e&&(n||a>=120&&h.length>=120)?new gr(s&&h):i}h=t[0];var p=-1,d=l[0];t:for(;++p<a&&f.length<c;){var _=h[p],g=n?n(_):_;if(_=e||0!==_?_:0,!(d?xe(d,g):o(f,g,e))){for(s=u;--s;){var v=l[s];if(!(v?xe(v,g):o(t[s],g,e)))continue t}d&&d.push(g),f.push(_)}}return f}function Jr(t,n,e){var r=null==(t=Zo(t,n=Pi(n,t)))?t:t[aa(ma(n))];return null==r?i:Xn(r,t,e)}function Qr(t){return Au(t)&&$r(t)==O}function ti(t,n,e,r,o){return t===n||(null==t||null==n||!Au(t)&&!Au(n)?t!=t&&n!=n:function(t,n,e,r,o,a){var u=pu(t),s=pu(n),l=u?D:Io(t),c=s?D:Io(n),f=(l=l==O?Y:l)==Y,d=(c=c==O?Y:c)==Y,_=l==c;if(_&&vu(t)){if(!vu(n))return!1;u=!0,f=!1}if(_&&!f)return a||(a=new vr),u||ju(t)?Mo(t,n,e,r,o,a):function(t,n,e,r,i,o,a){switch(e){case et:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case nt:return!(t.byteLength!=n.byteLength||!o(new pn(t),new pn(n)));case R:case U:case V:return lu(+t,+n);case P:return t.name==n.name&&t.message==n.message;case Z:case K:return t==n+"";case q:var u=Te;case G:var s=r&h;if(u||(u=je),t.size!=n.size&&!s)return!1;var l=a.get(t);if(l)return l==n;r|=p,a.set(t,n);var c=Mo(u(t),u(n),r,i,o,a);return a.delete(t),c;case J:if(ar)return ar.call(t)==ar.call(n)}return!1}(t,n,l,e,r,o,a);if(!(e&h)){var g=f&&rn.call(t,"__wrapped__"),v=d&&rn.call(n,"__wrapped__");if(g||v){var y=g?t.value():t,m=v?n.value():n;return a||(a=new vr),o(y,m,e,r,a)}}return!!_&&(a||(a=new vr),function(t,n,e,r,o,a){var u=e&h,s=ko(t),l=s.length;if(l!=ko(n).length&&!u)return!1;for(var c=l;c--;){var f=s[c];if(!(u?f in n:rn.call(n,f)))return!1}var p=a.get(t),d=a.get(n);if(p&&d)return p==n&&d==t;var _=!0;a.set(t,n),a.set(n,t);for(var g=u;++c<l;){var v=t[f=s[c]],y=n[f];if(r)var m=u?r(y,v,f,n,t,a):r(v,y,f,t,n,a);if(!(m===i?v===y||o(v,y,e,r,a):m)){_=!1;break}g||(g="constructor"==f)}if(_&&!g){var b=t.constructor,w=n.constructor;b==w||!("constructor"in t)||!("constructor"in n)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(_=!1)}return a.delete(t),a.delete(n),_}(t,n,e,r,o,a))}(t,n,e,r,ti,o))}function ni(t,n,e,r){var o=e.length,a=o,u=!r;if(null==t)return!a;for(t=Xt(t);o--;){var s=e[o];if(u&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<a;){var l=(s=e[o])[0],c=t[l],f=s[1];if(u&&s[2]){if(c===i&&!(l in t))return!1}else{var d=new vr;if(r)var _=r(c,f,l,t,n,d);if(!(_===i?ti(f,c,h|p,r,d):_))return!1}}return!0}function ei(t){return!(!Mu(t)||(n=t,an&&an in n))&&(bu(t)?cn:Bt).test(ua(t));var n}function ri(t){return"function"==typeof t?t:null==t?Ns:"object"==typeof t?pu(t)?si(t[0],t[1]):ui(t):Ds(t)}function ii(t){if(!Wo(t))return Be(t);var n=[];for(var e in Xt(t))rn.call(t,e)&&"constructor"!=e&&n.push(e);return n}function oi(t,n){return t<n}function ai(t,n){var e=-1,i=_u(t)?r(t.length):[];return Or(t,(function(t,r,o){i[++e]=n(t,r,o)})),i}function ui(t){var n=jo(t);return 1==n.length&&n[0][2]?$o(n[0][0],n[0][1]):function(e){return e===t||ni(e,t,n)}}function si(t,n){return Ho(t)&&Yo(n)?$o(aa(t),n):function(e){var r=Zu(e,t);return r===i&&r===n?Gu(e,t):ti(n,r,h|p)}}function li(t,n,e,r,o){t!==n&&Pr(n,(function(a,u){if(o||(o=new vr),Mu(a))!function(t,n,e,r,o,a,u){var s=Go(t,e),l=Go(n,e),c=u.get(l);if(c)xr(t,e,c);else{var f=a?a(s,l,e+"",t,n,u):i,h=f===i;if(h){var p=pu(l),d=!p&&vu(l),_=!p&&!d&&ju(l);f=l,p||d||_?pu(s)?f=s:gu(s)?f=Gi(s):d?(h=!1,f=Vi(l,!0)):_?(h=!1,f=Yi(l,!0)):f=[]:Su(l)||hu(l)?(f=s,hu(s)?f=Pu(s):Mu(s)&&!bu(s)||(f=Uo(l))):h=!1}h&&(u.set(l,f),o(f,l,r,a,u),u.delete(l)),xr(t,e,f)}}(t,n,u,e,li,r,o);else{var s=r?r(Go(t,u),a,u+"",t,n,o):i;s===i&&(s=a),xr(t,u,s)}}),ns)}function ci(t,n){var e=t.length;if(e)return Po(n+=n<0?e:0,e)?t[n]:i}function fi(t,n,e){n=n.length?ee(n,(function(t){return pu(t)?function(n){return Wr(n,1===t.length?t[0]:t)}:t})):[Ns];var r=-1;n=ee(n,be(zo()));var i=ai(t,(function(t,e,i){var o=ee(n,(function(n){return n(t)}));return{criteria:o,index:++r,value:t}}));return function(t,n){var r=t.length;for(t.sort((function(t,n){return function(t,n,e){for(var r=-1,i=t.criteria,o=n.criteria,a=i.length,u=e.length;++r<a;){var s=$i(i[r],o[r]);if(s)return r>=u?s:s*("desc"==e[r]?-1:1)}return t.index-n.index}(t,n,e)}));r--;)t[r]=t[r].value;return t}(i)}function hi(t,n,e){for(var r=-1,i=n.length,o={};++r<i;){var a=n[r],u=Wr(t,a);e(u,a)&&bi(o,Pi(a,t),u)}return o}function pi(t,n,e,r){var i=r?fe:ce,o=-1,a=n.length,u=t;for(t===n&&(n=Gi(n)),e&&(u=ee(t,be(e)));++o<a;)for(var s=0,l=n[o],c=e?e(l):l;(s=i(u,c,s,r))>-1;)u!==t&&yn.call(u,s,1),yn.call(t,s,1);return t}function di(t,n){for(var e=t?n.length:0,r=e-1;e--;){var i=n[e];if(e==r||i!==o){var o=i;Po(i)?yn.call(t,i,1):ji(t,i)}}return t}function _i(t,n){return t+Un(Ve()*(n-t+1))}function gi(t,n){var e="";if(!t||n<1||n>S)return e;do{n%2&&(e+=t),(n=Un(n/2))&&(t+=t)}while(n);return e}function vi(t,n){return Qo(Xo(t,n,Ns),t+"")}function yi(t){return mr(ls(t))}function mi(t,n){var e=ls(t);return ea(e,Tr(n,0,e.length))}function bi(t,n,e,r){if(!Mu(t))return t;for(var o=-1,a=(n=Pi(n,t)).length,u=a-1,s=t;null!=s&&++o<a;){var l=aa(n[o]),c=e;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(o!=u){var f=s[l];(c=r?r(f,l,s):i)===i&&(c=Mu(f)?f:Po(n[o+1])?[]:{})}Mr(s,l,c),s=s[l]}return t}var wi=Je?function(t,n){return Je.set(t,n),t}:Ns,xi=kn?function(t,n){return kn(t,"toString",{configurable:!0,enumerable:!1,value:Ms(n),writable:!0})}:Ns;function Mi(t){return ea(ls(t))}function Ai(t,n,e){var i=-1,o=t.length;n<0&&(n=-n>o?0:o+n),(e=e>o?o:e)<0&&(e+=o),o=n>e?0:e-n>>>0,n>>>=0;for(var a=r(o);++i<o;)a[i]=t[i+n];return a}function ki(t,n){var e;return Or(t,(function(t,r,i){return!(e=n(t,r,i))})),!!e}function Ni(t,n,e){var r=0,i=null==t?r:t.length;if("number"==typeof n&&n==n&&i<=j){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Cu(a)&&(e?a<=n:a<n)?r=o+1:i=o}return i}return Si(t,n,Ns,e)}function Si(t,n,e,r){var o=0,a=null==t?0:t.length;if(0===a)return 0;for(var u=(n=e(n))!=n,s=null===n,l=Cu(n),c=n===i;o<a;){var f=Un((o+a)/2),h=e(t[f]),p=h!==i,d=null===h,_=h==h,g=Cu(h);if(u)var v=r||_;else v=c?_&&(r||p):s?_&&p&&(r||!d):l?_&&p&&!d&&(r||!g):!d&&!g&&(r?h<=n:h<n);v?o=f+1:a=f}return Fe(a,C)}function Ei(t,n){for(var e=-1,r=t.length,i=0,o=[];++e<r;){var a=t[e],u=n?n(a):a;if(!e||!lu(u,s)){var s=u;o[i++]=0===a?0:a}}return o}function Ti(t){return"number"==typeof t?t:Cu(t)?T:+t}function zi(t){if("string"==typeof t)return t;if(pu(t))return ee(t,zi)+"";if(Cu(t))return ur?ur.call(t):"";var n=t+"";return"0"==n&&1/t==-N?"-0":n}function Ci(t,n,e){var r=-1,i=te,a=t.length,u=!0,s=[],l=s;if(e)u=!1,i=ne;else if(a>=o){var c=n?null:vo(t);if(c)return je(c);u=!1,i=xe,l=new gr}else l=n?[]:s;t:for(;++r<a;){var f=t[r],h=n?n(f):f;if(f=e||0!==f?f:0,u&&h==h){for(var p=l.length;p--;)if(l[p]===h)continue t;n&&l.push(h),s.push(f)}else i(l,h,e)||(l!==s&&l.push(h),s.push(f))}return s}function ji(t,n){return null==(t=Zo(t,n=Pi(n,t)))||delete t[aa(ma(n))]}function Li(t,n,e,r){return bi(t,n,e(Wr(t,n)),r)}function Oi(t,n,e,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&n(t[o],o,t););return e?Ai(t,r?0:o,r?o+1:i):Ai(t,r?o+1:0,r?i:o)}function Di(t,n){var e=t;return e instanceof hr&&(e=e.value()),ie(n,(function(t,n){return n.func.apply(n.thisArg,re([t],n.args))}),e)}function Ii(t,n,e){var i=t.length;if(i<2)return i?Ci(t[0]):[];for(var o=-1,a=r(i);++o<i;)for(var u=t[o],s=-1;++s<i;)s!=o&&(a[o]=Lr(a[o]||u,t[s],n,e));return Ci(Br(a,1),n,e)}function Ri(t,n,e){for(var r=-1,o=t.length,a=n.length,u={};++r<o;){var s=r<a?n[r]:i;e(u,t[r],s)}return u}function Ui(t){return gu(t)?t:[]}function Bi(t){return"function"==typeof t?t:Ns}function Pi(t,n){return pu(t)?t:Ho(t,n)?[t]:oa(Fu(t))}var Fi=vi;function Hi(t,n,e){var r=t.length;return e=e===i?r:e,!n&&e>=r?t:Ai(t,n,e)}var qi=Cn||function(t){return In.clearTimeout(t)};function Vi(t,n){if(n)return t.slice();var e=t.length,r=dn?dn(e):new t.constructor(e);return t.copy(r),r}function Wi(t){var n=new t.constructor(t.byteLength);return new pn(n).set(new pn(t)),n}function Yi(t,n){var e=n?Wi(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}function $i(t,n){if(t!==n){var e=t!==i,r=null===t,o=t==t,a=Cu(t),u=n!==i,s=null===n,l=n==n,c=Cu(n);if(!s&&!c&&!a&&t>n||a&&u&&l&&!s&&!c||r&&u&&l||!e&&l||!o)return 1;if(!r&&!a&&!c&&t<n||c&&e&&o&&!r&&!a||s&&e&&o||!u&&o||!l)return-1}return 0}function Xi(t,n,e,i){for(var o=-1,a=t.length,u=e.length,s=-1,l=n.length,c=Pe(a-u,0),f=r(l+c),h=!i;++s<l;)f[s]=n[s];for(;++o<u;)(h||o<a)&&(f[e[o]]=t[o]);for(;c--;)f[s++]=t[o++];return f}function Zi(t,n,e,i){for(var o=-1,a=t.length,u=-1,s=e.length,l=-1,c=n.length,f=Pe(a-s,0),h=r(f+c),p=!i;++o<f;)h[o]=t[o];for(var d=o;++l<c;)h[d+l]=n[l];for(;++u<s;)(p||o<a)&&(h[d+e[u]]=t[o++]);return h}function Gi(t,n){var e=-1,i=t.length;for(n||(n=r(i));++e<i;)n[e]=t[e];return n}function Ki(t,n,e,r){var o=!e;e||(e={});for(var a=-1,u=n.length;++a<u;){var s=n[a],l=r?r(e[s],t[s],s,e,t):i;l===i&&(l=t[s]),o?Sr(e,s,l):Mr(e,s,l)}return e}function Ji(t,n){return function(e,r){var i=pu(e)?Zn:kr,o=n?n():{};return i(e,t,zo(r,2),o)}}function Qi(t){return vi((function(n,e){var r=-1,o=e.length,a=o>1?e[o-1]:i,u=o>2?e[2]:i;for(a=t.length>3&&"function"==typeof a?(o--,a):i,u&&Fo(e[0],e[1],u)&&(a=o<3?i:a,o=1),n=Xt(n);++r<o;){var s=e[r];s&&t(n,s,r,a)}return n}))}function to(t,n){return function(e,r){if(null==e)return e;if(!_u(e))return t(e,r);for(var i=e.length,o=n?i:-1,a=Xt(e);(n?o--:++o<i)&&!1!==r(a[o],o,a););return e}}function no(t){return function(n,e,r){for(var i=-1,o=Xt(n),a=r(n),u=a.length;u--;){var s=a[t?u:++i];if(!1===e(o[s],s,o))break}return n}}function eo(t){return function(n){var e=Ee(n=Fu(n))?De(n):i,r=e?e[0]:n.charAt(0),o=e?Hi(e,1).join(""):n.slice(1);return r[t]()+o}}function ro(t){return function(n){return ie(bs(hs(n).replace(wn,"")),t,"")}}function io(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var e=lr(t.prototype),r=t.apply(e,n);return Mu(r)?r:e}}function oo(t){return function(n,e,r){var o=Xt(n);if(!_u(n)){var a=zo(e,3);n=ts(n),e=function(t){return a(o[t],t,o)}}var u=t(n,e,r);return u>-1?o[a?n[u]:u]:i}}function ao(t){return Ao((function(n){var e=n.length,r=e,o=fr.prototype.thru;for(t&&n.reverse();r--;){var u=n[r];if("function"!=typeof u)throw new Kt(a);if(o&&!s&&"wrapper"==Eo(u))var s=new fr([],!0)}for(r=s?r:e;++r<e;){var l=Eo(u=n[r]),c="wrapper"==l?So(u):i;s=c&&qo(c[0])&&c[1]==(w|v|m|x)&&!c[4].length&&1==c[9]?s[Eo(c[0])].apply(s,c[3]):1==u.length&&qo(u)?s[l]():s.thru(u)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&pu(r))return s.plant(r).value();for(var i=0,o=e?n[i].apply(this,t):r;++i<e;)o=n[i].call(this,o);return o}}))}function uo(t,n,e,o,a,u,s,l,c,f){var h=n&w,p=n&d,g=n&_,m=n&(v|y),b=n&M,x=g?i:io(t);return function d(){for(var _=arguments.length,v=r(_),y=_;y--;)v[y]=arguments[y];if(m)var w=To(d),M=function(t,n){for(var e=t.length,r=0;e--;)t[e]===n&&++r;return r}(v,w);if(o&&(v=Xi(v,o,a,m)),u&&(v=Zi(v,u,s,m)),_-=M,m&&_<f){var A=Ce(v,w);return _o(t,n,uo,d.placeholder,e,v,A,l,c,f-_)}var k=p?e:this,N=g?k[t]:t;return _=v.length,l?v=function(t,n){for(var e=t.length,r=Fe(n.length,e),o=Gi(t);r--;){var a=n[r];t[r]=Po(a,e)?o[a]:i}return t}(v,l):b&&_>1&&v.reverse(),h&&c<_&&(v.length=c),this&&this!==In&&this instanceof d&&(N=x||io(N)),N.apply(k,v)}}function so(t,n){return function(e,r){return function(t,n,e,r){return Hr(t,(function(t,i,o){n(r,e(t),i,o)})),r}(e,t,n(r),{})}}function lo(t,n){return function(e,r){var o;if(e===i&&r===i)return n;if(e!==i&&(o=e),r!==i){if(o===i)return r;"string"==typeof e||"string"==typeof r?(e=zi(e),r=zi(r)):(e=Ti(e),r=Ti(r)),o=t(e,r)}return o}}function co(t){return Ao((function(n){return n=ee(n,be(zo())),vi((function(e){var r=this;return t(n,(function(t){return Xn(t,r,e)}))}))}))}function fo(t,n){var e=(n=n===i?" ":zi(n)).length;if(e<2)return e?gi(n,t):n;var r=gi(n,Rn(t/Oe(n)));return Ee(n)?Hi(De(r),0,t).join(""):r.slice(0,t)}function ho(t){return function(n,e,o){return o&&"number"!=typeof o&&Fo(n,e,o)&&(e=o=i),n=Iu(n),e===i?(e=n,n=0):e=Iu(e),function(t,n,e,i){for(var o=-1,a=Pe(Rn((n-t)/(e||1)),0),u=r(a);a--;)u[i?a:++o]=t,t+=e;return u}(n,e,o=o===i?n<e?1:-1:Iu(o),t)}}function po(t){return function(n,e){return"string"==typeof n&&"string"==typeof e||(n=Bu(n),e=Bu(e)),t(n,e)}}function _o(t,n,e,r,o,a,u,s,l,c){var f=n&v;n|=f?m:b,(n&=~(f?b:m))&g||(n&=~(d|_));var h=[t,n,o,f?a:i,f?u:i,f?i:a,f?i:u,s,l,c],p=e.apply(i,h);return qo(t)&&Ko(p,h),p.placeholder=r,ta(p,t,n)}function go(t){var n=$t[t];return function(t,e){if(t=Bu(t),(e=null==e?0:Fe(Ru(e),292))&&ue(t)){var r=(Fu(t)+"e").split("e");return+((r=(Fu(n(r[0]+"e"+(+r[1]+e)))+"e").split("e"))[0]+"e"+(+r[1]-e))}return n(t)}}var vo=Ze&&1/je(new Ze([,-0]))[1]==N?function(t){return new Ze(t)}:Cs;function yo(t){return function(n){var e=Io(n);return e==q?Te(n):e==G?Le(n):function(t,n){return ee(n,(function(n){return[n,t[n]]}))}(n,t(n))}}function mo(t,n,e,o,u,l,c,f){var h=n&_;if(!h&&"function"!=typeof t)throw new Kt(a);var p=o?o.length:0;if(p||(n&=~(m|b),o=u=i),c=c===i?c:Pe(Ru(c),0),f=f===i?f:Ru(f),p-=u?u.length:0,n&b){var M=o,A=u;o=u=i}var k=h?i:So(t),N=[t,n,e,o,u,M,A,l,c,f];if(k&&function(t,n){var e=t[1],r=n[1],i=e|r,o=i<(d|_|w),a=r==w&&e==v||r==w&&e==x&&t[7].length<=n[8]||r==(w|x)&&n[7].length<=n[8]&&e==v;if(!o&&!a)return t;r&d&&(t[2]=n[2],i|=e&d?0:g);var u=n[3];if(u){var l=t[3];t[3]=l?Xi(l,u,n[4]):u,t[4]=l?Ce(t[3],s):n[4]}(u=n[5])&&(l=t[5],t[5]=l?Zi(l,u,n[6]):u,t[6]=l?Ce(t[5],s):n[6]),(u=n[7])&&(t[7]=u),r&w&&(t[8]=null==t[8]?n[8]:Fe(t[8],n[8])),null==t[9]&&(t[9]=n[9]),t[0]=n[0],t[1]=i}(N,k),t=N[0],n=N[1],e=N[2],o=N[3],u=N[4],!(f=N[9]=N[9]===i?h?0:t.length:Pe(N[9]-p,0))&&n&(v|y)&&(n&=~(v|y)),n&&n!=d)S=n==v||n==y?function(t,n,e){var o=io(t);return function a(){for(var u=arguments.length,s=r(u),l=u,c=To(a);l--;)s[l]=arguments[l];var f=u<3&&s[0]!==c&&s[u-1]!==c?[]:Ce(s,c);return(u-=f.length)<e?_o(t,n,uo,a.placeholder,i,s,f,i,i,e-u):Xn(this&&this!==In&&this instanceof a?o:t,this,s)}}(t,n,f):n!=m&&n!=(d|m)||u.length?uo.apply(i,N):function(t,n,e,i){var o=n&d,a=io(t);return function n(){for(var u=-1,s=arguments.length,l=-1,c=i.length,f=r(c+s),h=this&&this!==In&&this instanceof n?a:t;++l<c;)f[l]=i[l];for(;s--;)f[l++]=arguments[++u];return Xn(h,o?e:this,f)}}(t,n,e,o);else var S=function(t,n,e){var r=n&d,i=io(t);return function n(){return(this&&this!==In&&this instanceof n?i:t).apply(r?e:this,arguments)}}(t,n,e);return ta((k?wi:Ko)(S,N),t,n)}function bo(t,n,e,r){return t===i||lu(t,tn[e])&&!rn.call(r,e)?n:t}function wo(t,n,e,r,o,a){return Mu(t)&&Mu(n)&&(a.set(n,t),li(t,n,i,wo,a),a.delete(n)),t}function xo(t){return Su(t)?i:t}function Mo(t,n,e,r,o,a){var u=e&h,s=t.length,l=n.length;if(s!=l&&!(u&&l>s))return!1;var c=a.get(t),f=a.get(n);if(c&&f)return c==n&&f==t;var d=-1,_=!0,g=e&p?new gr:i;for(a.set(t,n),a.set(n,t);++d<s;){var v=t[d],y=n[d];if(r)var m=u?r(y,v,d,n,t,a):r(v,y,d,t,n,a);if(m!==i){if(m)continue;_=!1;break}if(g){if(!ae(n,(function(t,n){if(!xe(g,n)&&(v===t||o(v,t,e,r,a)))return g.push(n)}))){_=!1;break}}else if(v!==y&&!o(v,y,e,r,a)){_=!1;break}}return a.delete(t),a.delete(n),_}function Ao(t){return Qo(Xo(t,i,da),t+"")}function ko(t){return Yr(t,ts,Oo)}function No(t){return Yr(t,ns,Do)}var So=Je?function(t){return Je.get(t)}:Cs;function Eo(t){for(var n=t.name+"",e=Qe[n],r=rn.call(Qe,n)?e.length:0;r--;){var i=e[r],o=i.func;if(null==o||o==t)return i.name}return n}function To(t){return(rn.call(sr,"placeholder")?sr:t).placeholder}function zo(){var t=sr.iteratee||Ss;return t=t===Ss?ri:t,arguments.length?t(arguments[0],arguments[1]):t}function Co(t,n){var e,r,i=t.__data__;return("string"==(r=typeof(e=n))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e)?i["string"==typeof n?"string":"hash"]:i.map}function jo(t){for(var n=ts(t),e=n.length;e--;){var r=n[e],i=t[r];n[e]=[r,i,Yo(i)]}return n}function Lo(t,n){var e=function(t,n){return null==t?i:t[n]}(t,n);return ei(e)?e:i}var Oo=Pn?function(t){return null==t?[]:(t=Xt(t),Qn(Pn(t),(function(n){return vn.call(t,n)})))}:Us,Do=Pn?function(t){for(var n=[];t;)re(n,Oo(t)),t=_n(t);return n}:Us,Io=$r;function Ro(t,n,e){for(var r=-1,i=(n=Pi(n,t)).length,o=!1;++r<i;){var a=aa(n[r]);if(!(o=null!=t&&e(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&xu(i)&&Po(a,i)&&(pu(t)||hu(t))}function Uo(t){return"function"!=typeof t.constructor||Wo(t)?{}:lr(_n(t))}function Bo(t){return pu(t)||hu(t)||!!(mn&&t&&t[mn])}function Po(t,n){var e=typeof t;return!!(n=null==n?S:n)&&("number"==e||"symbol"!=e&&Ft.test(t))&&t>-1&&t%1==0&&t<n}function Fo(t,n,e){if(!Mu(e))return!1;var r=typeof n;return!!("number"==r?_u(e)&&Po(n,e.length):"string"==r&&n in e)&&lu(e[n],t)}function Ho(t,n){if(pu(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!Cu(t))||Mt.test(t)||!xt.test(t)||null!=n&&t in Xt(n)}function qo(t){var n=Eo(t),e=sr[n];if("function"!=typeof e||!(n in hr.prototype))return!1;if(t===e)return!0;var r=So(e);return!!r&&t===r[0]}(Ye&&Io(new Ye(new ArrayBuffer(1)))!=et||$e&&Io(new $e)!=q||Xe&&Io(Xe.resolve())!=$||Ze&&Io(new Ze)!=G||Ge&&Io(new Ge)!=tt)&&(Io=function(t){var n=$r(t),e=n==Y?t.constructor:i,r=e?ua(e):"";if(r)switch(r){case tr:return et;case nr:return q;case er:return $;case rr:return G;case ir:return tt}return n});var Vo=nn?bu:Bs;function Wo(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||tn)}function Yo(t){return t==t&&!Mu(t)}function $o(t,n){return function(e){return null!=e&&e[t]===n&&(n!==i||t in Xt(e))}}function Xo(t,n,e){return n=Pe(n===i?t.length-1:n,0),function(){for(var i=arguments,o=-1,a=Pe(i.length-n,0),u=r(a);++o<a;)u[o]=i[n+o];o=-1;for(var s=r(n+1);++o<n;)s[o]=i[o];return s[n]=e(u),Xn(t,this,s)}}function Zo(t,n){return n.length<2?t:Wr(t,Ai(n,0,-1))}function Go(t,n){if(("constructor"!==n||"function"!=typeof t[n])&&"__proto__"!=n)return t[n]}var Ko=na(wi),Jo=Dn||function(t,n){return In.setTimeout(t,n)},Qo=na(xi);function ta(t,n,e){var r=n+"";return Qo(t,function(t,n){var e=n.length;if(!e)return t;var r=e-1;return n[r]=(e>1?"& ":"")+n[r],n=n.join(e>2?", ":" "),t.replace(Tt,"{\n/* [wrapped with "+n+"] */\n")}(r,function(t,n){return Gn(L,(function(e){var r="_."+e[0];n&e[1]&&!te(t,r)&&t.push(r)})),t.sort()}(function(t){var n=t.match(zt);return n?n[1].split(Ct):[]}(r),e)))}function na(t){var n=0,e=0;return function(){var r=He(),o=k-(r-e);if(e=r,o>0){if(++n>=A)return arguments[0]}else n=0;return t.apply(i,arguments)}}function ea(t,n){var e=-1,r=t.length,o=r-1;for(n=n===i?r:n;++e<n;){var a=_i(e,o),u=t[a];t[a]=t[e],t[e]=u}return t.length=n,t}var ra,ia,oa=(ra=ru((function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(At,(function(t,e,r,i){n.push(r?i.replace(Ot,"$1"):e||t)})),n}),(function(t){return 500===ia.size&&ia.clear(),t})),ia=ra.cache,ra);function aa(t){if("string"==typeof t||Cu(t))return t;var n=t+"";return"0"==n&&1/t==-N?"-0":n}function ua(t){if(null!=t){try{return en.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function sa(t){if(t instanceof hr)return t.clone();var n=new fr(t.__wrapped__,t.__chain__);return n.__actions__=Gi(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}var la=vi((function(t,n){return gu(t)?Lr(t,Br(n,1,gu,!0)):[]})),ca=vi((function(t,n){var e=ma(n);return gu(e)&&(e=i),gu(t)?Lr(t,Br(n,1,gu,!0),zo(e,2)):[]})),fa=vi((function(t,n){var e=ma(n);return gu(e)&&(e=i),gu(t)?Lr(t,Br(n,1,gu,!0),i,e):[]}));function ha(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=null==e?0:Ru(e);return i<0&&(i=Pe(r+i,0)),le(t,zo(n,3),i)}function pa(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return e!==i&&(o=Ru(e),o=e<0?Pe(r+o,0):Fe(o,r-1)),le(t,zo(n,3),o,!0)}function da(t){return null!=t&&t.length?Br(t,1):[]}function _a(t){return t&&t.length?t[0]:i}var ga=vi((function(t){var n=ee(t,Ui);return n.length&&n[0]===t[0]?Kr(n):[]})),va=vi((function(t){var n=ma(t),e=ee(t,Ui);return n===ma(e)?n=i:e.pop(),e.length&&e[0]===t[0]?Kr(e,zo(n,2)):[]})),ya=vi((function(t){var n=ma(t),e=ee(t,Ui);return(n="function"==typeof n?n:i)&&e.pop(),e.length&&e[0]===t[0]?Kr(e,i,n):[]}));function ma(t){var n=null==t?0:t.length;return n?t[n-1]:i}var ba=vi(wa);function wa(t,n){return t&&t.length&&n&&n.length?pi(t,n):t}var xa=Ao((function(t,n){var e=null==t?0:t.length,r=Er(t,n);return di(t,ee(n,(function(t){return Po(t,e)?+t:t})).sort($i)),r}));function Ma(t){return null==t?t:We.call(t)}var Aa=vi((function(t){return Ci(Br(t,1,gu,!0))})),ka=vi((function(t){var n=ma(t);return gu(n)&&(n=i),Ci(Br(t,1,gu,!0),zo(n,2))})),Na=vi((function(t){var n=ma(t);return n="function"==typeof n?n:i,Ci(Br(t,1,gu,!0),i,n)}));function Sa(t){if(!t||!t.length)return[];var n=0;return t=Qn(t,(function(t){if(gu(t))return n=Pe(t.length,n),!0})),ye(n,(function(n){return ee(t,de(n))}))}function Ea(t,n){if(!t||!t.length)return[];var e=Sa(t);return null==n?e:ee(e,(function(t){return Xn(n,i,t)}))}var Ta=vi((function(t,n){return gu(t)?Lr(t,n):[]})),za=vi((function(t){return Ii(Qn(t,gu))})),Ca=vi((function(t){var n=ma(t);return gu(n)&&(n=i),Ii(Qn(t,gu),zo(n,2))})),ja=vi((function(t){var n=ma(t);return n="function"==typeof n?n:i,Ii(Qn(t,gu),i,n)})),La=vi(Sa),Oa=vi((function(t){var n=t.length,e=n>1?t[n-1]:i;return e="function"==typeof e?(t.pop(),e):i,Ea(t,e)}));function Da(t){var n=sr(t);return n.__chain__=!0,n}function Ia(t,n){return n(t)}var Ra=Ao((function(t){var n=t.length,e=n?t[0]:0,r=this.__wrapped__,o=function(n){return Er(n,t)};return!(n>1||this.__actions__.length)&&r instanceof hr&&Po(e)?((r=r.slice(e,+e+(n?1:0))).__actions__.push({func:Ia,args:[o],thisArg:i}),new fr(r,this.__chain__).thru((function(t){return n&&!t.length&&t.push(i),t}))):this.thru(o)})),Ua=Ji((function(t,n,e){rn.call(t,e)?++t[e]:Sr(t,e,1)})),Ba=oo(ha),Pa=oo(pa);function Fa(t,n){return(pu(t)?Gn:Or)(t,zo(n,3))}function Ha(t,n){return(pu(t)?Kn:Dr)(t,zo(n,3))}var qa=Ji((function(t,n,e){rn.call(t,e)?t[e].push(n):Sr(t,e,[n])})),Va=vi((function(t,n,e){var i=-1,o="function"==typeof n,a=_u(t)?r(t.length):[];return Or(t,(function(t){a[++i]=o?Xn(n,t,e):Jr(t,n,e)})),a})),Wa=Ji((function(t,n,e){Sr(t,e,n)}));function Ya(t,n){return(pu(t)?ee:ai)(t,zo(n,3))}var $a=Ji((function(t,n,e){t[e?0:1].push(n)}),(function(){return[[],[]]})),Xa=vi((function(t,n){if(null==t)return[];var e=n.length;return e>1&&Fo(t,n[0],n[1])?n=[]:e>2&&Fo(n[0],n[1],n[2])&&(n=[n[0]]),fi(t,Br(n,1),[])})),Za=On||function(){return In.Date.now()};function Ga(t,n,e){return n=e?i:n,n=t&&null==n?t.length:n,mo(t,w,i,i,i,i,n)}function Ka(t,n){var e;if("function"!=typeof n)throw new Kt(a);return t=Ru(t),function(){return--t>0&&(e=n.apply(this,arguments)),t<=1&&(n=i),e}}var Ja=vi((function(t,n,e){var r=d;if(e.length){var i=Ce(e,To(Ja));r|=m}return mo(t,r,n,e,i)})),Qa=vi((function(t,n,e){var r=d|_;if(e.length){var i=Ce(e,To(Qa));r|=m}return mo(n,r,t,e,i)}));function tu(t,n,e){var r,o,u,s,l,c,f=0,h=!1,p=!1,d=!0;if("function"!=typeof t)throw new Kt(a);function _(n){var e=r,a=o;return r=o=i,f=n,s=t.apply(a,e)}function g(t){var e=t-c;return c===i||e>=n||e<0||p&&t-f>=u}function v(){var t=Za();if(g(t))return y(t);l=Jo(v,function(t){var e=n-(t-c);return p?Fe(e,u-(t-f)):e}(t))}function y(t){return l=i,d&&r?_(t):(r=o=i,s)}function m(){var t=Za(),e=g(t);if(r=arguments,o=this,c=t,e){if(l===i)return function(t){return f=t,l=Jo(v,n),h?_(t):s}(c);if(p)return qi(l),l=Jo(v,n),_(c)}return l===i&&(l=Jo(v,n)),s}return n=Bu(n)||0,Mu(e)&&(h=!!e.leading,u=(p="maxWait"in e)?Pe(Bu(e.maxWait)||0,n):u,d="trailing"in e?!!e.trailing:d),m.cancel=function(){l!==i&&qi(l),f=0,r=c=o=l=i},m.flush=function(){return l===i?s:y(Za())},m}var nu=vi((function(t,n){return jr(t,1,n)})),eu=vi((function(t,n,e){return jr(t,Bu(n)||0,e)}));function ru(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new Kt(a);var e=function(){var r=arguments,i=n?n.apply(this,r):r[0],o=e.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return e.cache=o.set(i,a)||o,a};return e.cache=new(ru.Cache||_r),e}function iu(t){if("function"!=typeof t)throw new Kt(a);return function(){var n=arguments;switch(n.length){case 0:return!t.call(this);case 1:return!t.call(this,n[0]);case 2:return!t.call(this,n[0],n[1]);case 3:return!t.call(this,n[0],n[1],n[2])}return!t.apply(this,n)}}ru.Cache=_r;var ou=Fi((function(t,n){var e=(n=1==n.length&&pu(n[0])?ee(n[0],be(zo())):ee(Br(n,1),be(zo()))).length;return vi((function(r){for(var i=-1,o=Fe(r.length,e);++i<o;)r[i]=n[i].call(this,r[i]);return Xn(t,this,r)}))})),au=vi((function(t,n){var e=Ce(n,To(au));return mo(t,m,i,n,e)})),uu=vi((function(t,n){var e=Ce(n,To(uu));return mo(t,b,i,n,e)})),su=Ao((function(t,n){return mo(t,x,i,i,i,n)}));function lu(t,n){return t===n||t!=t&&n!=n}var cu=po(Xr),fu=po((function(t,n){return t>=n})),hu=Qr(function(){return arguments}())?Qr:function(t){return Au(t)&&rn.call(t,"callee")&&!vn.call(t,"callee")},pu=r.isArray,du=Hn?be(Hn):function(t){return Au(t)&&$r(t)==nt};function _u(t){return null!=t&&xu(t.length)&&!bu(t)}function gu(t){return Au(t)&&_u(t)}var vu=Fn||Bs,yu=qn?be(qn):function(t){return Au(t)&&$r(t)==U};function mu(t){if(!Au(t))return!1;var n=$r(t);return n==P||n==B||"string"==typeof t.message&&"string"==typeof t.name&&!Su(t)}function bu(t){if(!Mu(t))return!1;var n=$r(t);return n==F||n==H||n==I||n==X}function wu(t){return"number"==typeof t&&t==Ru(t)}function xu(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=S}function Mu(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}function Au(t){return null!=t&&"object"==typeof t}var ku=Vn?be(Vn):function(t){return Au(t)&&Io(t)==q};function Nu(t){return"number"==typeof t||Au(t)&&$r(t)==V}function Su(t){if(!Au(t)||$r(t)!=Y)return!1;var n=_n(t);if(null===n)return!0;var e=rn.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&en.call(e)==sn}var Eu=Wn?be(Wn):function(t){return Au(t)&&$r(t)==Z},Tu=Yn?be(Yn):function(t){return Au(t)&&Io(t)==G};function zu(t){return"string"==typeof t||!pu(t)&&Au(t)&&$r(t)==K}function Cu(t){return"symbol"==typeof t||Au(t)&&$r(t)==J}var ju=$n?be($n):function(t){return Au(t)&&xu(t.length)&&!!Tn[$r(t)]},Lu=po(oi),Ou=po((function(t,n){return t<=n}));function Du(t){if(!t)return[];if(_u(t))return zu(t)?De(t):Gi(t);if(bn&&t[bn])return function(t){for(var n,e=[];!(n=t.next()).done;)e.push(n.value);return e}(t[bn]());var n=Io(t);return(n==q?Te:n==G?je:ls)(t)}function Iu(t){return t?(t=Bu(t))===N||t===-N?(t<0?-1:1)*E:t==t?t:0:0===t?t:0}function Ru(t){var n=Iu(t),e=n%1;return n==n?e?n-e:n:0}function Uu(t){return t?Tr(Ru(t),0,z):0}function Bu(t){if("number"==typeof t)return t;if(Cu(t))return T;if(Mu(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=Mu(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=me(t);var e=Ut.test(t);return e||Pt.test(t)?Ln(t.slice(2),e?2:8):Rt.test(t)?T:+t}function Pu(t){return Ki(t,ns(t))}function Fu(t){return null==t?"":zi(t)}var Hu=Qi((function(t,n){if(Wo(n)||_u(n))Ki(n,ts(n),t);else for(var e in n)rn.call(n,e)&&Mr(t,e,n[e])})),qu=Qi((function(t,n){Ki(n,ns(n),t)})),Vu=Qi((function(t,n,e,r){Ki(n,ns(n),t,r)})),Wu=Qi((function(t,n,e,r){Ki(n,ts(n),t,r)})),Yu=Ao(Er),$u=vi((function(t,n){t=Xt(t);var e=-1,r=n.length,o=r>2?n[2]:i;for(o&&Fo(n[0],n[1],o)&&(r=1);++e<r;)for(var a=n[e],u=ns(a),s=-1,l=u.length;++s<l;){var c=u[s],f=t[c];(f===i||lu(f,tn[c])&&!rn.call(t,c))&&(t[c]=a[c])}return t})),Xu=vi((function(t){return t.push(i,wo),Xn(rs,i,t)}));function Zu(t,n,e){var r=null==t?i:Wr(t,n);return r===i?e:r}function Gu(t,n){return null!=t&&Ro(t,n,Gr)}var Ku=so((function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=un.call(n)),t[n]=e}),Ms(Ns)),Ju=so((function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=un.call(n)),rn.call(t,n)?t[n].push(e):t[n]=[e]}),zo),Qu=vi(Jr);function ts(t){return _u(t)?yr(t):ii(t)}function ns(t){return _u(t)?yr(t,!0):function(t){if(!Mu(t))return function(t){var n=[];if(null!=t)for(var e in Xt(t))n.push(e);return n}(t);var n=Wo(t),e=[];for(var r in t)("constructor"!=r||!n&&rn.call(t,r))&&e.push(r);return e}(t)}var es=Qi((function(t,n,e){li(t,n,e)})),rs=Qi((function(t,n,e,r){li(t,n,e,r)})),is=Ao((function(t,n){var e={};if(null==t)return e;var r=!1;n=ee(n,(function(n){return n=Pi(n,t),r||(r=n.length>1),n})),Ki(t,No(t),e),r&&(e=zr(e,l|c|f,xo));for(var i=n.length;i--;)ji(e,n[i]);return e})),os=Ao((function(t,n){return null==t?{}:function(t,n){return hi(t,n,(function(n,e){return Gu(t,e)}))}(t,n)}));function as(t,n){if(null==t)return{};var e=ee(No(t),(function(t){return[t]}));return n=zo(n),hi(t,e,(function(t,e){return n(t,e[0])}))}var us=yo(ts),ss=yo(ns);function ls(t){return null==t?[]:we(t,ts(t))}var cs=ro((function(t,n,e){return n=n.toLowerCase(),t+(e?fs(n):n)}));function fs(t){return ms(Fu(t).toLowerCase())}function hs(t){return(t=Fu(t))&&t.replace(Ht,ke).replace(xn,"")}var ps=ro((function(t,n,e){return t+(e?"-":"")+n.toLowerCase()})),ds=ro((function(t,n,e){return t+(e?" ":"")+n.toLowerCase()})),_s=eo("toLowerCase"),gs=ro((function(t,n,e){return t+(e?"_":"")+n.toLowerCase()})),vs=ro((function(t,n,e){return t+(e?" ":"")+ms(n)})),ys=ro((function(t,n,e){return t+(e?" ":"")+n.toUpperCase()})),ms=eo("toUpperCase");function bs(t,n,e){return t=Fu(t),(n=e?i:n)===i?function(t){return Nn.test(t)}(t)?function(t){return t.match(An)||[]}(t):function(t){return t.match(jt)||[]}(t):t.match(n)||[]}var ws=vi((function(t,n){try{return Xn(t,i,n)}catch(t){return mu(t)?t:new Wt(t)}})),xs=Ao((function(t,n){return Gn(n,(function(n){n=aa(n),Sr(t,n,Ja(t[n],t))})),t}));function Ms(t){return function(){return t}}var As=ao(),ks=ao(!0);function Ns(t){return t}function Ss(t){return ri("function"==typeof t?t:zr(t,l))}var Es=vi((function(t,n){return function(e){return Jr(e,t,n)}})),Ts=vi((function(t,n){return function(e){return Jr(t,e,n)}}));function zs(t,n,e){var r=ts(n),i=Vr(n,r);null!=e||Mu(n)&&(i.length||!r.length)||(e=n,n=t,t=this,i=Vr(n,ts(n)));var o=!(Mu(e)&&"chain"in e&&!e.chain),a=bu(t);return Gn(i,(function(e){var r=n[e];t[e]=r,a&&(t.prototype[e]=function(){var n=this.__chain__;if(o||n){var e=t(this.__wrapped__);return(e.__actions__=Gi(this.__actions__)).push({func:r,args:arguments,thisArg:t}),e.__chain__=n,e}return r.apply(t,re([this.value()],arguments))})})),t}function Cs(){}var js=co(ee),Ls=co(Jn),Os=co(ae);function Ds(t){return Ho(t)?de(aa(t)):function(t){return function(n){return Wr(n,t)}}(t)}var Is=ho(),Rs=ho(!0);function Us(){return[]}function Bs(){return!1}var Ps,Fs=lo((function(t,n){return t+n}),0),Hs=go("ceil"),qs=lo((function(t,n){return t/n}),1),Vs=go("floor"),Ws=lo((function(t,n){return t*n}),1),Ys=go("round"),$s=lo((function(t,n){return t-n}),0);return sr.after=function(t,n){if("function"!=typeof n)throw new Kt(a);return t=Ru(t),function(){if(--t<1)return n.apply(this,arguments)}},sr.ary=Ga,sr.assign=Hu,sr.assignIn=qu,sr.assignInWith=Vu,sr.assignWith=Wu,sr.at=Yu,sr.before=Ka,sr.bind=Ja,sr.bindAll=xs,sr.bindKey=Qa,sr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return pu(t)?t:[t]},sr.chain=Da,sr.chunk=function(t,n,e){n=(e?Fo(t,n,e):n===i)?1:Pe(Ru(n),0);var o=null==t?0:t.length;if(!o||n<1)return[];for(var a=0,u=0,s=r(Rn(o/n));a<o;)s[u++]=Ai(t,a,a+=n);return s},sr.compact=function(t){for(var n=-1,e=null==t?0:t.length,r=0,i=[];++n<e;){var o=t[n];o&&(i[r++]=o)}return i},sr.concat=function(){var t=arguments.length;if(!t)return[];for(var n=r(t-1),e=arguments[0],i=t;i--;)n[i-1]=arguments[i];return re(pu(e)?Gi(e):[e],Br(n,1))},sr.cond=function(t){var n=null==t?0:t.length,e=zo();return t=n?ee(t,(function(t){if("function"!=typeof t[1])throw new Kt(a);return[e(t[0]),t[1]]})):[],vi((function(e){for(var r=-1;++r<n;){var i=t[r];if(Xn(i[0],this,e))return Xn(i[1],this,e)}}))},sr.conforms=function(t){return function(t){var n=ts(t);return function(e){return Cr(e,t,n)}}(zr(t,l))},sr.constant=Ms,sr.countBy=Ua,sr.create=function(t,n){var e=lr(t);return null==n?e:Nr(e,n)},sr.curry=function t(n,e,r){var o=mo(n,v,i,i,i,i,i,e=r?i:e);return o.placeholder=t.placeholder,o},sr.curryRight=function t(n,e,r){var o=mo(n,y,i,i,i,i,i,e=r?i:e);return o.placeholder=t.placeholder,o},sr.debounce=tu,sr.defaults=$u,sr.defaultsDeep=Xu,sr.defer=nu,sr.delay=eu,sr.difference=la,sr.differenceBy=ca,sr.differenceWith=fa,sr.drop=function(t,n,e){var r=null==t?0:t.length;return r?Ai(t,(n=e||n===i?1:Ru(n))<0?0:n,r):[]},sr.dropRight=function(t,n,e){var r=null==t?0:t.length;return r?Ai(t,0,(n=r-(n=e||n===i?1:Ru(n)))<0?0:n):[]},sr.dropRightWhile=function(t,n){return t&&t.length?Oi(t,zo(n,3),!0,!0):[]},sr.dropWhile=function(t,n){return t&&t.length?Oi(t,zo(n,3),!0):[]},sr.fill=function(t,n,e,r){var o=null==t?0:t.length;return o?(e&&"number"!=typeof e&&Fo(t,n,e)&&(e=0,r=o),function(t,n,e,r){var o=t.length;for((e=Ru(e))<0&&(e=-e>o?0:o+e),(r=r===i||r>o?o:Ru(r))<0&&(r+=o),r=e>r?0:Uu(r);e<r;)t[e++]=n;return t}(t,n,e,r)):[]},sr.filter=function(t,n){return(pu(t)?Qn:Ur)(t,zo(n,3))},sr.flatMap=function(t,n){return Br(Ya(t,n),1)},sr.flatMapDeep=function(t,n){return Br(Ya(t,n),N)},sr.flatMapDepth=function(t,n,e){return e=e===i?1:Ru(e),Br(Ya(t,n),e)},sr.flatten=da,sr.flattenDeep=function(t){return null!=t&&t.length?Br(t,N):[]},sr.flattenDepth=function(t,n){return null!=t&&t.length?Br(t,n=n===i?1:Ru(n)):[]},sr.flip=function(t){return mo(t,M)},sr.flow=As,sr.flowRight=ks,sr.fromPairs=function(t){for(var n=-1,e=null==t?0:t.length,r={};++n<e;){var i=t[n];r[i[0]]=i[1]}return r},sr.functions=function(t){return null==t?[]:Vr(t,ts(t))},sr.functionsIn=function(t){return null==t?[]:Vr(t,ns(t))},sr.groupBy=qa,sr.initial=function(t){return null!=t&&t.length?Ai(t,0,-1):[]},sr.intersection=ga,sr.intersectionBy=va,sr.intersectionWith=ya,sr.invert=Ku,sr.invertBy=Ju,sr.invokeMap=Va,sr.iteratee=Ss,sr.keyBy=Wa,sr.keys=ts,sr.keysIn=ns,sr.map=Ya,sr.mapKeys=function(t,n){var e={};return n=zo(n,3),Hr(t,(function(t,r,i){Sr(e,n(t,r,i),t)})),e},sr.mapValues=function(t,n){var e={};return n=zo(n,3),Hr(t,(function(t,r,i){Sr(e,r,n(t,r,i))})),e},sr.matches=function(t){return ui(zr(t,l))},sr.matchesProperty=function(t,n){return si(t,zr(n,l))},sr.memoize=ru,sr.merge=es,sr.mergeWith=rs,sr.method=Es,sr.methodOf=Ts,sr.mixin=zs,sr.negate=iu,sr.nthArg=function(t){return t=Ru(t),vi((function(n){return ci(n,t)}))},sr.omit=is,sr.omitBy=function(t,n){return as(t,iu(zo(n)))},sr.once=function(t){return Ka(2,t)},sr.orderBy=function(t,n,e,r){return null==t?[]:(pu(n)||(n=null==n?[]:[n]),pu(e=r?i:e)||(e=null==e?[]:[e]),fi(t,n,e))},sr.over=js,sr.overArgs=ou,sr.overEvery=Ls,sr.overSome=Os,sr.partial=au,sr.partialRight=uu,sr.partition=$a,sr.pick=os,sr.pickBy=as,sr.property=Ds,sr.propertyOf=function(t){return function(n){return null==t?i:Wr(t,n)}},sr.pull=ba,sr.pullAll=wa,sr.pullAllBy=function(t,n,e){return t&&t.length&&n&&n.length?pi(t,n,zo(e,2)):t},sr.pullAllWith=function(t,n,e){return t&&t.length&&n&&n.length?pi(t,n,i,e):t},sr.pullAt=xa,sr.range=Is,sr.rangeRight=Rs,sr.rearg=su,sr.reject=function(t,n){return(pu(t)?Qn:Ur)(t,iu(zo(n,3)))},sr.remove=function(t,n){var e=[];if(!t||!t.length)return e;var r=-1,i=[],o=t.length;for(n=zo(n,3);++r<o;){var a=t[r];n(a,r,t)&&(e.push(a),i.push(r))}return di(t,i),e},sr.rest=function(t,n){if("function"!=typeof t)throw new Kt(a);return vi(t,n=n===i?n:Ru(n))},sr.reverse=Ma,sr.sampleSize=function(t,n,e){return n=(e?Fo(t,n,e):n===i)?1:Ru(n),(pu(t)?br:mi)(t,n)},sr.set=function(t,n,e){return null==t?t:bi(t,n,e)},sr.setWith=function(t,n,e,r){return r="function"==typeof r?r:i,null==t?t:bi(t,n,e,r)},sr.shuffle=function(t){return(pu(t)?wr:Mi)(t)},sr.slice=function(t,n,e){var r=null==t?0:t.length;return r?(e&&"number"!=typeof e&&Fo(t,n,e)?(n=0,e=r):(n=null==n?0:Ru(n),e=e===i?r:Ru(e)),Ai(t,n,e)):[]},sr.sortBy=Xa,sr.sortedUniq=function(t){return t&&t.length?Ei(t):[]},sr.sortedUniqBy=function(t,n){return t&&t.length?Ei(t,zo(n,2)):[]},sr.split=function(t,n,e){return e&&"number"!=typeof e&&Fo(t,n,e)&&(n=e=i),(e=e===i?z:e>>>0)?(t=Fu(t))&&("string"==typeof n||null!=n&&!Eu(n))&&!(n=zi(n))&&Ee(t)?Hi(De(t),0,e):t.split(n,e):[]},sr.spread=function(t,n){if("function"!=typeof t)throw new Kt(a);return n=null==n?0:Pe(Ru(n),0),vi((function(e){var r=e[n],i=Hi(e,0,n);return r&&re(i,r),Xn(t,this,i)}))},sr.tail=function(t){var n=null==t?0:t.length;return n?Ai(t,1,n):[]},sr.take=function(t,n,e){return t&&t.length?Ai(t,0,(n=e||n===i?1:Ru(n))<0?0:n):[]},sr.takeRight=function(t,n,e){var r=null==t?0:t.length;return r?Ai(t,(n=r-(n=e||n===i?1:Ru(n)))<0?0:n,r):[]},sr.takeRightWhile=function(t,n){return t&&t.length?Oi(t,zo(n,3),!1,!0):[]},sr.takeWhile=function(t,n){return t&&t.length?Oi(t,zo(n,3)):[]},sr.tap=function(t,n){return n(t),t},sr.throttle=function(t,n,e){var r=!0,i=!0;if("function"!=typeof t)throw new Kt(a);return Mu(e)&&(r="leading"in e?!!e.leading:r,i="trailing"in e?!!e.trailing:i),tu(t,n,{leading:r,maxWait:n,trailing:i})},sr.thru=Ia,sr.toArray=Du,sr.toPairs=us,sr.toPairsIn=ss,sr.toPath=function(t){return pu(t)?ee(t,aa):Cu(t)?[t]:Gi(oa(Fu(t)))},sr.toPlainObject=Pu,sr.transform=function(t,n,e){var r=pu(t),i=r||vu(t)||ju(t);if(n=zo(n,4),null==e){var o=t&&t.constructor;e=i?r?new o:[]:Mu(t)&&bu(o)?lr(_n(t)):{}}return(i?Gn:Hr)(t,(function(t,r,i){return n(e,t,r,i)})),e},sr.unary=function(t){return Ga(t,1)},sr.union=Aa,sr.unionBy=ka,sr.unionWith=Na,sr.uniq=function(t){return t&&t.length?Ci(t):[]},sr.uniqBy=function(t,n){return t&&t.length?Ci(t,zo(n,2)):[]},sr.uniqWith=function(t,n){return n="function"==typeof n?n:i,t&&t.length?Ci(t,i,n):[]},sr.unset=function(t,n){return null==t||ji(t,n)},sr.unzip=Sa,sr.unzipWith=Ea,sr.update=function(t,n,e){return null==t?t:Li(t,n,Bi(e))},sr.updateWith=function(t,n,e,r){return r="function"==typeof r?r:i,null==t?t:Li(t,n,Bi(e),r)},sr.values=ls,sr.valuesIn=function(t){return null==t?[]:we(t,ns(t))},sr.without=Ta,sr.words=bs,sr.wrap=function(t,n){return au(Bi(n),t)},sr.xor=za,sr.xorBy=Ca,sr.xorWith=ja,sr.zip=La,sr.zipObject=function(t,n){return Ri(t||[],n||[],Mr)},sr.zipObjectDeep=function(t,n){return Ri(t||[],n||[],bi)},sr.zipWith=Oa,sr.entries=us,sr.entriesIn=ss,sr.extend=qu,sr.extendWith=Vu,zs(sr,sr),sr.add=Fs,sr.attempt=ws,sr.camelCase=cs,sr.capitalize=fs,sr.ceil=Hs,sr.clamp=function(t,n,e){return e===i&&(e=n,n=i),e!==i&&(e=(e=Bu(e))==e?e:0),n!==i&&(n=(n=Bu(n))==n?n:0),Tr(Bu(t),n,e)},sr.clone=function(t){return zr(t,f)},sr.cloneDeep=function(t){return zr(t,l|f)},sr.cloneDeepWith=function(t,n){return zr(t,l|f,n="function"==typeof n?n:i)},sr.cloneWith=function(t,n){return zr(t,f,n="function"==typeof n?n:i)},sr.conformsTo=function(t,n){return null==n||Cr(t,n,ts(n))},sr.deburr=hs,sr.defaultTo=function(t,n){return null==t||t!=t?n:t},sr.divide=qs,sr.endsWith=function(t,n,e){t=Fu(t),n=zi(n);var r=t.length,o=e=e===i?r:Tr(Ru(e),0,r);return(e-=n.length)>=0&&t.slice(e,o)==n},sr.eq=lu,sr.escape=function(t){return(t=Fu(t))&&yt.test(t)?t.replace(gt,Ne):t},sr.escapeRegExp=function(t){return(t=Fu(t))&&Nt.test(t)?t.replace(kt,"\\$&"):t},sr.every=function(t,n,e){var r=pu(t)?Jn:Ir;return e&&Fo(t,n,e)&&(n=i),r(t,zo(n,3))},sr.find=Ba,sr.findIndex=ha,sr.findKey=function(t,n){return se(t,zo(n,3),Hr)},sr.findLast=Pa,sr.findLastIndex=pa,sr.findLastKey=function(t,n){return se(t,zo(n,3),qr)},sr.floor=Vs,sr.forEach=Fa,sr.forEachRight=Ha,sr.forIn=function(t,n){return null==t?t:Pr(t,zo(n,3),ns)},sr.forInRight=function(t,n){return null==t?t:Fr(t,zo(n,3),ns)},sr.forOwn=function(t,n){return t&&Hr(t,zo(n,3))},sr.forOwnRight=function(t,n){return t&&qr(t,zo(n,3))},sr.get=Zu,sr.gt=cu,sr.gte=fu,sr.has=function(t,n){return null!=t&&Ro(t,n,Zr)},sr.hasIn=Gu,sr.head=_a,sr.identity=Ns,sr.includes=function(t,n,e,r){t=_u(t)?t:ls(t),e=e&&!r?Ru(e):0;var i=t.length;return e<0&&(e=Pe(i+e,0)),zu(t)?e<=i&&t.indexOf(n,e)>-1:!!i&&ce(t,n,e)>-1},sr.indexOf=function(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=null==e?0:Ru(e);return i<0&&(i=Pe(r+i,0)),ce(t,n,i)},sr.inRange=function(t,n,e){return n=Iu(n),e===i?(e=n,n=0):e=Iu(e),function(t,n,e){return t>=Fe(n,e)&&t<Pe(n,e)}(t=Bu(t),n,e)},sr.invoke=Qu,sr.isArguments=hu,sr.isArray=pu,sr.isArrayBuffer=du,sr.isArrayLike=_u,sr.isArrayLikeObject=gu,sr.isBoolean=function(t){return!0===t||!1===t||Au(t)&&$r(t)==R},sr.isBuffer=vu,sr.isDate=yu,sr.isElement=function(t){return Au(t)&&1===t.nodeType&&!Su(t)},sr.isEmpty=function(t){if(null==t)return!0;if(_u(t)&&(pu(t)||"string"==typeof t||"function"==typeof t.splice||vu(t)||ju(t)||hu(t)))return!t.length;var n=Io(t);if(n==q||n==G)return!t.size;if(Wo(t))return!ii(t).length;for(var e in t)if(rn.call(t,e))return!1;return!0},sr.isEqual=function(t,n){return ti(t,n)},sr.isEqualWith=function(t,n,e){var r=(e="function"==typeof e?e:i)?e(t,n):i;return r===i?ti(t,n,i,e):!!r},sr.isError=mu,sr.isFinite=function(t){return"number"==typeof t&&ue(t)},sr.isFunction=bu,sr.isInteger=wu,sr.isLength=xu,sr.isMap=ku,sr.isMatch=function(t,n){return t===n||ni(t,n,jo(n))},sr.isMatchWith=function(t,n,e){return e="function"==typeof e?e:i,ni(t,n,jo(n),e)},sr.isNaN=function(t){return Nu(t)&&t!=+t},sr.isNative=function(t){if(Vo(t))throw new Wt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ei(t)},sr.isNil=function(t){return null==t},sr.isNull=function(t){return null===t},sr.isNumber=Nu,sr.isObject=Mu,sr.isObjectLike=Au,sr.isPlainObject=Su,sr.isRegExp=Eu,sr.isSafeInteger=function(t){return wu(t)&&t>=-S&&t<=S},sr.isSet=Tu,sr.isString=zu,sr.isSymbol=Cu,sr.isTypedArray=ju,sr.isUndefined=function(t){return t===i},sr.isWeakMap=function(t){return Au(t)&&Io(t)==tt},sr.isWeakSet=function(t){return Au(t)&&"[object WeakSet]"==$r(t)},sr.join=function(t,n){return null==t?"":_e.call(t,n)},sr.kebabCase=ps,sr.last=ma,sr.lastIndexOf=function(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var o=r;return e!==i&&(o=(o=Ru(e))<0?Pe(r+o,0):Fe(o,r-1)),n==n?function(t,n,e){for(var r=e+1;r--;)if(t[r]===n)return r;return r}(t,n,o):le(t,he,o,!0)},sr.lowerCase=ds,sr.lowerFirst=_s,sr.lt=Lu,sr.lte=Ou,sr.max=function(t){return t&&t.length?Rr(t,Ns,Xr):i},sr.maxBy=function(t,n){return t&&t.length?Rr(t,zo(n,2),Xr):i},sr.mean=function(t){return pe(t,Ns)},sr.meanBy=function(t,n){return pe(t,zo(n,2))},sr.min=function(t){return t&&t.length?Rr(t,Ns,oi):i},sr.minBy=function(t,n){return t&&t.length?Rr(t,zo(n,2),oi):i},sr.stubArray=Us,sr.stubFalse=Bs,sr.stubObject=function(){return{}},sr.stubString=function(){return""},sr.stubTrue=function(){return!0},sr.multiply=Ws,sr.nth=function(t,n){return t&&t.length?ci(t,Ru(n)):i},sr.noConflict=function(){return In._===this&&(In._=ln),this},sr.noop=Cs,sr.now=Za,sr.pad=function(t,n,e){t=Fu(t);var r=(n=Ru(n))?Oe(t):0;if(!n||r>=n)return t;var i=(n-r)/2;return fo(Un(i),e)+t+fo(Rn(i),e)},sr.padEnd=function(t,n,e){t=Fu(t);var r=(n=Ru(n))?Oe(t):0;return n&&r<n?t+fo(n-r,e):t},sr.padStart=function(t,n,e){t=Fu(t);var r=(n=Ru(n))?Oe(t):0;return n&&r<n?fo(n-r,e)+t:t},sr.parseInt=function(t,n,e){return e||null==n?n=0:n&&(n=+n),qe(Fu(t).replace(St,""),n||0)},sr.random=function(t,n,e){if(e&&"boolean"!=typeof e&&Fo(t,n,e)&&(n=e=i),e===i&&("boolean"==typeof n?(e=n,n=i):"boolean"==typeof t&&(e=t,t=i)),t===i&&n===i?(t=0,n=1):(t=Iu(t),n===i?(n=t,t=0):n=Iu(n)),t>n){var r=t;t=n,n=r}if(e||t%1||n%1){var o=Ve();return Fe(t+o*(n-t+jn("1e-"+((o+"").length-1))),n)}return _i(t,n)},sr.reduce=function(t,n,e){var r=pu(t)?ie:ge,i=arguments.length<3;return r(t,zo(n,4),e,i,Or)},sr.reduceRight=function(t,n,e){var r=pu(t)?oe:ge,i=arguments.length<3;return r(t,zo(n,4),e,i,Dr)},sr.repeat=function(t,n,e){return n=(e?Fo(t,n,e):n===i)?1:Ru(n),gi(Fu(t),n)},sr.replace=function(){var t=arguments,n=Fu(t[0]);return t.length<3?n:n.replace(t[1],t[2])},sr.result=function(t,n,e){var r=-1,o=(n=Pi(n,t)).length;for(o||(o=1,t=i);++r<o;){var a=null==t?i:t[aa(n[r])];a===i&&(r=o,a=e),t=bu(a)?a.call(t):a}return t},sr.round=Ys,sr.runInContext=t,sr.sample=function(t){return(pu(t)?mr:yi)(t)},sr.size=function(t){if(null==t)return 0;if(_u(t))return zu(t)?Oe(t):t.length;var n=Io(t);return n==q||n==G?t.size:ii(t).length},sr.snakeCase=gs,sr.some=function(t,n,e){var r=pu(t)?ae:ki;return e&&Fo(t,n,e)&&(n=i),r(t,zo(n,3))},sr.sortedIndex=function(t,n){return Ni(t,n)},sr.sortedIndexBy=function(t,n,e){return Si(t,n,zo(e,2))},sr.sortedIndexOf=function(t,n){var e=null==t?0:t.length;if(e){var r=Ni(t,n);if(r<e&&lu(t[r],n))return r}return-1},sr.sortedLastIndex=function(t,n){return Ni(t,n,!0)},sr.sortedLastIndexBy=function(t,n,e){return Si(t,n,zo(e,2),!0)},sr.sortedLastIndexOf=function(t,n){if(null!=t&&t.length){var e=Ni(t,n,!0)-1;if(lu(t[e],n))return e}return-1},sr.startCase=vs,sr.startsWith=function(t,n,e){return t=Fu(t),e=null==e?0:Tr(Ru(e),0,t.length),n=zi(n),t.slice(e,e+n.length)==n},sr.subtract=$s,sr.sum=function(t){return t&&t.length?ve(t,Ns):0},sr.sumBy=function(t,n){return t&&t.length?ve(t,zo(n,2)):0},sr.template=function(t,n,e){var r=sr.templateSettings;e&&Fo(t,n,e)&&(n=i),t=Fu(t),n=Vu({},n,r,bo);var o,a,u=Vu({},n.imports,r.imports,bo),s=ts(u),l=we(u,s),c=0,f=n.interpolate||qt,h="__p += '",p=Zt((n.escape||qt).source+"|"+f.source+"|"+(f===wt?Dt:qt).source+"|"+(n.evaluate||qt).source+"|$","g"),d="//# sourceURL="+(rn.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++En+"]")+"\n";t.replace(p,(function(n,e,r,i,u,s){return r||(r=i),h+=t.slice(c,s).replace(Vt,Se),e&&(o=!0,h+="' +\n__e("+e+") +\n'"),u&&(a=!0,h+="';\n"+u+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=s+n.length,n})),h+="';\n";var _=rn.call(n,"variable")&&n.variable;if(_){if(Lt.test(_))throw new Wt("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(a?h.replace(ht,""):h).replace(pt,"$1").replace(dt,"$1;"),h="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=ws((function(){return Yt(s,d+"return "+h).apply(i,l)}));if(g.source=h,mu(g))throw g;return g},sr.times=function(t,n){if((t=Ru(t))<1||t>S)return[];var e=z,r=Fe(t,z);n=zo(n),t-=z;for(var i=ye(r,n);++e<t;)n(e);return i},sr.toFinite=Iu,sr.toInteger=Ru,sr.toLength=Uu,sr.toLower=function(t){return Fu(t).toLowerCase()},sr.toNumber=Bu,sr.toSafeInteger=function(t){return t?Tr(Ru(t),-S,S):0===t?t:0},sr.toString=Fu,sr.toUpper=function(t){return Fu(t).toUpperCase()},sr.trim=function(t,n,e){if((t=Fu(t))&&(e||n===i))return me(t);if(!t||!(n=zi(n)))return t;var r=De(t),o=De(n);return Hi(r,Me(r,o),Ae(r,o)+1).join("")},sr.trimEnd=function(t,n,e){if((t=Fu(t))&&(e||n===i))return t.slice(0,Ie(t)+1);if(!t||!(n=zi(n)))return t;var r=De(t);return Hi(r,0,Ae(r,De(n))+1).join("")},sr.trimStart=function(t,n,e){if((t=Fu(t))&&(e||n===i))return t.replace(St,"");if(!t||!(n=zi(n)))return t;var r=De(t);return Hi(r,Me(r,De(n))).join("")},sr.truncate=function(t,n){var e=30,r="...";if(Mu(n)){var o="separator"in n?n.separator:o;e="length"in n?Ru(n.length):e,r="omission"in n?zi(n.omission):r}var a=(t=Fu(t)).length;if(Ee(t)){var u=De(t);a=u.length}if(e>=a)return t;var s=e-Oe(r);if(s<1)return r;var l=u?Hi(u,0,s).join(""):t.slice(0,s);if(o===i)return l+r;if(u&&(s+=l.length-s),Eu(o)){if(t.slice(s).search(o)){var c,f=l;for(o.global||(o=Zt(o.source,Fu(It.exec(o))+"g")),o.lastIndex=0;c=o.exec(f);)var h=c.index;l=l.slice(0,h===i?s:h)}}else if(t.indexOf(zi(o),s)!=s){var p=l.lastIndexOf(o);p>-1&&(l=l.slice(0,p))}return l+r},sr.unescape=function(t){return(t=Fu(t))&&vt.test(t)?t.replace(_t,Re):t},sr.uniqueId=function(t){var n=++on;return Fu(t)+n},sr.upperCase=ys,sr.upperFirst=ms,sr.each=Fa,sr.eachRight=Ha,sr.first=_a,zs(sr,(Ps={},Hr(sr,(function(t,n){rn.call(sr.prototype,n)||(Ps[n]=t)})),Ps),{chain:!1}),sr.VERSION="4.17.21",Gn(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){sr[t].placeholder=sr})),Gn(["drop","take"],(function(t,n){hr.prototype[t]=function(e){e=e===i?1:Pe(Ru(e),0);var r=this.__filtered__&&!n?new hr(this):this.clone();return r.__filtered__?r.__takeCount__=Fe(e,r.__takeCount__):r.__views__.push({size:Fe(e,z),type:t+(r.__dir__<0?"Right":"")}),r},hr.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}})),Gn(["filter","map","takeWhile"],(function(t,n){var e=n+1,r=1==e||3==e;hr.prototype[t]=function(t){var n=this.clone();return n.__iteratees__.push({iteratee:zo(t,3),type:e}),n.__filtered__=n.__filtered__||r,n}})),Gn(["head","last"],(function(t,n){var e="take"+(n?"Right":"");hr.prototype[t]=function(){return this[e](1).value()[0]}})),Gn(["initial","tail"],(function(t,n){var e="drop"+(n?"":"Right");hr.prototype[t]=function(){return this.__filtered__?new hr(this):this[e](1)}})),hr.prototype.compact=function(){return this.filter(Ns)},hr.prototype.find=function(t){return this.filter(t).head()},hr.prototype.findLast=function(t){return this.reverse().find(t)},hr.prototype.invokeMap=vi((function(t,n){return"function"==typeof t?new hr(this):this.map((function(e){return Jr(e,t,n)}))})),hr.prototype.reject=function(t){return this.filter(iu(zo(t)))},hr.prototype.slice=function(t,n){t=Ru(t);var e=this;return e.__filtered__&&(t>0||n<0)?new hr(e):(t<0?e=e.takeRight(-t):t&&(e=e.drop(t)),n!==i&&(e=(n=Ru(n))<0?e.dropRight(-n):e.take(n-t)),e)},hr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},hr.prototype.toArray=function(){return this.take(z)},Hr(hr.prototype,(function(t,n){var e=/^(?:filter|find|map|reject)|While$/.test(n),r=/^(?:head|last)$/.test(n),o=sr[r?"take"+("last"==n?"Right":""):n],a=r||/^find/.test(n);o&&(sr.prototype[n]=function(){var n=this.__wrapped__,u=r?[1]:arguments,s=n instanceof hr,l=u[0],c=s||pu(n),f=function(t){var n=o.apply(sr,re([t],u));return r&&h?n[0]:n};c&&e&&"function"==typeof l&&1!=l.length&&(s=c=!1);var h=this.__chain__,p=!!this.__actions__.length,d=a&&!h,_=s&&!p;if(!a&&c){n=_?n:new hr(this);var g=t.apply(n,u);return g.__actions__.push({func:Ia,args:[f],thisArg:i}),new fr(g,h)}return d&&_?t.apply(this,u):(g=this.thru(f),d?r?g.value()[0]:g.value():g)})})),Gn(["pop","push","shift","sort","splice","unshift"],(function(t){var n=Jt[t],e=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);sr.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return n.apply(pu(i)?i:[],t)}return this[e]((function(e){return n.apply(pu(e)?e:[],t)}))}})),Hr(hr.prototype,(function(t,n){var e=sr[n];if(e){var r=e.name+"";rn.call(Qe,r)||(Qe[r]=[]),Qe[r].push({name:n,func:e})}})),Qe[uo(i,_).name]=[{name:"wrapper",func:i}],hr.prototype.clone=function(){var t=new hr(this.__wrapped__);return t.__actions__=Gi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Gi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Gi(this.__views__),t},hr.prototype.reverse=function(){if(this.__filtered__){var t=new hr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},hr.prototype.value=function(){var t=this.__wrapped__.value(),n=this.__dir__,e=pu(t),r=n<0,i=e?t.length:0,o=function(t,n,e){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":n-=a;break;case"take":n=Fe(n,t+a);break;case"takeRight":t=Pe(t,n-a)}}return{start:t,end:n}}(0,i,this.__views__),a=o.start,u=o.end,s=u-a,l=r?u:a-1,c=this.__iteratees__,f=c.length,h=0,p=Fe(s,this.__takeCount__);if(!e||!r&&i==s&&p==s)return Di(t,this.__actions__);var d=[];t:for(;s--&&h<p;){for(var _=-1,g=t[l+=n];++_<f;){var v=c[_],y=v.iteratee,m=v.type,b=y(g);if(2==m)g=b;else if(!b){if(1==m)continue t;break t}}d[h++]=g}return d},sr.prototype.at=Ra,sr.prototype.chain=function(){return Da(this)},sr.prototype.commit=function(){return new fr(this.value(),this.__chain__)},sr.prototype.next=function(){this.__values__===i&&(this.__values__=Du(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},sr.prototype.plant=function(t){for(var n,e=this;e instanceof cr;){var r=sa(e);r.__index__=0,r.__values__=i,n?o.__wrapped__=r:n=r;var o=r;e=e.__wrapped__}return o.__wrapped__=t,n},sr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof hr){var n=t;return this.__actions__.length&&(n=new hr(this)),(n=n.reverse()).__actions__.push({func:Ia,args:[Ma],thisArg:i}),new fr(n,this.__chain__)}return this.thru(Ma)},sr.prototype.toJSON=sr.prototype.valueOf=sr.prototype.value=function(){return Di(this.__wrapped__,this.__actions__)},sr.prototype.first=sr.prototype.head,bn&&(sr.prototype[bn]=function(){return this}),sr}();In._=Ue,(r=function(){return Ue}.call(n,e,n,t))===i||(t.exports=r)}.call(this)},666:(t,n,e)=>{"use strict";e.r(n),e.d(n,{centerOfTree:()=>_h,clusterPicker:()=>kh,computeMidpoint:()=>gh,extract_dates:()=>Ah,fitRootToTip:()=>yh,getDistanceMatrix:()=>Th,getNewick:()=>Ic,inOrder:()=>$c,leftChildRightSibling:()=>Xc,loadAnnotations:()=>Bc,neighborJoining:()=>zh,newickParser:()=>Rc,pairwise_distances:()=>ph,parseAnnotations:()=>Uc,parseFasta:()=>Sh,phylopart:()=>Nh,phylotree:()=>hh,postOrder:()=>Wc,preOrder:()=>Yc,rootToTip:()=>bh,sackin:()=>dh});var r={};e.r(r),e.d(r,{VERSION:()=>Ba,after:()=>_l,all:()=>Dl,allKeys:()=>Ku,any:()=>Il,assign:()=>_s,before:()=>gl,bind:()=>rl,bindAll:()=>al,chain:()=>Qs,chunk:()=>yc,clone:()=>ms,collect:()=>Tl,compact:()=>uc,compose:()=>dl,constant:()=>Lu,contains:()=>Rl,countBy:()=>Kl,create:()=>ys,debounce:()=>fl,default:()=>wc,defaults:()=>gs,defer:()=>ll,delay:()=>sl,detect:()=>Nl,difference:()=>lc,drop:()=>oc,each:()=>El,escape:()=>Fs,every:()=>Dl,extend:()=>ds,extendOwn:()=>_s,filter:()=>Ll,find:()=>Nl,findIndex:()=>bl,findKey:()=>yl,findLastIndex:()=>wl,findWhere:()=>Sl,first:()=>ic,flatten:()=>sc,foldl:()=>Cl,foldr:()=>jl,forEach:()=>El,functions:()=>hs,get:()=>As,groupBy:()=>Zl,has:()=>ks,head:()=>ic,identity:()=>Ns,include:()=>Rl,includes:()=>Rl,indexBy:()=>Gl,indexOf:()=>Al,initial:()=>rc,inject:()=>Cl,intersection:()=>pc,invert:()=>fs,invoke:()=>Ul,isArguments:()=>zu,isArray:()=>Su,isArrayBuffer:()=>yu,isBoolean:()=>lu,isDataView:()=>Nu,isDate:()=>du,isElement:()=>cu,isEmpty:()=>qu,isEqual:()=>Gu,isError:()=>gu,isFinite:()=>Cu,isFunction:()=>wu,isMap:()=>os,isMatch:()=>Vu,isNaN:()=>ju,isNull:()=>uu,isNumber:()=>pu,isObject:()=>au,isRegExp:()=>_u,isSet:()=>us,isString:()=>hu,isSymbol:()=>vu,isTypedArray:()=>Bu,isUndefined:()=>su,isWeakMap:()=>as,isWeakSet:()=>ss,iteratee:()=>Cs,keys:()=>Hu,last:()=>ac,lastIndexOf:()=>kl,map:()=>Tl,mapObject:()=>Ls,matcher:()=>Ss,matches:()=>Ss,max:()=>Fl,memoize:()=>ul,methods:()=>hs,min:()=>Hl,mixin:()=>bc,negate:()=>pl,noop:()=>Os,now:()=>Us,object:()=>gc,omit:()=>ec,once:()=>vl,pairs:()=>cs,partial:()=>el,partition:()=>Jl,pick:()=>nc,pluck:()=>Bl,property:()=>Es,propertyOf:()=>Ds,random:()=>Rs,range:()=>vc,reduce:()=>Cl,reduceRight:()=>jl,reject:()=>Ol,rest:()=>oc,restArguments:()=>ou,result:()=>Gs,sample:()=>Wl,select:()=>Ll,shuffle:()=>Yl,size:()=>Ql,some:()=>Il,sortBy:()=>$l,sortedIndex:()=>xl,tail:()=>oc,take:()=>ic,tap:()=>bs,template:()=>Zs,templateSettings:()=>qs,throttle:()=>cl,times:()=>Is,toArray:()=>Vl,toPath:()=>ws,transpose:()=>dc,unescape:()=>Hs,union:()=>hc,uniq:()=>fc,unique:()=>fc,uniqueId:()=>Js,unzip:()=>dc,values:()=>ls,where:()=>Pl,without:()=>cc,wrap:()=>hl,zip:()=>_c});var i={};e.r(i),e.d(i,{addChild:()=>Ac,assignAttributes:()=>jc,clearInternalNodes:()=>Dc,createNode:()=>kc,deleteANode:()=>Nc,getInternals:()=>Ec,getNodeByName:()=>Cc,getNodes:()=>zc,getRootNode:()=>Tc,getTips:()=>Sc,graftANode:()=>Mc,isLeafNode:()=>Lc,updateKeyName:()=>Oc});var o={};e.r(o),e.d(o,{default:()=>Pc,loadAnnotations:()=>Bc,parseAnnotations:()=>Uc});var a={};e.r(a),e.d(a,{pathToRoot:()=>Jc,reroot:()=>Gc,rootpath:()=>Kc});var u={};e.r(u),e.d(u,{alignTips:()=>pf,css_classes:()=>cf,internalNames:()=>ff,layoutHandler:()=>gf,nodeBubbleSize:()=>df,nodeSpan:()=>yf,predefined_selecters:()=>mf,radial:()=>hf,selectionCallback:()=>bf,selectionLabel:()=>vf,shiftTip:()=>_f});var s={};e.r(s),e.d(s,{defNodeLabel:()=>Lf,drawNode:()=>xf,hasHiddenNodes:()=>Tf,internalLabel:()=>jf,isNodeCollapsed:()=>zf,nodeCssSelectors:()=>Cf,nodeLabel:()=>Of,nodeNotshown:()=>Ef,nodeSpan:()=>kf,nodeVisible:()=>Sf,reclassNode:()=>Nf,shiftTip:()=>wf,showInternalName:()=>Af,updateHasHiddenNodes:()=>Mf});var l={};e.r(l),e.d(l,{cladeCssSelectors:()=>Df,updateCollapsedClades:()=>If});var c={};e.r(c),e.d(c,{drawEdge:()=>Rf,edgeCssSelectors:()=>Hf,edgeVisible:()=>Ff,initializeEdgeLabels:()=>Bf,placeAlongAnEdge:()=>qf,reclassEdge:()=>Uf,syncEdgeLabels:()=>Pf});var f={};e.r(f),e.d(f,{countUpdate:()=>Zf,d3PhylotreeAddEventListener:()=>Jf,d3PhylotreeEventListener:()=>Kf,d3PhylotreeSvgRotate:()=>th,d3PhylotreeSvgTranslate:()=>Qf,d3PhylotreeTriggerLayout:()=>Gf,rescale:()=>$f,resizeSvg:()=>Yf,toggleCollapse:()=>Wf,triggerRefresh:()=>Xf});var h={};e.r(h),e.d(h,{addCustomMenu:()=>rh,getSelection:()=>oh,modifySelection:()=>ih,nodeDropdownMenu:()=>eh,selectAllDescendants:()=>ah,selectionCallback:()=>uh});var p=Array.prototype.slice;function d(t){return t}var _=1,g=2,v=3,y=4,m=1e-6;function b(t){return"translate("+t+",0)"}function w(t){return"translate(0,"+t+")"}function x(t){return n=>+t(n)}function M(t,n){return n=Math.max(0,t.bandwidth()-2*n)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function A(){return!this.__axis}function k(t,n){var e=[],r=null,i=null,o=6,a=6,u=3,s="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,l=t===_||t===y?-1:1,c=t===y||t===g?"x":"y",f=t===_||t===v?b:w;function h(h){var p=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,b=null==i?n.tickFormat?n.tickFormat.apply(n,e):d:i,w=Math.max(o,0)+u,k=n.range(),N=+k[0]+s,S=+k[k.length-1]+s,E=(n.bandwidth?M:x)(n.copy(),s),T=h.selection?h.selection():h,z=T.selectAll(".domain").data([null]),C=T.selectAll(".tick").data(p,n).order(),j=C.exit(),L=C.enter().append("g").attr("class","tick"),O=C.select("line"),D=C.select("text");z=z.merge(z.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),C=C.merge(L),O=O.merge(L.append("line").attr("stroke","currentColor").attr(c+"2",l*o)),D=D.merge(L.append("text").attr("fill","currentColor").attr(c,l*w).attr("dy",t===_?"0em":t===v?"0.71em":"0.32em")),h!==T&&(z=z.transition(h),C=C.transition(h),O=O.transition(h),D=D.transition(h),j=j.transition(h).attr("opacity",m).attr("transform",(function(t){return isFinite(t=E(t))?f(t+s):this.getAttribute("transform")})),L.attr("opacity",m).attr("transform",(function(t){var n=this.parentNode.__axis;return f((n&&isFinite(n=n(t))?n:E(t))+s)}))),j.remove(),z.attr("d",t===y||t===g?a?"M"+l*a+","+N+"H"+s+"V"+S+"H"+l*a:"M"+s+","+N+"V"+S:a?"M"+N+","+l*a+"V"+s+"H"+S+"V"+l*a:"M"+N+","+s+"H"+S),C.attr("opacity",1).attr("transform",(function(t){return f(E(t)+s)})),O.attr(c+"2",l*o),D.attr(c,l*w).text(b),T.filter(A).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===g?"start":t===y?"end":"middle"),T.each((function(){this.__axis=E}))}return h.scale=function(t){return arguments.length?(n=t,h):n},h.ticks=function(){return e=p.call(arguments),h},h.tickArguments=function(t){return arguments.length?(e=null==t?[]:p.call(t),h):e.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:p.call(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(o=a=+t,h):o},h.tickSizeInner=function(t){return arguments.length?(o=+t,h):o},h.tickSizeOuter=function(t){return arguments.length?(a=+t,h):a},h.tickPadding=function(t){return arguments.length?(u=+t,h):u},h.offset=function(t){return arguments.length?(s=+t,h):s},h}var N={value:()=>{}};function S(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new E(r)}function E(t){this._=t}function T(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function z(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=N,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}E.prototype=S.prototype={constructor:E,on:function(t,n){var e,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))),a=-1,u=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<u;)if(e=(t=o[a]).type)i[e]=z(i[e],t.name,n);else if(null==n)for(e in i)i[e]=z(i[e],t.name,null);return this}for(;++a<u;)if((e=(t=o[a]).type)&&(e=T(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new E(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};const C=S;function j(){}function L(t){return null==t?j:function(){return this.querySelector(t)}}function O(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function D(){return[]}function I(t){return null==t?D:function(){return this.querySelectorAll(t)}}function R(t){return function(){return this.matches(t)}}function U(t){return function(n){return n.matches(t)}}var B=Array.prototype.find;function P(){return this.firstElementChild}var F=Array.prototype.filter;function H(){return this.children}function q(t){return new Array(t.length)}function V(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function W(t,n,e,r,i,o){for(var a,u=0,s=n.length,l=o.length;u<l;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new V(t,o[u]);for(;u<s;++u)(a=n[u])&&(i[u]=a)}function Y(t,n,e,r,i,o,a){var u,s,l,c=new Map,f=n.length,h=o.length,p=new Array(f);for(u=0;u<f;++u)(s=n[u])&&(p[u]=l=a.call(s,s.__data__,u,n)+"",c.has(l)?i[u]=s:c.set(l,s));for(u=0;u<h;++u)l=a.call(t,o[u],u,o)+"",(s=c.get(l))?(r[u]=s,s.__data__=o[u],c.delete(l)):e[u]=new V(t,o[u]);for(u=0;u<f;++u)(s=n[u])&&c.get(p[u])===s&&(i[u]=s)}function $(t){return t.__data__}function X(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}V.prototype={constructor:V,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Z="http://www.w3.org/1999/xhtml";const G={svg:"http://www.w3.org/2000/svg",xhtml:Z,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function K(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),G.hasOwnProperty(n)?{space:G[n],local:t}:t}function J(t){return function(){this.removeAttribute(t)}}function Q(t){return function(){this.removeAttributeNS(t.space,t.local)}}function tt(t,n){return function(){this.setAttribute(t,n)}}function nt(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function et(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function rt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function it(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ot(t){return function(){this.style.removeProperty(t)}}function at(t,n,e){return function(){this.style.setProperty(t,n,e)}}function ut(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function st(t,n){return t.style.getPropertyValue(n)||it(t).getComputedStyle(t,null).getPropertyValue(n)}function lt(t){return function(){delete this[t]}}function ct(t,n){return function(){this[t]=n}}function ft(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function ht(t){return t.trim().split(/^|\s+/)}function pt(t){return t.classList||new dt(t)}function dt(t){this._node=t,this._names=ht(t.getAttribute("class")||"")}function _t(t,n){for(var e=pt(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function gt(t,n){for(var e=pt(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function vt(t){return function(){_t(this,t)}}function yt(t){return function(){gt(this,t)}}function mt(t,n){return function(){(n.apply(this,arguments)?_t:gt)(this,t)}}function bt(){this.textContent=""}function wt(t){return function(){this.textContent=t}}function xt(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function Mt(){this.innerHTML=""}function At(t){return function(){this.innerHTML=t}}function kt(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Nt(){this.nextSibling&&this.parentNode.appendChild(this)}function St(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Et(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Z&&n.documentElement.namespaceURI===Z?n.createElement(t):n.createElementNS(e,t)}}function Tt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function zt(t){var n=K(t);return(n.local?Tt:Et)(n)}function Ct(){return null}function jt(){var t=this.parentNode;t&&t.removeChild(this)}function Lt(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Ot(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Dt(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function It(t,n,e){return function(){var r,i=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function Rt(t,n,e){var r=it(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Ut(t,n){return function(){return Rt(this,t,n)}}function Bt(t,n){return function(){return Rt(this,t,n.apply(this,arguments))}}dt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Pt=[null];function Ft(t,n){this._groups=t,this._parents=n}function Ht(){return new Ft([[document.documentElement]],Pt)}Ft.prototype=Ht.prototype={constructor:Ft,select:function(t){"function"!=typeof t&&(t=L(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],s=u.length,l=r[i]=new Array(s),c=0;c<s;++c)(o=u[c])&&(a=t.call(o,o.__data__,c,u))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new Ft(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);return null==n?[]:O(n)}}(t):I(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],s=u.length,l=0;l<s;++l)(a=u[l])&&(r.push(t.call(a,a.__data__,l,u)),i.push(a));return new Ft(r,i)},selectChild:function(t){return this.select(null==t?P:function(t){return function(){return B.call(this.children,t)}}("function"==typeof t?t:U(t)))},selectChildren:function(t){return this.selectAll(null==t?H:function(t){return function(){return F.call(this.children,t)}}("function"==typeof t?t:U(t)))},filter:function(t){"function"!=typeof t&&(t=R(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&s.push(o);return new Ft(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,$);var e,r=n?Y:W,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=o.length,u=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var f=i[c],h=o[c],p=h.length,d=O(t.call(f,f&&f.__data__,c,i)),_=d.length,g=s[c]=new Array(_),v=u[c]=new Array(_);r(f,h,g,v,l[c]=new Array(p),d,n);for(var y,m,b=0,w=0;b<_;++b)if(y=g[b]){for(b>=w&&(w=b+1);!(m=v[w])&&++w<_;);y._next=m||null}}return(u=new Ft(u,i))._enter=s,u._exit=l,u},enter:function(){return new Ft(this._enter||this._groups.map(q),this._parents)},exit:function(){return new Ft(this._exit||this._groups.map(q),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof Ft))throw new Error("invalid merge");for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,l=n[u],c=e[u],f=l.length,h=a[u]=new Array(f),p=0;p<f;++p)(s=l[p]||c[p])&&(h[p]=s);for(;u<r;++u)a[u]=n[u];return new Ft(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=X);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],s=u.length,l=i[o]=new Array(s),c=0;c<s;++c)(a=u[c])&&(l[c]=a);l.sort(n)}return new Ft(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=K(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?Q:J:"function"==typeof n?e.local?rt:et:e.local?nt:tt)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?ot:"function"==typeof n?ut:at)(t,n,null==e?"":e)):st(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?lt:"function"==typeof n?ft:ct)(t,n)):this.node()[t]},classed:function(t,n){var e=ht(t+"");if(arguments.length<2){for(var r=pt(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?mt:n?vt:yt)(e,n))},text:function(t){return arguments.length?this.each(null==t?bt:("function"==typeof t?xt:wt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Mt:("function"==typeof t?kt:At)(t)):this.node().innerHTML},raise:function(){return this.each(Nt)},lower:function(){return this.each(St)},append:function(t){var n="function"==typeof t?t:zt(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:zt(t),r=null==n?Ct:"function"==typeof n?n:L(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(jt)},clone:function(t){return this.select(t?Ot:Lt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?It:Dt,r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var s,l=0,c=u.length;l<c;++l)for(r=0,s=u[l];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?Bt:Ut)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};const qt=Ht;function Vt(t){return"string"==typeof t?new Ft([[document.querySelector(t)]],[document.documentElement]):new Ft([[t]],Pt)}function Wt(t){t.preventDefault(),t.stopImmediatePropagation()}function Yt(t){var n=t.document.documentElement,e=Vt(t).on("dragstart.drag",Wt,!0);"onselectstart"in n?e.on("selectstart.drag",Wt,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function $t(t,n){var e=t.document.documentElement,r=Vt(t).on("dragstart.drag",null);n&&(r.on("click.drag",Wt,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function Xt(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Zt(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Gt(){}var Kt=.7,Jt=1/Kt,Qt="\\s*([+-]?\\d+)\\s*",tn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",nn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",en=/^#([0-9a-f]{3,8})$/,rn=new RegExp("^rgb\\("+[Qt,Qt,Qt]+"\\)$"),on=new RegExp("^rgb\\("+[nn,nn,nn]+"\\)$"),an=new RegExp("^rgba\\("+[Qt,Qt,Qt,tn]+"\\)$"),un=new RegExp("^rgba\\("+[nn,nn,nn,tn]+"\\)$"),sn=new RegExp("^hsl\\("+[tn,nn,nn]+"\\)$"),ln=new RegExp("^hsla\\("+[tn,nn,nn,tn]+"\\)$"),cn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function fn(){return this.rgb().formatHex()}function hn(){return this.rgb().formatRgb()}function pn(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=en.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?dn(n):3===e?new vn(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?_n(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?_n(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=rn.exec(t))?new vn(n[1],n[2],n[3],1):(n=on.exec(t))?new vn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=an.exec(t))?_n(n[1],n[2],n[3],n[4]):(n=un.exec(t))?_n(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=sn.exec(t))?wn(n[1],n[2]/100,n[3]/100,1):(n=ln.exec(t))?wn(n[1],n[2]/100,n[3]/100,n[4]):cn.hasOwnProperty(t)?dn(cn[t]):"transparent"===t?new vn(NaN,NaN,NaN,0):null}function dn(t){return new vn(t>>16&255,t>>8&255,255&t,1)}function _n(t,n,e,r){return r<=0&&(t=n=e=NaN),new vn(t,n,e,r)}function gn(t,n,e,r){return 1===arguments.length?((i=t)instanceof Gt||(i=pn(i)),i?new vn((i=i.rgb()).r,i.g,i.b,i.opacity):new vn):new vn(t,n,e,null==r?1:r);var i}function vn(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function yn(){return"#"+bn(this.r)+bn(this.g)+bn(this.b)}function mn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function bn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function wn(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Mn(t,n,e,r)}function xn(t){if(t instanceof Mn)return new Mn(t.h,t.s,t.l,t.opacity);if(t instanceof Gt||(t=pn(t)),!t)return new Mn;if(t instanceof Mn)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new Mn(a,u,s,t.opacity)}function Mn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function An(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function kn(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}Xt(Gt,pn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:fn,formatHex:fn,formatHsl:function(){return xn(this).formatHsl()},formatRgb:hn,toString:hn}),Xt(vn,gn,Zt(Gt,{brighter:function(t){return t=null==t?Jt:Math.pow(Jt,t),new vn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Kt:Math.pow(Kt,t),new vn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yn,formatHex:yn,formatRgb:mn,toString:mn})),Xt(Mn,(function(t,n,e,r){return 1===arguments.length?xn(t):new Mn(t,n,e,null==r?1:r)}),Zt(Gt,{brighter:function(t){return t=null==t?Jt:Math.pow(Jt,t),new Mn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Kt:Math.pow(Kt,t),new Mn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new vn(An(t>=240?t-240:t+120,i,r),An(t,i,r),An(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const Nn=t=>()=>t;function Sn(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):Nn(isNaN(t)?n:t)}const En=function t(n){var e=function(t){return 1==(t=+t)?Sn:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Nn(isNaN(n)?e:n)}}(n);function r(t,n){var r=e((t=gn(t)).r,(n=gn(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=Sn(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function Tn(t){return function(n){var e,r,i=n.length,o=new Array(i),a=new Array(i),u=new Array(i);for(e=0;e<i;++e)r=gn(n[e]),o[e]=r.r||0,a[e]=r.g||0,u[e]=r.b||0;return o=t(o),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=u(t),r+""}}}function zn(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=Un(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function Cn(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function jn(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Ln(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=Un(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}Tn((function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<n-1?t[r+2]:2*o-i;return kn((e-r/n)*n,a,i,o,u)}})),Tn((function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],a=t[(r+1)%n],u=t[(r+2)%n];return kn((e-r/n)*n,i,o,a,u)}}));var On=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dn=new RegExp(On.source,"g");function In(t,n){var e,r,i,o=On.lastIndex=Dn.lastIndex=0,a=-1,u=[],s=[];for(t+="",n+="";(e=On.exec(t))&&(r=Dn.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:jn(e,r)})),o=Dn.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})}function Rn(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function Un(t,n){var e,r,i=typeof n;return null==n||"boolean"===i?Nn(n):("number"===i?jn:"string"===i?(e=pn(n))?(n=e,En):In:n instanceof pn?En:n instanceof Date?Cn:(r=n,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(n)?zn:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Ln:jn:Rn))(t,n)}function Bn(t,n){if(t=function(t){let n;for(;n=t.sourceEvent;)t=n;return t}(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(n.getScreenCTM().inverse())).x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}var Pn,Fn,Hn=0,qn=0,Vn=0,Wn=1e3,Yn=0,$n=0,Xn=0,Zn="object"==typeof performance&&performance.now?performance:Date,Gn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Kn(){return $n||(Gn(Jn),$n=Zn.now()+Xn)}function Jn(){$n=0}function Qn(){this._call=this._time=this._next=null}function te(t,n,e){var r=new Qn;return r.restart(t,n,e),r}function ne(){$n=(Yn=Zn.now())+Xn,Hn=qn=0;try{!function(){Kn(),++Hn;for(var t,n=Pn;n;)(t=$n-n._time)>=0&&n._call.call(null,t),n=n._next;--Hn}()}finally{Hn=0,function(){for(var t,n,e=Pn,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Pn=n);Fn=t,re(r)}(),$n=0}}function ee(){var t=Zn.now(),n=t-Yn;n>Wn&&(Xn-=n,Yn=t)}function re(t){Hn||(qn&&(qn=clearTimeout(qn)),t-$n>24?(t<1/0&&(qn=setTimeout(ne,t-Zn.now()-Xn)),Vn&&(Vn=clearInterval(Vn))):(Vn||(Yn=Zn.now(),Vn=setInterval(ee,Wn)),Hn=1,Gn(ne)))}function ie(t,n,e){var r=new Qn;return n=null==n?0:+n,r.restart((e=>{r.stop(),t(e+n)}),n,e),r}Qn.prototype=te.prototype={constructor:Qn,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Kn():+e)+(null==n?0:+n),this._next||Fn===this||(Fn?Fn._next=this:Pn=this,Fn=this),this._call=t,this._time=e,re()},stop:function(){this._call&&(this._call=null,this._time=1/0,re())}};var oe=C("start","end","cancel","interrupt"),ae=[],ue=0,se=1,le=2,ce=3,fe=4,he=5,pe=6;function de(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(s){var l,c,f,h;if(e.state!==se)return u();for(l in i)if((h=i[l]).name===e.name){if(h.state===ce)return ie(o);h.state===fe?(h.state=pe,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[l]):+l<n&&(h.state=pe,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[l])}if(ie((function(){e.state===ce&&(e.state=fe,e.timer.restart(a,e.delay,e.time),a(s))})),e.state=le,e.on.call("start",t,t.__data__,e.index,e.group),e.state===le){for(e.state=ce,r=new Array(f=e.tween.length),l=0,c=-1;l<f;++l)(h=e.tween[l].value.call(t,t.__data__,e.index,e.group))&&(r[++c]=h);r.length=c+1}}function a(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=he,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);e.state===he&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){for(var r in e.state=pe,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=te((function(t){e.state=se,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)}),0,e.time)}(t,e,{name:n,index:r,group:i,on:oe,tween:ae,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ue})}function _e(t,n){var e=ve(t,n);if(e.state>ue)throw new Error("too late; already scheduled");return e}function ge(t,n){var e=ve(t,n);if(e.state>ce)throw new Error("too late; already running");return e}function ve(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function ye(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>le&&e.state<he,e.state=pe,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}var me,be=180/Math.PI,we={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function xe(t,n,e,r,i,o){var a,u,s;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,s/=u),t*r<n*e&&(t=-t,n=-n,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*be,skewX:Math.atan(s)*be,scaleX:a,scaleY:u}}function Me(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],s=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var s=a.push("translate(",null,n,null,e);u.push({i:s-4,x:jn(t,i)},{i:s-2,x:jn(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,u,s),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:jn(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,u,s),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:jn(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,u,s),function(t,n,e,r,o,a){if(t!==e||n!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:jn(t,e)},{i:u-2,x:jn(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,s),o=a=null,function(t){for(var n,e=-1,r=s.length;++e<r;)u[(n=s[e]).i]=n.x(t);return u.join("")}}}var Ae=Me((function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?we:xe(n.a,n.b,n.c,n.d,n.e,n.f)}),"px, ","px)","deg)"),ke=Me((function(t){return null==t?we:(me||(me=document.createElementNS("http://www.w3.org/2000/svg","g")),me.setAttribute("transform",t),(t=me.transform.baseVal.consolidate())?xe((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):we)}),", ",")",")");function Ne(t,n){var e,r;return function(){var i=ge(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}function Se(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=ge(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},s=0,l=i.length;s<l;++s)if(i[s].name===n){i[s]=u;break}s===l&&i.push(u)}o.tween=i}}function Ee(t,n,e){var r=t._id;return t.each((function(){var t=ge(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return ve(t,r).value[n]}}function Te(t,n){var e;return("number"==typeof n?jn:n instanceof pn?En:(e=pn(n))?(n=e,En):In)(t,n)}function ze(t){return function(){this.removeAttribute(t)}}function Ce(t){return function(){this.removeAttributeNS(t.space,t.local)}}function je(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}}function Le(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}function Oe(t,n,e){var r,i,o;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttribute(t))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,s));this.removeAttribute(t)}}function De(t,n,e){var r,i,o;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,s));this.removeAttributeNS(t.space,t.local)}}function Ie(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}(t,i)),e}return i._value=n,i}function Re(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}(t,i)),e}return i._value=n,i}function Ue(t,n){return function(){_e(this,t).delay=+n.apply(this,arguments)}}function Be(t,n){return n=+n,function(){_e(this,t).delay=n}}function Pe(t,n){return function(){ge(this,t).duration=+n.apply(this,arguments)}}function Fe(t,n){return n=+n,function(){ge(this,t).duration=n}}var He=qt.prototype.constructor;function qe(t){return function(){this.style.removeProperty(t)}}var Ve=0;function We(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Ye(){return++Ve}var $e=qt.prototype;We.prototype=function(t){return qt().transition(t)}.prototype={constructor:We,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=L(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,s,l=r[a],c=l.length,f=o[a]=new Array(c),h=0;h<c;++h)(u=l[h])&&(s=t.call(u,u.__data__,h,l))&&("__data__"in u&&(s.__data__=u.__data__),f[h]=s,de(f[h],n,e,h,f,ve(u,e)));return new We(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=I(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var s,l=r[u],c=l.length,f=0;f<c;++f)if(s=l[f]){for(var h,p=t.call(s,s.__data__,f,l),d=ve(s,e),_=0,g=p.length;_<g;++_)(h=p[_])&&de(h,n,e,_,p,d);o.push(p),a.push(s)}return new We(o,a,n,e)},filter:function(t){"function"!=typeof t&&(t=R(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&s.push(o);return new We(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,l=n[u],c=e[u],f=l.length,h=a[u]=new Array(f),p=0;p<f;++p)(s=l[p]||c[p])&&(h[p]=s);for(;u<r;++u)a[u]=n[u];return new We(a,this._parents,this._name,this._id)},selection:function(){return new He(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Ye(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,l=0;l<s;++l)if(a=u[l]){var c=ve(a,n);de(a,t,e,l,u,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new We(r,this._parents,t,e)},call:$e.call,nodes:$e.nodes,node:$e.node,size:$e.size,empty:$e.empty,each:$e.each,on:function(t,n){var e=this._id;return arguments.length<2?ve(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?_e:ge;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}(e,t,n))},attr:function(t,n){var e=K(t),r="transform"===e?ke:Te;return this.attrTween(t,"function"==typeof n?(e.local?De:Oe)(e,r,Ee(this,"attr."+t,n)):null==n?(e.local?Ce:ze)(e):(e.local?Le:je)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=K(t);return this.tween(e,(r.local?Ie:Re)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Ae:Te;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=st(this,t),a=(this.style.removeProperty(t),st(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,qe(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=st(this,t),u=e(this),s=u+"";return null==u&&(this.style.removeProperty(t),s=u=st(this,t)),a===s?null:a===r&&s===i?o:(i=s,o=n(r=a,u))}}(t,r,Ee(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n,u="end."+a;return function(){var s=ge(this,t),l=s.on,c=null==s.value[a]?o||(o=qe(n)):void 0;l===e&&i===c||(r=(e=l).copy()).on(u,i=c),s.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var a=st(this,t);return a===o?null:a===r?i:i=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}(t,o,e)),r}return o._value=n,o}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Ee(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&function(t){return function(n){this.textContent=t.call(this,n)}}(r)),n}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=ve(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?Ne:Se)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Ue:Be)(n,t)):ve(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Pe:Fe)(n,t)):ve(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){ge(this,t).ease=n}}(n,t)):ve(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;ge(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,a){var u={value:a},s={value:function(){0==--i&&o()}};e.each((function(){var e=ge(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(s)),e.on=n})),0===i&&o()}))},[Symbol.iterator]:$e[Symbol.iterator]};var Xe={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Ze(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}qt.prototype.interrupt=function(t){return this.each((function(){ye(this,t)}))},qt.prototype.transition=function(t){var n,e;t instanceof We?(n=t._id,t=t._name):(n=Ye(),(e=Xe).time=Kn(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,l=0;l<s;++l)(a=u[l])&&de(a,t,n,l,u,e||Ze(a,n));return new We(r,this._parents,t,n)};const Ge=t=>()=>t;function Ke(t,{sourceEvent:n,target:e,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Je(t){t.preventDefault(),t.stopImmediatePropagation()}var Qe={name:"drag"},tr={name:"space"},nr={name:"handle"},er={name:"center"};const{abs:rr,max:ir,min:or}=Math;function ar(t){return[+t[0],+t[1]]}function ur(t){return[ar(t[0]),ar(t[1])]}var sr={name:"x",handles:["w","e"].map(gr),input:function(t,n){return null==t?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},lr={name:"y",handles:["n","s"].map(gr),input:function(t,n){return null==t?null:[[n[0][0],+t[0]],[n[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},cr={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(gr),input:function(t){return null==t?null:ur(t)},output:function(t){return t}},fr={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},hr={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},pr={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},dr={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},_r={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function gr(t){return{type:t}}function vr(t){return!t.ctrlKey&&!t.button}function yr(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function mr(){return navigator.maxTouchPoints||"ontouchstart"in this}function br(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function wr(){return function(t){var n,e=yr,r=vr,i=mr,o=!0,a=C("start","brush","end"),u=6;function s(n){var e=n.property("__brush",_).selectAll(".overlay").data([gr("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",fr.overlay).merge(e).each((function(){var t=br(this).extent;Vt(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),n.selectAll(".selection").data([gr("selection")]).enter().append("rect").attr("class","selection").attr("cursor",fr.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=n.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return fr[t.type]})),n.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(i).on("touchstart.brush",h).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",d).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function l(){var t=Vt(this),n=br(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?n[1][0]-u/2:n[0][0]-u/2})).attr("y",(function(t){return"s"===t.type[0]?n[1][1]-u/2:n[0][1]-u/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+u:u})).attr("height",(function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+u:u}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(t,n,e){var r=t.__brush.emitter;return!r||e&&r.clean?new f(t,n,e):r}function f(t,n,e){this.that=t,this.args=n,this.state=t.__brush,this.active=0,this.clean=e}function h(e){if((!n||e.touches)&&r.apply(this,arguments)){var i,a,u,s,f,h,p,d,_,g,v,y=this,m=e.target.__data__.type,b="selection"===(o&&e.metaKey?m="overlay":m)?Qe:o&&e.altKey?er:nr,w=t===lr?null:dr[m],x=t===sr?null:_r[m],M=br(y),A=M.extent,k=M.selection,N=A[0][0],S=A[0][1],E=A[1][0],T=A[1][1],z=0,C=0,j=w&&x&&o&&e.shiftKey,L=Array.from(e.touches||[e],(t=>{const n=t.identifier;return(t=Bn(t,y)).point0=t.slice(),t.identifier=n,t}));if("overlay"===m){k&&(_=!0);const n=[L[0],L[1]||L[0]];M.selection=k=[[i=t===lr?N:or(n[0][0],n[1][0]),u=t===sr?S:or(n[0][1],n[1][1])],[f=t===lr?E:ir(n[0][0],n[1][0]),p=t===sr?T:ir(n[0][1],n[1][1])]],L.length>1&&B()}else i=k[0][0],u=k[0][1],f=k[1][0],p=k[1][1];a=i,s=u,h=f,d=p;var O=Vt(y).attr("pointer-events","none"),D=O.selectAll(".overlay").attr("cursor",fr[m]);ye(y);var I=c(y,arguments,!0).beforestart();if(e.touches)I.moved=U,I.ended=P;else{var R=Vt(e.view).on("mousemove.brush",U,!0).on("mouseup.brush",P,!0);o&&R.on("keydown.brush",(function(t){switch(t.keyCode){case 16:j=w&&x;break;case 18:b===nr&&(w&&(f=h-z*w,i=a+z*w),x&&(p=d-C*x,u=s+C*x),b=er,B());break;case 32:b!==nr&&b!==er||(w<0?f=h-z:w>0&&(i=a-z),x<0?p=d-C:x>0&&(u=s-C),b=tr,D.attr("cursor",fr.selection),B());break;default:return}Je(t)}),!0).on("keyup.brush",(function(t){switch(t.keyCode){case 16:j&&(g=v=j=!1,B());break;case 18:b===er&&(w<0?f=h:w>0&&(i=a),x<0?p=d:x>0&&(u=s),b=nr,B());break;case 32:b===tr&&(t.altKey?(w&&(f=h-z*w,i=a+z*w),x&&(p=d-C*x,u=s+C*x),b=er):(w<0?f=h:w>0&&(i=a),x<0?p=d:x>0&&(u=s),b=nr),D.attr("cursor",fr[m]),B());break;default:return}Je(t)}),!0),Yt(e.view)}l.call(y),I.start(e,b.name)}function U(t){for(const n of t.changedTouches||[t])for(const t of L)t.identifier===n.identifier&&(t.cur=Bn(n,y));if(j&&!g&&!v&&1===L.length){const t=L[0];rr(t.cur[0]-t[0])>rr(t.cur[1]-t[1])?v=!0:g=!0}for(const t of L)t.cur&&(t[0]=t.cur[0],t[1]=t.cur[1]);_=!0,Je(t),B(t)}function B(t){const n=L[0],e=n.point0;var r;switch(z=n[0]-e[0],C=n[1]-e[1],b){case tr:case Qe:w&&(z=ir(N-i,or(E-f,z)),a=i+z,h=f+z),x&&(C=ir(S-u,or(T-p,C)),s=u+C,d=p+C);break;case nr:L[1]?(w&&(a=ir(N,or(E,L[0][0])),h=ir(N,or(E,L[1][0])),w=1),x&&(s=ir(S,or(T,L[0][1])),d=ir(S,or(T,L[1][1])),x=1)):(w<0?(z=ir(N-i,or(E-i,z)),a=i+z,h=f):w>0&&(z=ir(N-f,or(E-f,z)),a=i,h=f+z),x<0?(C=ir(S-u,or(T-u,C)),s=u+C,d=p):x>0&&(C=ir(S-p,or(T-p,C)),s=u,d=p+C));break;case er:w&&(a=ir(N,or(E,i-z*w)),h=ir(N,or(E,f+z*w))),x&&(s=ir(S,or(T,u-C*x)),d=ir(S,or(T,p+C*x)))}h<a&&(w*=-1,r=i,i=f,f=r,r=a,a=h,h=r,m in hr&&D.attr("cursor",fr[m=hr[m]])),d<s&&(x*=-1,r=u,u=p,p=r,r=s,s=d,d=r,m in pr&&D.attr("cursor",fr[m=pr[m]])),M.selection&&(k=M.selection),g&&(a=k[0][0],h=k[1][0]),v&&(s=k[0][1],d=k[1][1]),k[0][0]===a&&k[0][1]===s&&k[1][0]===h&&k[1][1]===d||(M.selection=[[a,s],[h,d]],l.call(y),I.brush(t,b.name))}function P(t){if(function(t){t.stopImmediatePropagation()}(t),t.touches){if(t.touches.length)return;n&&clearTimeout(n),n=setTimeout((function(){n=null}),500)}else $t(t.view,_),R.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);O.attr("pointer-events","all"),D.attr("cursor",fr.overlay),M.selection&&(k=M.selection),function(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}(k)&&(M.selection=null,l.call(y)),I.end(t,b.name)}}function p(t){c(this,arguments).moved(t)}function d(t){c(this,arguments).ended(t)}function _(){var n=this.__brush||{selection:null};return n.extent=ur(e.apply(this,arguments)),n.dim=t,n}return s.move=function(n,e){n.tween?n.on("start.brush",(function(t){c(this,arguments).beforestart().start(t)})).on("interrupt.brush end.brush",(function(t){c(this,arguments).end(t)})).tween("brush",(function(){var n=this,r=n.__brush,i=c(n,arguments),o=r.selection,a=t.input("function"==typeof e?e.apply(this,arguments):e,r.extent),u=Un(o,a);function s(t){r.selection=1===t&&null===a?null:u(t),l.call(n),i.brush()}return null!==o&&null!==a?s:s(1)})):n.each((function(){var n=this,r=arguments,i=n.__brush,o=t.input("function"==typeof e?e.apply(n,r):e,i.extent),a=c(n,r).beforestart();ye(n),i.selection=null===o?null:o,l.call(n),a.start().brush().end()}))},s.clear=function(t){s.move(t,null)},f.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(t,n){return this.starting?(this.starting=!1,this.emit("start",t,n)):this.emit("brush",t),this},brush:function(t,n){return this.emit("brush",t,n),this},end:function(t,n){return 0==--this.active&&(delete this.state.emitter,this.emit("end",t,n)),this},emit:function(n,e,r){var i=Vt(this.that).datum();a.call(n,this.that,new Ke(n,{sourceEvent:e,target:s,selection:t.output(this.state.selection),mode:r,dispatch:a}),i)}},s.extent=function(t){return arguments.length?(e="function"==typeof t?t:Ge(ur(t)),s):e},s.filter=function(t){return arguments.length?(r="function"==typeof t?t:Ge(!!t),s):r},s.touchable=function(t){return arguments.length?(i="function"==typeof t?t:Ge(!!t),s):i},s.handleSize=function(t){return arguments.length?(u=+t,s):u},s.keyModifiers=function(t){return arguments.length?(o=!!t,s):o},s.on=function(){var t=a.on.apply(a,arguments);return t===a?s:t},s}(cr)}function xr(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Mr(t){return(t=xr(Math.abs(t)))?t[1]:NaN}var Ar,kr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Nr(t){if(!(n=kr.exec(t)))throw new Error("invalid format: "+t);var n;return new Sr({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Sr(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Er(t,n){var e=xr(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Nr.prototype=Sr.prototype,Sr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Tr={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Er(100*t,n),r:Er,s:function(t,n){var e=xr(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Ar=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+xr(t,Math.max(0,n+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function zr(t){return t}var Cr,jr,Lr,Or=Array.prototype.map,Dr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ir(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;--r>=0;)n+=e[r].value;else n=1;t.value=n}function Rr(t,n){t instanceof Map?(t=[void 0,t],void 0===n&&(n=Br)):void 0===n&&(n=Ur);for(var e,r,i,o,a,u=new Hr(t),s=[u];e=s.pop();)if((i=n(e.data))&&(a=(i=Array.from(i)).length))for(e.children=i,o=a-1;o>=0;--o)s.push(r=i[o]=new Hr(i[o])),r.parent=e,r.depth=e.depth+1;return u.eachBefore(Fr)}function Ur(t){return t.children}function Br(t){return Array.isArray(t)?t[1]:null}function Pr(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function Fr(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function Hr(t){this.data=t,this.depth=this.height=0,this.parent=null}Cr=function(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?zr:(n=Or.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=n[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),o.push(t.substring(i-=u,i+u)),!((s+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?zr:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(Or.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"−":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function f(t){var n=(t=Nr(t)).fill,e=t.align,f=t.sign,h=t.symbol,p=t.zero,d=t.width,_=t.comma,g=t.precision,v=t.trim,y=t.type;"n"===y?(_=!0,y="g"):Tr[y]||(void 0===g&&(g=12),v=!0,y="g"),(p||"0"===n&&"="===e)&&(p=!0,n="0",e="=");var m="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===h?o:/[%p]/.test(y)?s:"",w=Tr[y],x=/[defgprs%]/.test(y);function M(t){var i,o,s,h=m,M=b;if("c"===y)M=w(t)+M,t="";else{var A=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:w(Math.abs(t),g),v&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),A&&0==+t&&"+"!==f&&(A=!1),h=(A?"("===f?f:l:"-"===f||"("===f?"":f)+h,M=("s"===y?Dr[8+Ar/3]:"")+M+(A&&"("===f?")":""),x)for(i=-1,o=t.length;++i<o;)if(48>(s=t.charCodeAt(i))||s>57){M=(46===s?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}_&&!p&&(t=r(t,1/0));var k=h.length+t.length+M.length,N=k<d?new Array(d-k+1).join(n):"";switch(_&&p&&(t=r(N+t,N.length?d-M.length:1/0),N=""),e){case"<":t=h+t+M+N;break;case"=":t=h+N+t+M;break;case"^":t=N.slice(0,k=N.length>>1)+h+t+M+N.slice(k);break;default:t=N+h+t+M}return u(t)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),M.toString=function(){return t+""},M}return{format:f,formatPrefix:function(t,n){var e=f(((t=Nr(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Mr(n)/3))),i=Math.pow(10,-r),o=Dr[8+r/3];return function(t){return e(i*t)+o}}}}({thousands:",",grouping:[3],currency:["$",""]}),jr=Cr.format,Lr=Cr.formatPrefix,Hr.prototype=Rr.prototype={constructor:Hr,count:function(){return this.eachAfter(Ir)},each:function(t,n){let e=-1;for(const r of this)t.call(n,r,++e,this);return this},eachAfter:function(t,n){for(var e,r,i,o=this,a=[o],u=[],s=-1;o=a.pop();)if(u.push(o),e=o.children)for(r=0,i=e.length;r<i;++r)a.push(e[r]);for(;o=u.pop();)t.call(n,o,++s,this);return this},eachBefore:function(t,n){for(var e,r,i=this,o=[i],a=-1;i=o.pop();)if(t.call(n,i,++a,this),e=i.children)for(r=e.length-1;r>=0;--r)o.push(e[r]);return this},find:function(t,n){let e=-1;for(const r of this)if(t.call(n,r,++e,this))return r},sum:function(t){return this.eachAfter((function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e}))},sort:function(t){return this.eachBefore((function(n){n.children&&n.children.sort(t)}))},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(n){n.children||t.push(n)})),t},links:function(){var t=this,n=[];return t.each((function(e){e!==t&&n.push({source:e.parent,target:e})})),n},copy:function(){return Rr(this).eachBefore(Pr)},[Symbol.iterator]:function*(){var t,n,e,r,i=this,o=[i];do{for(t=o.reverse(),o=[];i=t.pop();)if(yield i,n=i.children)for(e=0,r=n.length;e<r;++e)o.push(n[e])}while(o.length)}};var qr=Math.sqrt(50),Vr=Math.sqrt(10),Wr=Math.sqrt(2);function Yr(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=qr?10:o>=Vr?5:o>=Wr?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=qr?10:o>=Vr?5:o>=Wr?2:1)}function $r(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Xr(t){let n=t,e=t;function r(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r}return 1===t.length&&(n=(n,e)=>t(n)-e,e=function(t){return(n,e)=>$r(t(n),e)}(t)),{left:r,center:function(t,e,i,o){null==i&&(i=0),null==o&&(o=t.length);const a=r(t,e,i,o-1);return a>i&&n(t[a-1],e)>-n(t[a],e)?a-1:a},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}const Zr=Xr($r),Gr=Zr.right,Kr=(Zr.left,Xr((function(t){return null===t?NaN:+t})).center,Gr);function Jr(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}function Qr(t){return+t}var ti=[0,1];function ni(t){return t}function ei(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function ri(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=ei(i,r),o=e(a,o)):(r=ei(r,i),o=e(o,a)),function(t){return o(r(t))}}function ii(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=ei(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=Kr(t,n,1,r)-1;return o[e](i[e](n))}}function oi(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function ai(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){var r,i,o,a,u=-1;if(e=+e,(t=+t)==(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=Yr(t,n,e))||!isFinite(a))return[];if(a>0){let e=Math.round(t/a),r=Math.round(n/a);for(e*a<t&&++e,r*a>n&&--r,o=new Array(i=r-e+1);++u<i;)o[u]=(e+u)*a}else{a=-a;let e=Math.round(t*a),r=Math.round(n*a);for(e/a<t&&++e,r/a>n&&--r,o=new Array(i=r-e+1);++u<i;)o[u]=(e+u)/a}return r&&o.reverse(),o}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return function(t,n,e,r){var i,o=function(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=qr?i*=10:o>=Vr?i*=5:o>=Wr&&(i*=2),n<t?-i:i}(t,n,e);switch((r=Nr(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Mr(n)/3)))-Mr(Math.abs(t)))}(o,a))||(r.precision=i),Lr(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Mr(n)-Mr(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Mr(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return jr(r)}(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,o=n(),a=0,u=o.length-1,s=o[a],l=o[u],c=10;for(l<s&&(i=s,s=l,l=i,i=a,a=u,u=i);c-- >0;){if((i=Yr(s,l,e))===r)return o[a]=s,o[u]=l,n(o);if(i>0)s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i}r=i}return t},t}function ui(){var t=function(){var t,n,e,r,i,o,a=ti,u=ti,s=Un,l=ni;function c(){var t,n,e,s=Math.min(a.length,u.length);return l!==ni&&(t=a[0],n=a[s-1],t>n&&(e=t,t=n,n=e),l=function(e){return Math.max(t,Math.min(n,e))}),r=s>2?ii:ri,i=o=null,f}function f(n){return null==n||isNaN(n=+n)?e:(i||(i=r(a.map(t),u,s)))(t(l(n)))}return f.invert=function(e){return l(n((o||(o=r(u,a.map(t),jn)))(e)))},f.domain=function(t){return arguments.length?(a=Array.from(t,Qr),c()):a.slice()},f.range=function(t){return arguments.length?(u=Array.from(t),c()):u.slice()},f.rangeRound=function(t){return u=Array.from(t),s=Jr,c()},f.clamp=function(t){return arguments.length?(l=!!t||ni,c()):l!==ni},f.interpolate=function(t){return arguments.length?(s=t,c()):s},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,c()}}()(ni,ni);return t.copy=function(){return n=t,ui().domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown());var n},oi.apply(t,arguments),ai(t)}const si=Math.PI,li=2*si,ci=1e-6,fi=li-ci;function hi(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function pi(){return new hi}hi.prototype=pi.prototype={constructor:hi,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,a=this._y1,u=e-t,s=r-n,l=o-t,c=a-n,f=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(f>ci)if(Math.abs(c*u-s*l)>ci&&i){var h=e-o,p=r-a,d=u*u+s*s,_=h*h+p*p,g=Math.sqrt(d),v=Math.sqrt(f),y=i*Math.tan((si-Math.acos((d+f-_)/(2*g*v)))/2),m=y/v,b=y/g;Math.abs(m-1)>ci&&(this._+="L"+(t+m*l)+","+(n+m*c)),this._+="A"+i+","+i+",0,0,"+ +(c*h>l*p)+","+(this._x1=t+b*u)+","+(this._y1=n+b*s)}else this._+="L"+(this._x1=t)+","+(this._y1=n)},arc:function(t,n,e,r,i,o){t=+t,n=+n,o=!!o;var a=(e=+e)*Math.cos(r),u=e*Math.sin(r),s=t+a,l=n+u,c=1^o,f=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+s+","+l:(Math.abs(this._x1-s)>ci||Math.abs(this._y1-l)>ci)&&(this._+="L"+s+","+l),e&&(f<0&&(f=f%li+li),f>fi?this._+="A"+e+","+e+",0,1,"+c+","+(t-a)+","+(n-u)+"A"+e+","+e+",0,1,"+c+","+(this._x1=s)+","+(this._y1=l):f>ci&&(this._+="A"+e+","+e+",0,"+ +(f>=si)+","+c+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};const di=pi;function _i(t){return function(){return t}}function gi(t){this._context=t}function vi(t){return new gi(t)}function yi(t){return t[0]}function mi(t){return t[1]}function bi(t,n){var e=_i(!0),r=null,i=vi,o=null;function a(a){var u,s,l,c=(a=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(a)).length,f=!1;for(null==r&&(o=i(l=di())),u=0;u<=c;++u)!(u<c&&e(s=a[u],u,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(s,u,a),+n(s,u,a));if(l)return o=null,l+""||null}return t="function"==typeof t?t:void 0===t?yi:_i(t),n="function"==typeof n?n:void 0===n?mi:_i(n),a.x=function(n){return arguments.length?(t="function"==typeof n?n:_i(+n),a):t},a.y=function(t){return arguments.length?(n="function"==typeof t?t:_i(+t),a):n},a.defined=function(t){return arguments.length?(e="function"==typeof t?t:_i(!!t),a):e},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function wi(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function xi(t){this._context=t}function Mi(t){return new xi(t)}function Ai(t,n){this._context=t,this._t=n}Array.prototype.slice,gi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}},xi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:wi(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:wi(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Ai.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}};var ki=new Date,Ni=new Date;function Si(t,n,e,r){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=function(n){return t(n=new Date(+n)),n},i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var a,u=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return u;do{u.push(a=new Date(+e)),n(e,o),t(e)}while(a<e&&e<r);return u},i.filter=function(e){return Si((function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););}))},e&&(i.count=function(n,r){return ki.setTime(+n),Ni.setTime(+r),t(ki),t(Ni),Math.floor(e(ki,Ni))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}const Ei=6e4,Ti=60*Ei*24,zi=7*Ti;function Ci(t){return Si((function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+7*n)}),(function(t,n){return(n-t)/zi}))}var ji=Ci(0),Li=Ci(1),Oi=Ci(2),Di=Ci(3),Ii=Ci(4),Ri=Ci(5),Ui=Ci(6),Bi=(ji.range,Li.range,Oi.range,Di.range,Ii.range,Ri.range,Ui.range,Si((function(t){t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+n)}),(function(t,n){return(n-t)/Ti}),(function(t){return t.getUTCDate()-1})));const Pi=Bi;function Fi(t){return Si((function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+7*n)}),(function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ei)/zi}))}Bi.range;var Hi=Fi(0),qi=Fi(1),Vi=Fi(2),Wi=Fi(3),Yi=Fi(4),$i=Fi(5),Xi=Fi(6),Zi=(Hi.range,qi.range,Vi.range,Wi.range,Yi.range,$i.range,Xi.range,Si((t=>t.setHours(0,0,0,0)),((t,n)=>t.setDate(t.getDate()+n)),((t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ei)/Ti),(t=>t.getDate()-1)));const Gi=Zi;Zi.range;var Ki=Si((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t,n){return n.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Ki.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Si((function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,e){n.setFullYear(n.getFullYear()+e*t)})):null};const Ji=Ki;Ki.range;var Qi=Si((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)}),(function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));Qi.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Si((function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)})):null};const to=Qi;function no(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function eo(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ro(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}Qi.range;var io,oo,ao={"-":"",_:" ",0:"0"},uo=/^\s*\d+/,so=/^%/,lo=/[\\^$*+?|[\]().{}]/g;function co(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function fo(t){return t.replace(lo,"\\$&")}function ho(t){return new RegExp("^(?:"+t.map(fo).join("|")+")","i")}function po(t){return new Map(t.map(((t,n)=>[t.toLowerCase(),n])))}function _o(t,n,e){var r=uo.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function go(t,n,e){var r=uo.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function vo(t,n,e){var r=uo.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function yo(t,n,e){var r=uo.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function mo(t,n,e){var r=uo.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function bo(t,n,e){var r=uo.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function wo(t,n,e){var r=uo.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function xo(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Mo(t,n,e){var r=uo.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function Ao(t,n,e){var r=uo.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function ko(t,n,e){var r=uo.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function No(t,n,e){var r=uo.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function So(t,n,e){var r=uo.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function Eo(t,n,e){var r=uo.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function To(t,n,e){var r=uo.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function zo(t,n,e){var r=uo.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function Co(t,n,e){var r=uo.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function jo(t,n,e){var r=so.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function Lo(t,n,e){var r=uo.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function Oo(t,n,e){var r=uo.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function Do(t,n){return co(t.getDate(),n,2)}function Io(t,n){return co(t.getHours(),n,2)}function Ro(t,n){return co(t.getHours()%12||12,n,2)}function Uo(t,n){return co(1+Gi.count(Ji(t),t),n,3)}function Bo(t,n){return co(t.getMilliseconds(),n,3)}function Po(t,n){return Bo(t,n)+"000"}function Fo(t,n){return co(t.getMonth()+1,n,2)}function Ho(t,n){return co(t.getMinutes(),n,2)}function qo(t,n){return co(t.getSeconds(),n,2)}function Vo(t){var n=t.getDay();return 0===n?7:n}function Wo(t,n){return co(Hi.count(Ji(t)-1,t),n,2)}function Yo(t){var n=t.getDay();return n>=4||0===n?Yi(t):Yi.ceil(t)}function $o(t,n){return t=Yo(t),co(Yi.count(Ji(t),t)+(4===Ji(t).getDay()),n,2)}function Xo(t){return t.getDay()}function Zo(t,n){return co(qi.count(Ji(t)-1,t),n,2)}function Go(t,n){return co(t.getFullYear()%100,n,2)}function Ko(t,n){return co((t=Yo(t)).getFullYear()%100,n,2)}function Jo(t,n){return co(t.getFullYear()%1e4,n,4)}function Qo(t,n){var e=t.getDay();return co((t=e>=4||0===e?Yi(t):Yi.ceil(t)).getFullYear()%1e4,n,4)}function ta(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+co(n/60|0,"0",2)+co(n%60,"0",2)}function na(t,n){return co(t.getUTCDate(),n,2)}function ea(t,n){return co(t.getUTCHours(),n,2)}function ra(t,n){return co(t.getUTCHours()%12||12,n,2)}function ia(t,n){return co(1+Pi.count(to(t),t),n,3)}function oa(t,n){return co(t.getUTCMilliseconds(),n,3)}function aa(t,n){return oa(t,n)+"000"}function ua(t,n){return co(t.getUTCMonth()+1,n,2)}function sa(t,n){return co(t.getUTCMinutes(),n,2)}function la(t,n){return co(t.getUTCSeconds(),n,2)}function ca(t){var n=t.getUTCDay();return 0===n?7:n}function fa(t,n){return co(ji.count(to(t)-1,t),n,2)}function ha(t){var n=t.getUTCDay();return n>=4||0===n?Ii(t):Ii.ceil(t)}function pa(t,n){return t=ha(t),co(Ii.count(to(t),t)+(4===to(t).getUTCDay()),n,2)}function da(t){return t.getUTCDay()}function _a(t,n){return co(Li.count(to(t)-1,t),n,2)}function ga(t,n){return co(t.getUTCFullYear()%100,n,2)}function va(t,n){return co((t=ha(t)).getUTCFullYear()%100,n,2)}function ya(t,n){return co(t.getUTCFullYear()%1e4,n,4)}function ma(t,n){var e=t.getUTCDay();return co((t=e>=4||0===e?Ii(t):Ii.ceil(t)).getUTCFullYear()%1e4,n,4)}function ba(){return"+0000"}function wa(){return"%"}function xa(t){return+t}function Ma(t){return Math.floor(+t/1e3)}io=function(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,s=t.shortMonths,l=ho(i),c=po(i),f=ho(o),h=po(o),p=ho(a),d=po(a),_=ho(u),g=po(u),v=ho(s),y=po(s),m={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:Do,e:Do,f:Po,g:Ko,G:Qo,H:Io,I:Ro,j:Uo,L:Bo,m:Fo,M:Ho,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:xa,s:Ma,S:qo,u:Vo,U:Wo,V:$o,w:Xo,W:Zo,x:null,X:null,y:Go,Y:Jo,Z:ta,"%":wa},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:na,e:na,f:aa,g:va,G:ma,H:ea,I:ra,j:ia,L:oa,m:ua,M:sa,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:xa,s:Ma,S:la,u:ca,U:fa,V:pa,w:da,W:_a,x:null,X:null,y:ga,Y:ya,Z:ba,"%":wa},w={a:function(t,n,e){var r=p.exec(n.slice(e));return r?(t.w=d.get(r[0].toLowerCase()),e+r[0].length):-1},A:function(t,n,e){var r=f.exec(n.slice(e));return r?(t.w=h.get(r[0].toLowerCase()),e+r[0].length):-1},b:function(t,n,e){var r=v.exec(n.slice(e));return r?(t.m=y.get(r[0].toLowerCase()),e+r[0].length):-1},B:function(t,n,e){var r=_.exec(n.slice(e));return r?(t.m=g.get(r[0].toLowerCase()),e+r[0].length):-1},c:function(t,e,r){return A(t,n,e,r)},d:ko,e:ko,f:Co,g:wo,G:bo,H:So,I:So,j:No,L:zo,m:Ao,M:Eo,p:function(t,n,e){var r=l.exec(n.slice(e));return r?(t.p=c.get(r[0].toLowerCase()),e+r[0].length):-1},q:Mo,Q:Lo,s:Oo,S:To,u:go,U:vo,V:yo,w:_o,W:mo,x:function(t,n,r){return A(t,e,n,r)},X:function(t,n,e){return A(t,r,n,e)},y:wo,Y:bo,Z:xo,"%":jo};function x(t,n){return function(e){var r,i,o,a=[],u=-1,s=0,l=t.length;for(e instanceof Date||(e=new Date(+e));++u<l;)37===t.charCodeAt(u)&&(a.push(t.slice(s,u)),null!=(i=ao[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),a.push(r),s=u+1);return a.push(t.slice(s,u)),a.join("")}}function M(t,n){return function(e){var r,i,o=ro(1900,void 0,1);if(A(o,t,e+="",0)!=e.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(n&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=eo(ro(o.y,0,1))).getUTCDay(),r=i>4||0===i?Li.ceil(r):Li(r),r=Pi.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=no(ro(o.y,0,1))).getDay(),r=i>4||0===i?qi.ceil(r):qi(r),r=Gi.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?eo(ro(o.y,0,1)).getUTCDay():no(ro(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,eo(o)):no(o)}}function A(t,n,e,r){for(var i,o,a=0,u=n.length,s=e.length;a<u;){if(r>=s)return-1;if(37===(i=n.charCodeAt(a++))){if(i=n.charAt(a++),!(o=w[i in ao?n.charAt(a++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return m.x=x(e,m),m.X=x(r,m),m.c=x(n,m),b.x=x(e,b),b.X=x(r,b),b.c=x(n,b),{format:function(t){var n=x(t+="",m);return n.toString=function(){return t},n},parse:function(t){var n=M(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=x(t+="",b);return n.toString=function(){return t},n},utcParse:function(t){var n=M(t+="",!0);return n.toString=function(){return t},n}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),io.format,oo=io.parse,io.utcFormat,io.utcParse;var Aa=1e-12;function ka(t){return((t=Math.exp(t))+1/t)/2}const Na=function t(n,e,r){function i(t,i){var o,a,u=t[0],s=t[1],l=t[2],c=i[0],f=i[1],h=i[2],p=c-u,d=f-s,_=p*p+d*d;if(_<Aa)a=Math.log(h/l)/n,o=function(t){return[u+t*p,s+t*d,l*Math.exp(n*t*a)]};else{var g=Math.sqrt(_),v=(h*h-l*l+r*_)/(2*l*e*g),y=(h*h-l*l-r*_)/(2*h*e*g),m=Math.log(Math.sqrt(v*v+1)-v),b=Math.log(Math.sqrt(y*y+1)-y);a=(b-m)/n,o=function(t){var r,i=t*a,o=ka(m),c=l/(e*g)*(o*(r=n*i+m,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[u+c*p,s+c*d,l*o/ka(n*i+m)]}}return o.duration=1e3*a*n/Math.SQRT2,o}return i.rho=function(n){var e=Math.max(.001,+n),r=e*e;return t(e,r,r*r)},i}(Math.SQRT2,2,4),Sa=t=>()=>t;function Ea(t,{sourceEvent:n,target:e,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ta(t,n,e){this.k=t,this.x=n,this.y=e}Ta.prototype={constructor:Ta,scale:function(t){return 1===t?this:new Ta(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Ta(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var za=new Ta(1,0,0);function Ca(t){t.stopImmediatePropagation()}function ja(t){t.preventDefault(),t.stopImmediatePropagation()}function La(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function Oa(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function Da(){return this.__zoom||za}function Ia(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Ra(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ua(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}Ta.prototype;var Ba="1.13.6",Pa="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},Fa=Array.prototype,Ha=Object.prototype,qa="undefined"!=typeof Symbol?Symbol.prototype:null,Va=Fa.push,Wa=Fa.slice,Ya=Ha.toString,$a=Ha.hasOwnProperty,Xa="undefined"!=typeof ArrayBuffer,Za="undefined"!=typeof DataView,Ga=Array.isArray,Ka=Object.keys,Ja=Object.create,Qa=Xa&&ArrayBuffer.isView,tu=isNaN,nu=isFinite,eu=!{toString:null}.propertyIsEnumerable("toString"),ru=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],iu=Math.pow(2,53)-1;function ou(t,n){return n=null==n?t.length-1:+n,function(){for(var e=Math.max(arguments.length-n,0),r=Array(e),i=0;i<e;i++)r[i]=arguments[i+n];switch(n){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(n+1);for(i=0;i<n;i++)o[i]=arguments[i];return o[n]=r,t.apply(this,o)}}function au(t){var n=typeof t;return"function"===n||"object"===n&&!!t}function uu(t){return null===t}function su(t){return void 0===t}function lu(t){return!0===t||!1===t||"[object Boolean]"===Ya.call(t)}function cu(t){return!(!t||1!==t.nodeType)}function fu(t){var n="[object "+t+"]";return function(t){return Ya.call(t)===n}}const hu=fu("String"),pu=fu("Number"),du=fu("Date"),_u=fu("RegExp"),gu=fu("Error"),vu=fu("Symbol"),yu=fu("ArrayBuffer");var mu=fu("Function"),bu=Pa.document&&Pa.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof bu&&(mu=function(t){return"function"==typeof t||!1});const wu=mu,xu=fu("Object");var Mu=Za&&xu(new DataView(new ArrayBuffer(8))),Au="undefined"!=typeof Map&&xu(new Map),ku=fu("DataView");const Nu=Mu?function(t){return null!=t&&wu(t.getInt8)&&yu(t.buffer)}:ku,Su=Ga||fu("Array");function Eu(t,n){return null!=t&&$a.call(t,n)}var Tu=fu("Arguments");!function(){Tu(arguments)||(Tu=function(t){return Eu(t,"callee")})}();const zu=Tu;function Cu(t){return!vu(t)&&nu(t)&&!isNaN(parseFloat(t))}function ju(t){return pu(t)&&tu(t)}function Lu(t){return function(){return t}}function Ou(t){return function(n){var e=t(n);return"number"==typeof e&&e>=0&&e<=iu}}function Du(t){return function(n){return null==n?void 0:n[t]}}const Iu=Du("byteLength"),Ru=Ou(Iu);var Uu=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const Bu=Xa?function(t){return Qa?Qa(t)&&!Nu(t):Ru(t)&&Uu.test(Ya.call(t))}:Lu(!1),Pu=Du("length");function Fu(t,n){n=function(t){for(var n={},e=t.length,r=0;r<e;++r)n[t[r]]=!0;return{contains:function(t){return!0===n[t]},push:function(e){return n[e]=!0,t.push(e)}}}(n);var e=ru.length,r=t.constructor,i=wu(r)&&r.prototype||Ha,o="constructor";for(Eu(t,o)&&!n.contains(o)&&n.push(o);e--;)(o=ru[e])in t&&t[o]!==i[o]&&!n.contains(o)&&n.push(o)}function Hu(t){if(!au(t))return[];if(Ka)return Ka(t);var n=[];for(var e in t)Eu(t,e)&&n.push(e);return eu&&Fu(t,n),n}function qu(t){if(null==t)return!0;var n=Pu(t);return"number"==typeof n&&(Su(t)||hu(t)||zu(t))?0===n:0===Pu(Hu(t))}function Vu(t,n){var e=Hu(n),r=e.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=e[o];if(n[a]!==i[a]||!(a in i))return!1}return!0}function Wu(t){return t instanceof Wu?t:this instanceof Wu?void(this._wrapped=t):new Wu(t)}function Yu(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,Iu(t))}Wu.VERSION=Ba,Wu.prototype.value=function(){return this._wrapped},Wu.prototype.valueOf=Wu.prototype.toJSON=Wu.prototype.value,Wu.prototype.toString=function(){return String(this._wrapped)};var $u="[object DataView]";function Xu(t,n,e,r){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var i=typeof t;return("function"===i||"object"===i||"object"==typeof n)&&Zu(t,n,e,r)}function Zu(t,n,e,r){t instanceof Wu&&(t=t._wrapped),n instanceof Wu&&(n=n._wrapped);var i=Ya.call(t);if(i!==Ya.call(n))return!1;if(Mu&&"[object Object]"==i&&Nu(t)){if(!Nu(n))return!1;i=$u}switch(i){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return qa.valueOf.call(t)===qa.valueOf.call(n);case"[object ArrayBuffer]":case $u:return Zu(Yu(t),Yu(n),e,r)}var o="[object Array]"===i;if(!o&&Bu(t)){if(Iu(t)!==Iu(n))return!1;if(t.buffer===n.buffer&&t.byteOffset===n.byteOffset)return!0;o=!0}if(!o){if("object"!=typeof t||"object"!=typeof n)return!1;var a=t.constructor,u=n.constructor;if(a!==u&&!(wu(a)&&a instanceof a&&wu(u)&&u instanceof u)&&"constructor"in t&&"constructor"in n)return!1}r=r||[];for(var s=(e=e||[]).length;s--;)if(e[s]===t)return r[s]===n;if(e.push(t),r.push(n),o){if((s=t.length)!==n.length)return!1;for(;s--;)if(!Xu(t[s],n[s],e,r))return!1}else{var l,c=Hu(t);if(s=c.length,Hu(n).length!==s)return!1;for(;s--;)if(!Eu(n,l=c[s])||!Xu(t[l],n[l],e,r))return!1}return e.pop(),r.pop(),!0}function Gu(t,n){return Xu(t,n)}function Ku(t){if(!au(t))return[];var n=[];for(var e in t)n.push(e);return eu&&Fu(t,n),n}function Ju(t){var n=Pu(t);return function(e){if(null==e)return!1;var r=Ku(e);if(Pu(r))return!1;for(var i=0;i<n;i++)if(!wu(e[t[i]]))return!1;return t!==rs||!wu(e[Qu])}}var Qu="forEach",ts=["clear","delete"],ns=["get","has","set"],es=ts.concat(Qu,ns),rs=ts.concat(ns),is=["add"].concat(ts,Qu,"has");const os=Au?Ju(es):fu("Map"),as=Au?Ju(rs):fu("WeakMap"),us=Au?Ju(is):fu("Set"),ss=fu("WeakSet");function ls(t){for(var n=Hu(t),e=n.length,r=Array(e),i=0;i<e;i++)r[i]=t[n[i]];return r}function cs(t){for(var n=Hu(t),e=n.length,r=Array(e),i=0;i<e;i++)r[i]=[n[i],t[n[i]]];return r}function fs(t){for(var n={},e=Hu(t),r=0,i=e.length;r<i;r++)n[t[e[r]]]=e[r];return n}function hs(t){var n=[];for(var e in t)wu(t[e])&&n.push(e);return n.sort()}function ps(t,n){return function(e){var r=arguments.length;if(n&&(e=Object(e)),r<2||null==e)return e;for(var i=1;i<r;i++)for(var o=arguments[i],a=t(o),u=a.length,s=0;s<u;s++){var l=a[s];n&&void 0!==e[l]||(e[l]=o[l])}return e}}const ds=ps(Ku),_s=ps(Hu),gs=ps(Ku,!0);function vs(t){if(!au(t))return{};if(Ja)return Ja(t);var n=function(){};n.prototype=t;var e=new n;return n.prototype=null,e}function ys(t,n){var e=vs(t);return n&&_s(e,n),e}function ms(t){return au(t)?Su(t)?t.slice():ds({},t):t}function bs(t,n){return n(t),t}function ws(t){return Su(t)?t:[t]}function xs(t){return Wu.toPath(t)}function Ms(t,n){for(var e=n.length,r=0;r<e;r++){if(null==t)return;t=t[n[r]]}return e?t:void 0}function As(t,n,e){var r=Ms(t,xs(n));return su(r)?e:r}function ks(t,n){for(var e=(n=xs(n)).length,r=0;r<e;r++){var i=n[r];if(!Eu(t,i))return!1;t=t[i]}return!!e}function Ns(t){return t}function Ss(t){return t=_s({},t),function(n){return Vu(n,t)}}function Es(t){return t=xs(t),function(n){return Ms(n,t)}}function Ts(t,n,e){if(void 0===n)return t;switch(null==e?3:e){case 1:return function(e){return t.call(n,e)};case 3:return function(e,r,i){return t.call(n,e,r,i)};case 4:return function(e,r,i,o){return t.call(n,e,r,i,o)}}return function(){return t.apply(n,arguments)}}function zs(t,n,e){return null==t?Ns:wu(t)?Ts(t,n,e):au(t)&&!Su(t)?Ss(t):Es(t)}function Cs(t,n){return zs(t,n,1/0)}function js(t,n,e){return Wu.iteratee!==Cs?Wu.iteratee(t,n):zs(t,n,e)}function Ls(t,n,e){n=js(n,e);for(var r=Hu(t),i=r.length,o={},a=0;a<i;a++){var u=r[a];o[u]=n(t[u],u,t)}return o}function Os(){}function Ds(t){return null==t?Os:function(n){return As(t,n)}}function Is(t,n,e){var r=Array(Math.max(0,t));n=Ts(n,e,1);for(var i=0;i<t;i++)r[i]=n(i);return r}function Rs(t,n){return null==n&&(n=t,t=0),t+Math.floor(Math.random()*(n-t+1))}Wu.toPath=ws,Wu.iteratee=Cs;const Us=Date.now||function(){return(new Date).getTime()};function Bs(t){var n=function(n){return t[n]},e="(?:"+Hu(t).join("|")+")",r=RegExp(e),i=RegExp(e,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,n):t}}const Ps={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Fs=Bs(Ps),Hs=Bs(fs(Ps)),qs=Wu.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Vs=/(.)^/,Ws={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Ys=/\\|'|\r|\n|\u2028|\u2029/g;function $s(t){return"\\"+Ws[t]}var Xs=/^\s*(\w|\$)+\s*$/;function Zs(t,n,e){!n&&e&&(n=e),n=gs({},n,Wu.templateSettings);var r=RegExp([(n.escape||Vs).source,(n.interpolate||Vs).source,(n.evaluate||Vs).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,(function(n,e,r,a,u){return o+=t.slice(i,u).replace(Ys,$s),i=u+n.length,e?o+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),n})),o+="';\n";var a,u=n.variable;if(u){if(!Xs.test(u))throw new Error("variable is not a bare identifier: "+u)}else o="with(obj||{}){\n"+o+"}\n",u="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{a=new Function(u,"_",o)}catch(t){throw t.source=o,t}var s=function(t){return a.call(this,t,Wu)};return s.source="function("+u+"){\n"+o+"}",s}function Gs(t,n,e){var r=(n=xs(n)).length;if(!r)return wu(e)?e.call(t):e;for(var i=0;i<r;i++){var o=null==t?void 0:t[n[i]];void 0===o&&(o=e,i=r),t=wu(o)?o.call(t):o}return t}var Ks=0;function Js(t){var n=++Ks+"";return t?t+n:n}function Qs(t){var n=Wu(t);return n._chain=!0,n}function tl(t,n,e,r,i){if(!(r instanceof n))return t.apply(e,i);var o=vs(t.prototype),a=t.apply(o,i);return au(a)?a:o}var nl=ou((function(t,n){var e=nl.placeholder,r=function(){for(var i=0,o=n.length,a=Array(o),u=0;u<o;u++)a[u]=n[u]===e?arguments[i++]:n[u];for(;i<arguments.length;)a.push(arguments[i++]);return tl(t,r,this,this,a)};return r}));nl.placeholder=Wu;const el=nl,rl=ou((function(t,n,e){if(!wu(t))throw new TypeError("Bind must be called on a function");var r=ou((function(i){return tl(t,r,n,this,e.concat(i))}));return r})),il=Ou(Pu);function ol(t,n,e,r){if(r=r||[],n||0===n){if(n<=0)return r.concat(t)}else n=1/0;for(var i=r.length,o=0,a=Pu(t);o<a;o++){var u=t[o];if(il(u)&&(Su(u)||zu(u)))if(n>1)ol(u,n-1,e,r),i=r.length;else for(var s=0,l=u.length;s<l;)r[i++]=u[s++];else e||(r[i++]=u)}return r}const al=ou((function(t,n){var e=(n=ol(n,!1,!1)).length;if(e<1)throw new Error("bindAll must be passed function names");for(;e--;){var r=n[e];t[r]=rl(t[r],t)}return t}));function ul(t,n){var e=function(r){var i=e.cache,o=""+(n?n.apply(this,arguments):r);return Eu(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return e.cache={},e}const sl=ou((function(t,n,e){return setTimeout((function(){return t.apply(null,e)}),n)})),ll=el(sl,Wu,1);function cl(t,n,e){var r,i,o,a,u=0;e||(e={});var s=function(){u=!1===e.leading?0:Us(),r=null,a=t.apply(i,o),r||(i=o=null)},l=function(){var l=Us();u||!1!==e.leading||(u=l);var c=n-(l-u);return i=this,o=arguments,c<=0||c>n?(r&&(clearTimeout(r),r=null),u=l,a=t.apply(i,o),r||(i=o=null)):r||!1===e.trailing||(r=setTimeout(s,c)),a};return l.cancel=function(){clearTimeout(r),u=0,r=i=o=null},l}function fl(t,n,e){var r,i,o,a,u,s=function(){var l=Us()-i;n>l?r=setTimeout(s,n-l):(r=null,e||(a=t.apply(u,o)),r||(o=u=null))},l=ou((function(l){return u=this,o=l,i=Us(),r||(r=setTimeout(s,n),e&&(a=t.apply(u,o))),a}));return l.cancel=function(){clearTimeout(r),r=o=u=null},l}function hl(t,n){return el(n,t)}function pl(t){return function(){return!t.apply(this,arguments)}}function dl(){var t=arguments,n=t.length-1;return function(){for(var e=n,r=t[n].apply(this,arguments);e--;)r=t[e].call(this,r);return r}}function _l(t,n){return function(){if(--t<1)return n.apply(this,arguments)}}function gl(t,n){var e;return function(){return--t>0&&(e=n.apply(this,arguments)),t<=1&&(n=null),e}}const vl=el(gl,2);function yl(t,n,e){n=js(n,e);for(var r,i=Hu(t),o=0,a=i.length;o<a;o++)if(n(t[r=i[o]],r,t))return r}function ml(t){return function(n,e,r){e=js(e,r);for(var i=Pu(n),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(e(n[o],o,n))return o;return-1}}const bl=ml(1),wl=ml(-1);function xl(t,n,e,r){for(var i=(e=js(e,r,1))(n),o=0,a=Pu(t);o<a;){var u=Math.floor((o+a)/2);e(t[u])<i?o=u+1:a=u}return o}function Ml(t,n,e){return function(r,i,o){var a=0,u=Pu(r);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+u,a):u=o>=0?Math.min(o+1,u):o+u+1;else if(e&&o&&u)return r[o=e(r,i)]===i?o:-1;if(i!=i)return(o=n(Wa.call(r,a,u),ju))>=0?o+a:-1;for(o=t>0?a:u-1;o>=0&&o<u;o+=t)if(r[o]===i)return o;return-1}}const Al=Ml(1,bl,xl),kl=Ml(-1,wl);function Nl(t,n,e){var r=(il(t)?bl:yl)(t,n,e);if(void 0!==r&&-1!==r)return t[r]}function Sl(t,n){return Nl(t,Ss(n))}function El(t,n,e){var r,i;if(n=Ts(n,e),il(t))for(r=0,i=t.length;r<i;r++)n(t[r],r,t);else{var o=Hu(t);for(r=0,i=o.length;r<i;r++)n(t[o[r]],o[r],t)}return t}function Tl(t,n,e){n=js(n,e);for(var r=!il(t)&&Hu(t),i=(r||t).length,o=Array(i),a=0;a<i;a++){var u=r?r[a]:a;o[a]=n(t[u],u,t)}return o}function zl(t){var n=function(n,e,r,i){var o=!il(n)&&Hu(n),a=(o||n).length,u=t>0?0:a-1;for(i||(r=n[o?o[u]:u],u+=t);u>=0&&u<a;u+=t){var s=o?o[u]:u;r=e(r,n[s],s,n)}return r};return function(t,e,r,i){var o=arguments.length>=3;return n(t,Ts(e,i,4),r,o)}}const Cl=zl(1),jl=zl(-1);function Ll(t,n,e){var r=[];return n=js(n,e),El(t,(function(t,e,i){n(t,e,i)&&r.push(t)})),r}function Ol(t,n,e){return Ll(t,pl(js(n)),e)}function Dl(t,n,e){n=js(n,e);for(var r=!il(t)&&Hu(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(!n(t[a],a,t))return!1}return!0}function Il(t,n,e){n=js(n,e);for(var r=!il(t)&&Hu(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(n(t[a],a,t))return!0}return!1}function Rl(t,n,e,r){return il(t)||(t=ls(t)),("number"!=typeof e||r)&&(e=0),Al(t,n,e)>=0}const Ul=ou((function(t,n,e){var r,i;return wu(n)?i=n:(n=xs(n),r=n.slice(0,-1),n=n[n.length-1]),Tl(t,(function(t){var o=i;if(!o){if(r&&r.length&&(t=Ms(t,r)),null==t)return;o=t[n]}return null==o?o:o.apply(t,e)}))}));function Bl(t,n){return Tl(t,Es(n))}function Pl(t,n){return Ll(t,Ss(n))}function Fl(t,n,e){var r,i,o=-1/0,a=-1/0;if(null==n||"number"==typeof n&&"object"!=typeof t[0]&&null!=t)for(var u=0,s=(t=il(t)?t:ls(t)).length;u<s;u++)null!=(r=t[u])&&r>o&&(o=r);else n=js(n,e),El(t,(function(t,e,r){((i=n(t,e,r))>a||i===-1/0&&o===-1/0)&&(o=t,a=i)}));return o}function Hl(t,n,e){var r,i,o=1/0,a=1/0;if(null==n||"number"==typeof n&&"object"!=typeof t[0]&&null!=t)for(var u=0,s=(t=il(t)?t:ls(t)).length;u<s;u++)null!=(r=t[u])&&r<o&&(o=r);else n=js(n,e),El(t,(function(t,e,r){((i=n(t,e,r))<a||i===1/0&&o===1/0)&&(o=t,a=i)}));return o}var ql=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Vl(t){return t?Su(t)?Wa.call(t):hu(t)?t.match(ql):il(t)?Tl(t,Ns):ls(t):[]}function Wl(t,n,e){if(null==n||e)return il(t)||(t=ls(t)),t[Rs(t.length-1)];var r=Vl(t),i=Pu(r);n=Math.max(Math.min(n,i),0);for(var o=i-1,a=0;a<n;a++){var u=Rs(a,o),s=r[a];r[a]=r[u],r[u]=s}return r.slice(0,n)}function Yl(t){return Wl(t,1/0)}function $l(t,n,e){var r=0;return n=js(n,e),Bl(Tl(t,(function(t,e,i){return{value:t,index:r++,criteria:n(t,e,i)}})).sort((function(t,n){var e=t.criteria,r=n.criteria;if(e!==r){if(e>r||void 0===e)return 1;if(e<r||void 0===r)return-1}return t.index-n.index})),"value")}function Xl(t,n){return function(e,r,i){var o=n?[[],[]]:{};return r=js(r,i),El(e,(function(n,i){var a=r(n,i,e);t(o,n,a)})),o}}const Zl=Xl((function(t,n,e){Eu(t,e)?t[e].push(n):t[e]=[n]})),Gl=Xl((function(t,n,e){t[e]=n})),Kl=Xl((function(t,n,e){Eu(t,e)?t[e]++:t[e]=1})),Jl=Xl((function(t,n,e){t[e?0:1].push(n)}),!0);function Ql(t){return null==t?0:il(t)?t.length:Hu(t).length}function tc(t,n,e){return n in e}const nc=ou((function(t,n){var e={},r=n[0];if(null==t)return e;wu(r)?(n.length>1&&(r=Ts(r,n[1])),n=Ku(t)):(r=tc,n=ol(n,!1,!1),t=Object(t));for(var i=0,o=n.length;i<o;i++){var a=n[i],u=t[a];r(u,a,t)&&(e[a]=u)}return e})),ec=ou((function(t,n){var e,r=n[0];return wu(r)?(r=pl(r),n.length>1&&(e=n[1])):(n=Tl(ol(n,!1,!1),String),r=function(t,e){return!Rl(n,e)}),nc(t,r,e)}));function rc(t,n,e){return Wa.call(t,0,Math.max(0,t.length-(null==n||e?1:n)))}function ic(t,n,e){return null==t||t.length<1?null==n||e?void 0:[]:null==n||e?t[0]:rc(t,t.length-n)}function oc(t,n,e){return Wa.call(t,null==n||e?1:n)}function ac(t,n,e){return null==t||t.length<1?null==n||e?void 0:[]:null==n||e?t[t.length-1]:oc(t,Math.max(0,t.length-n))}function uc(t){return Ll(t,Boolean)}function sc(t,n){return ol(t,n,!1)}const lc=ou((function(t,n){return n=ol(n,!0,!0),Ll(t,(function(t){return!Rl(n,t)}))})),cc=ou((function(t,n){return lc(t,n)}));function fc(t,n,e,r){lu(n)||(r=e,e=n,n=!1),null!=e&&(e=js(e,r));for(var i=[],o=[],a=0,u=Pu(t);a<u;a++){var s=t[a],l=e?e(s,a,t):s;n&&!e?(a&&o===l||i.push(s),o=l):e?Rl(o,l)||(o.push(l),i.push(s)):Rl(i,s)||i.push(s)}return i}const hc=ou((function(t){return fc(ol(t,!0,!0))}));function pc(t){for(var n=[],e=arguments.length,r=0,i=Pu(t);r<i;r++){var o=t[r];if(!Rl(n,o)){var a;for(a=1;a<e&&Rl(arguments[a],o);a++);a===e&&n.push(o)}}return n}function dc(t){for(var n=t&&Fl(t,Pu).length||0,e=Array(n),r=0;r<n;r++)e[r]=Bl(t,r);return e}const _c=ou(dc);function gc(t,n){for(var e={},r=0,i=Pu(t);r<i;r++)n?e[t[r]]=n[r]:e[t[r][0]]=t[r][1];return e}function vc(t,n,e){null==n&&(n=t||0,t=0),e||(e=n<t?-1:1);for(var r=Math.max(Math.ceil((n-t)/e),0),i=Array(r),o=0;o<r;o++,t+=e)i[o]=t;return i}function yc(t,n){if(null==n||n<1)return[];for(var e=[],r=0,i=t.length;r<i;)e.push(Wa.call(t,r,r+=n));return e}function mc(t,n){return t._chain?Wu(n).chain():n}function bc(t){return El(hs(t),(function(n){var e=Wu[n]=t[n];Wu.prototype[n]=function(){var t=[this._wrapped];return Va.apply(t,arguments),mc(this,e.apply(Wu,t))}})),Wu}El(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var n=Fa[t];Wu.prototype[t]=function(){var e=this._wrapped;return null!=e&&(n.apply(e,arguments),"shift"!==t&&"splice"!==t||0!==e.length||delete e[0]),mc(this,e)}})),El(["concat","join","slice"],(function(t){var n=Fa[t];Wu.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=n.apply(t,arguments)),mc(this,t)}}));const wc=Wu;var xc=bc(r);xc._=xc;function Mc(t,n,e,r){let i=this.nodes.descendants();if(t.parent&&i.indexOf(t)>=0){let i=t.parent.children.indexOf(t),o={name:e,parent:t.parent,attribute:r?r[2]:null,original_child_order:t.original_child_order},a={name:n,parent:o,attribute:r?r[1]:null,original_child_order:2};o.children=[t,a],t.parent.children[i]=o,t.parent=o,t.attribute=r?r[0]:null,t.original_child_order=1}return this}function Ac(t,n){return t.children?t.children.push(n):t.children=[n],t}function kc(t,n){return{data:{name:t,attribute:n?n[1]:null},parent:""}}function Nc(t){let n=this.nodes.descendants();if("number"!=typeof t)return this.deleteANode(n.indexOf(t));if(t>0&&t<n.length){let e=n[t];if(e.parent){let r=e.parent.children.indexOf(e);r>=0&&(n.splice(t,1),e.children&&e.children.forEach((function(t){t.original_child_order=e.parent.children.length,e.parent.children.push(t),t.parent=e.parent})),e.parent.children.length>2?e.parent.children.splice(r,1):e.parent.parent?(e.parent.parent.children[e.parent.parent.children.indexOf(e.parent)]=e.parent.children[1-r],e.parent.children[1-r].parent=e.parent.parent,n.splice(n.indexOf(e.parent),1)):(n.splice(0,1),n.parent=null,delete n.data.attribute,delete n.data.annotation,delete n.data.original_child_order,n.name="root",n.data.name="root"))}}return this}function Sc(){return Ll(this.nodes.descendants(),(t=>!ks(t,"children")))}function Ec(){return Ll(this.nodes.descendants(),(t=>ks(t,"children")))}function Tc(){return this.nodes}function zc(){return this.nodes}function Cc(t){return Ll(this.nodes.descendants(),(n=>n.data.name==t))[0]}function jc(t){El(this.nodes.descendants(),(function(n){n.data&&n.data.name in t&&(n.annotations=t[n.data.name])}))}function Lc(t){return!ks(t,"children")}function Oc(t,n){return this.nodes.each((function(e){t in e&&(n&&(e[n]=e[t]),delete e[t])})),this}function Dc(t){t||this.nodes.each((t=>{Lc(t)||(t[this.selection_attribute_name]=!1,t.data.traits||(t.data.traits={}),t.data.traits[this.selection_attribute_name]=t[this.selection_attribute_name])}))}function Ic(t,n){let e=this;t||(t=t=>"");let r=[];return t=t||"",function n(i){Lc(i)||(r.push("("),i.children.forEach((function(t,e){e&&r.push(","),n(t)})),r.push(")")),"root"!=i.data.name&&r.push(i.data.name),r.push(t(i));let o=e.branch_length_accessor(i);void 0!==o&&r.push(":"+o)}(n||this.nodes),r.join("")+";"}const Rc=function(t,n={}){const e=!0,r=/^-?\d+(\.\d+)?$/;let i=n.left_delimiter||"{",o=n.right_delimiter||"}",a=[];function u(){let t=a[a.length-1];"children"in t||(t.children=[]),a.push({name:null}),t.children.push(a[a.length-1]),a[a.length-1].original_child_order=t.children.length}function s(){let t=a.pop();t.name=f,e&&"children"in t?t.bootstrap_values=f:t.name=f,t.attribute=h,"["==i&&p.includes("&&NHX")?p.split(":").slice(1).forEach((n=>{const[e,i]=n.split("=");t[e]=r.test(i)?+i:i})):t.annotation=p,f="",h="",p=""}function l(n){return{json:null,error:"Unexpected '"+t[n]+"' in '"+t.substring(n-20,n+1)+"[ERROR HERE]"+t.substring(n+1,n+20)+"'"}}let c=0,f="",h="",p="",d=null,_={"'":1,'"':1},g={name:"root"};a.push(g);for(var v=/\s/,y=0;y<t.length;y++)try{var m=t[y];switch(c){case 0:"("==m&&(u(),c=1);break;case 1:case 3:if(":"==m)c=3;else if(","==m||")"==m)try{s(),c=1,","==m&&u()}catch(t){return l(y)}else if("("==m){if(f.length>0)return l(y);u()}else{if(m in _){if(1==c&&0===f.length&&0===h.length&&0===p.length){c=2,d=m;continue}return l(y)}if(m==i){if(p.length)return l(y);c=4}else if(3==c)h+=m;else{if(v.test(m))continue;if(";"==m){y=t.length;break}f+=m}}break;case 2:if(m==d){if(y<t.length-1&&t[y+1]==d){y++,f+=d;continue}d=0,c=1;continue}f+=m;break;case 4:if(m==o)c=3;else{if(m==i)return l(y);p+=m}}}catch(t){return l(y)}return 1!=a.length?l(t.length-1):{json:g,error:null}};function Uc(t){let n=t,e=n.toUpperCase().indexOf("BEGIN DATA;"),r=n.slice(e);if(r.length<2)return"";e=r.toUpperCase().indexOf("END;");let i=r.slice(0,e);r=Tl(i.split(";"),(t=>t.trim()));let o=Ll(r,(t=>t.toUpperCase().startsWith("DIMENSION")));o=o[0].split(" "),o=gc(Tl(oc(o),(t=>t.split("="))));let a=Ll(r,(t=>t.toUpperCase().startsWith("FORMAT")));a=a[0].split(" "),a=gc(Tl(oc(a),(t=>t.split("=")))),a.symbols=Ol(a.symbols.split(""),(t=>'"'==t));let u=Ll(r,(t=>t.toUpperCase().startsWith("MATRIX")));return u=u[0].split("\n"),u=gc(Tl(oc(u),(t=>uc(t.split(" "))))),u=Ls(u,((t,n)=>"?"==t?a.symbols:Array(t))),{dimensions:o,format:a,matrix:u}}function Bc(t,n,e){El(t.getTips(),(t=>{t.data.test=e.matrix[t.data.name]}))}function Pc(t){let n=t,e=n.toUpperCase().indexOf("BEGIN TREES;"),r=n.slice(e);if(r.length<2)return"";e=r.toUpperCase().indexOf("END;");let i=r.slice(0,e).split("\n");return i=Ll(i,(t=>t.trim().toUpperCase().startsWith("TREE"))),Rc(i[0])}function Fc(t){var n={};if(1==t.nodeType){if(t.attributes.length>0){n["@attributes"]={};for(var e=0;e<t.attributes.length;e++){var r=t.attributes.item(e);n["@attributes"][r.nodeName]=r.nodeValue}}}else 3==t.nodeType&&(n=t.nodeValue);if(t.hasChildNodes()&&1===t.childNodes.length&&3===t.childNodes[0].nodeType)n=t.childNodes[0].nodeValue;else if(t.hasChildNodes())for(var i=0;i<t.childNodes.length;i++){var o=t.childNodes.item(i),a=o.nodeName;if(void 0===n[a])n[a]=Fc(o);else{if(void 0===n[a].push){var u=n[a];n[a]=[],n[a].push(u)}n[a].push(Fc(o))}}return n}const Hc=function(t,n){var e;return(e=(t=Fc(t)).phyloxml.phylogeny.clade).name="root",function t(n,e){n.clade&&(n.clade.forEach(t),n.children=n.clade,delete n.clade),n.annotation=1,n.attribute="0.01",n.branch_length&&(n.attribute=n.branch_length),n.taxonomy&&(n.name=n.taxonomy.scientific_name),n.annotation=""}(e),{json:e,error:null}};const qc={nexml:function(t,n){var e;return parseString(t,(function(t,n){e=n["nex:nexml"].trees[0].tree.map((function(t){var n=t.node.map((t=>t.$)),e=n.reduce((function(t,n){return n.edges=[],n.name=n.id,t[n.id]=n,t}),{}),r=n.filter((t=>t.root)),i=r>0?r[0].id:n[0].id;return e[i].name="root",t.edge.map((t=>t.$)).forEach((function(t){e[t.source].edges.push(t)})),function t(n,r){if(n.edges){var i=Bl(n.edges,"target");n.children=ls(nc(e,i)),n.children.forEach((function(t,e){t.attribute=n.edges[e].length||""})),n.children.forEach(t),n.annotation=""}}(e[i]),e[i]}))})),e},phyloxml:Hc,nexus:Pc,nwk:Rc,nhx:Rc,beast:function(t,n){n.left_delimiter="[",n.right_delimiter="]";const e=Rc(t,n);return function t(n){if(n.annotation){n.beast={};const t=n.annotation.split(/=|,|{|}/).filter((t=>t));for(var e=0;e<t.length;e+=2){let r=t[e].replace(/&|%/g,"");/[a-df-zA-DF-Z]+/.test(t[e+2])?n.beast[r]=+t[e+1]:(n.beast[r]=[+t[e+1],+t[e+2]],e++)}}n.annotation=void 0,n.children&&n.children.forEach(t)}(e.json),e}};var Vc=e(486);function Wc(t,n,e){let r,i,o,a=[t],u=[];for(;t=a.pop();)if((!e||!e(t))&&(u.push(t),r=t.children,r))for(i=0,o=r.length;i<o;++i)a.push(r[i]);for(;t=u.pop();)n(t);return t}function Yc(t,n,e){let r,i,o=[t];for(;t=o.pop();)if((!e||!e(t))&&(n(t),r=t.children,r))for(i=r.length-1;i>=0;--i)o.push(r[i]);return t}function $c(t,n,e){let r,i,o,a,u=[t];do{for(r=u.reverse(),u=[];t=r.pop();)if((!e||!e(t))&&(n(t),i=t.children,i))for(o=0,a=i.length;o<a;++o)u.push(i[o])}while(u.length);return t}function Xc(t){return Wc(t,(function(t){t.children&&(t.children[0].data.multiway_parent=t,t.children[1].data.multiway_parent=t.parent)})),Vc.map(t.descendants(),(t=>{let n=t.data.multiway_parent,e="unknown";return n&&(e=n.data.name),{source:t.data.multiway_parent,target:t,name:e}}))}function Zc(t,n){let e=t.data;if("attribute"in e&&e.attribute&&e.attribute.length){n>0&&(e.attribute=String(n));let t=parseFloat(e.attribute);if(!isNaN(t))return Math.max(0,t)}if("root"==e.name)return 0;console.warn("Undefined branch length at "+e.name+"!")}function Gc(t,n){if(!(t instanceof Rr))throw new Error("node needs to be an instance of a d3.hierarchy node!");let e=this.nodes.copy();if(n=void 0!==n?n:.5,t.parent){var r=Rr({name:"new_root"});r.children=[t.copy()],r.data.__mapped_bl=void 0,e.each((t=>{t.data.__mapped_bl=this.branch_length_accessor(t)})),this.setBranchLength((t=>t.data.__mapped_bl));let o,a=t,u=t.parent,s=void 0===t.data.__mapped_bl?void 0:t.data.__mapped_bl*n;var i;if(o=u.data.__mapped_bl,u.data.__mapped_bl=void 0===t.data.__mapped_bl?void 0:t.data.__mapped_bl-s,t.data.__mapped_bl=s,u.parent){for(r.children.push(u);u.parent;){i=u.children.indexOf(a),u.parent.parent?u.children.splice(i,1,u.parent):u.children.splice(i,1);let t=u.parent.data.__mapped_bl;void 0!==t&&(u.parent.data.__mapped_bl=o,o=t),a=u,u=u.parent}i=u.children.indexOf(a),u.children.splice(i,1)}else i=u.children.indexOf(a),u.children.splice(i,1),o=u.data.__mapped_bl,a=r;if(1==u.children.length)o&&(u.children[0].data.__mapped_bl+=o),a.children=a.children.concat(u.children);else{let n=new Rr({name:"__reroot_top_clade",__mapped_bl:o});_s(r.children[0],t),n.data.__mapped_bl=o,n.children=u.children.map((function(t){return t.parent=n,t})),n.parent=a,a.children.push(n)}}if(this.update(r),this.traverse_and_compute((t=>{El(t.children,(n=>{n.parent=t}))}),"pre-order"),!su(this.display)){let t=this.display.options;Vt(this.display.container).select("svg").remove();let n=this.display.selection_attribute_name;delete this.display;let e=this.render(t);e.selectionLabel(n),e.update(),Vt(e.container).node().appendChild(e.show()),Vt(this.display.container).dispatch("reroot")}return this}function Kc(t,n){if(t=t||"attribute",n=n||"y_scaled","parent"in this){let e=parseFloat(this[t]);this[n]=this.parent[n]+(isNaN(e)?.1:e)}else this[n]=0;return this[n]}function Jc(t){let n=[];for(;t;)n.push(t),t=t.parent;return n}function Qc(t){return t.y}function tf(t){return t.x}function nf(t,n,e){return{x:e+t*Math.sin(n),y:e+t*Math.cos(n)}}function ef(t,n,e,r,i,o){t.radius=n*(t.radius+e),t.angle=2*Math.PI*t.x*i[0]/o[0];let a=nf(t.radius,t.angle,r);return t.x=a.x,t.y=a.y,t}function rf(t,n){var e=nf(n[0].radius,n[0].angle,t),r=nf(n[0].radius,n[1].angle,t);return"M "+Qc(e)+","+tf(e)+" A "+n[0].radius+","+n[0].radius+" 0,0, "+(n[1].angle>n[0].angle?1:0)+" "+Qc(r)+","+tf(r)+" L "+Qc(n[1])+","+tf(n[1])}function of(t,n,e){var r=nf(t.target.radius+(t.source.radius-t.target.radius)*n,t.target.angle,e);return{x:Qc(r),y:tf(r)}}function af(t,n){return{x:Qc(t.target)+(Qc(t.source)-Qc(t.target))*n,y:tf(t.target)}}const uf=bi().x((function(t){return Qc(t)})).y((function(t){return tf(t)})).curve((function(t){return new Ai(t,0)}));function sf(t){return t.tag||!1}function lf(t,n){return t[n]||!1}const cf={"tree-container":"phylotree-container","tree-scale-bar":"tree-scale-bar",node:"node","internal-node":"internal-node","tagged-node":"node-tagged","selected-node":"node-selected","collapsed-node":"node-collapsed","root-node":"root-node",branch:"branch","selected-branch":"branch-selected","tagged-branch":"branch-tagged","tree-selection-brush":"tree-selection-brush","branch-tracer":"branch-tracer",clade:"clade",node_text:"phylotree-node-text"};function ff(t){return arguments.length?(this.options["internal-names"]=t,this):this.options["internal-names"]}function hf(t){return arguments.length?(this.options["is-radial"]=t,this):this.options["is-radial"]}function pf(t){return arguments.length?(this.options["align-tips"]=t,this):this.options["align-tips"]}function df(t){return this.options["draw-size-bubbles"]&&this.options["bubble-styler"]?this.options["bubble-styler"](t):this.options["draw-size-bubbles"]?this.relative_nodeSpan(t)*this.scales[0]*.25:0}function _f(t){return this.options["is-radial"]?[("end"==t.text_align?-1:1)*(this.radius_pad_for_bubbles-t.radius),0]:(this.options["right-to-left"],[this.right_most_leaf-t.screen_x,0])}function gf(t){return arguments.length?(this.layout_listener_handler=t,this):this.layout_listener_handler}function vf(t){return arguments.length?(this.selection_attribute_name=t,this.syncEdgeLabels(),this):this.selection_attribute_name}function yf(t){return arguments.length?(yf="string"==typeof t&&"equal"==t?function(t){return 1}:t,this):yf}var mf={all:t=>!0,none:t=>!1,"all-leaf-nodes":t=>Lc(t.target),"all-internal-nodes":t=>!Lc(t.target)};function bf(t){return t?(this.selectionCallback=t,this):this.selectionCallback}function wf(t){return this.radial()?[("end"==t.text_align?-1:1)*(this.radius_pad_for_bubbles-t.radius),0]:(this.options["right-to-left"],[this.right_most_leaf-t.screen_x,0])}function xf(t,n,e){t=Vt(t);var r=Lc(n);r&&(t=t.attr("data-node-name",n.data.name));var i=t.selectAll("text").data([n]),o=t.selectAll("line");if(r||this.showInternalName(n)&&!zf(n))if(i=i.enter().append("text").classed(this.css_classes.node_text,!0).merge(i).on("click",(t=>{this.handle_node_click(n,t)})).attr("dy",(t=>.33*this.shown_font_size)).text((t=>this.options["show-labels"]?this._nodeLabel(t):"")).style("font-size",(t=>this.ensure_size_is_in_px(this.shown_font_size))),i=this.radial()?i.attr("transform",(t=>this.d3PhylotreeSvgRotate(t.text_angle)+this.d3PhylotreeSvgTranslate(this.alignTips()?this.shiftTip(t):null))).attr("text-anchor",(t=>t.text_align)):i.attr("text-anchor","start").attr("transform",(t=>"right-to-left"==this.options.layout?this.d3PhylotreeSvgTranslate([-20,0]):this.d3PhylotreeSvgTranslate(this.alignTips()?this.shiftTip(t):null))),this.alignTips()?(o=o.data([n]),e?o=o.enter().append("line").classed(this.css_classes["branch-tracer"],!0).merge(o).attr("x1",(t=>("end"==t.text_align?-1:1)*this.nodeBubbleSize(n))).attr("x2",0).attr("y1",0).attr("y2",0).attr("x2",(t=>"right-to-left"==this.options.layout?t.screen_x:this.shiftTip(t)[0])).attr("transform",(t=>this.d3PhylotreeSvgRotate(t.text_angle))).attr("x2",(t=>"right-to-left"==this.options.layout?t.screen_x:this.shiftTip(t)[0])).attr("transform",(t=>this.d3PhylotreeSvgRotate(t.text_angle))):(o=o.enter().append("line").classed(this.css_classes["branch-tracer"],!0).merge(o).attr("x1",(t=>("end"==t.text_align?-1:1)*this.nodeBubbleSize(n))).attr("y2",0).attr("y1",0).attr("x2",(t=>this.shiftTip(t)[0]))).attr("transform",(t=>this.d3PhylotreeSvgRotate(t.text_angle)))):o.remove(),this.options["draw-size-bubbles"]){var a=this.nodeBubbleSize(n);t.selectAll("circle").data([a]).enter().append("circle").attr("r",(function(t){return t})),this.shown_font_size>=5&&(i=i.attr("dx",(t=>("end"==t.text_align?-1:1)*((this.alignTips()?0:a)+.33*this.shown_font_size))))}else this.shown_font_size>=5&&(i=i.attr("dx",(t=>("end"==t.text_align?-1:1)*this.shown_font_size*.33)));if(!r){let e=t.selectAll("circle").data([n]).enter().append("circle"),r=this.node_circle_size()(n);r>0?e.merge(e).attr("r",(t=>Math.min(.75*this.shown_font_size,r))).on("click",(t=>{this.handle_node_click(n,t)})):e.remove()}return this.node_styler&&this.node_styler(t,n),n}function Mf(){let t=this.phylotree.nodes.descendants();for(let n=t.length-1;n>=0;n-=1)Lc(t[n])?t[n].hasHiddenNodes=t[n].notshown:t[n].hasHiddenNodes=t[n].children.reduce((function(t,n){return n.notshown||t}),!1);return this}function Af(t){const n=this.internalNames();return!!n&&("function"==typeof n?n(t):n)}function kf(t){return arguments.length?(this.nodeSpan="string"==typeof t&&"equal"==t?function(t){return 1}:t,this):this.nodeSpan}function Nf(t){let n=cf[Lc(t)?"node":"internal-node"];return sf(t)&&(n+=" "+cf["tagged-node"]),lf(t,this.selection_attribute_name)&&(n+=" "+cf["selected-node"]),t.parent||(n+=" "+cf["root-node"]),(zf(t)||Tf(t))&&(n+=" "+cf["collapsed-node"]),n}function Sf(t){return!(t.hidden||t.notshown)}function Ef(t){return t.notshown}function Tf(t){return t.hasHiddenNodes||!1}function zf(t){return t.collapsed||!1}function Cf(t){return[t.node,t["internal-node"],t["collapsed-node"],t["tagged-node"],t["root-node"]].reduce((function(t,n,e,r){return t+"g."+n+(e<r.length-1?",":"")}),"")}function jf(t,n){this.phylotree.clearInternalNodes(n);for(var e=this.phylotree.nodes.descendants().length-1;e>=0;e--){var r=this.phylotree.nodes.descendants()[e];Lc(r)||lf(r,this.selection_attribute_name)||(r[this.selection_attribute_name]=t(r.children))}this.modifySelection(((t,n)=>(Lc(t.target),t.target[this.selection_attribute_name])))}function Lf(t){return Lc(t=t.data)?t.name||"":this.showInternalName(t)?t.name:""}function Of(t){return arguments.length?(this._nodeLabel=t||Lf,this.update(),this):this._nodeLabel}function Df(t){return[t.clade].reduce((function(t,n,e,r){return t+"path."+n+(e<r.length-1?",":"")}),"")}function If(t){let n=this.svg.selectAll("."+this.css_classes["tree-container"]);var e=0;let r,i=n.selectAll(Df(this.css_classes)).data(this.phylotree.nodes.descendants().filter(zf),(function(t){return t.id||(t.id=++e)})),o=function(){};this.radial()?(o=bi().curve(Mi).y((function(t){return t[0]})).x((function(t){return t[1]})),r=function(t,n,e,r,i){return n?[e.screen_y+(t[0]-r)/50,e.screen_x+(t[1]-i)/50]:[e.screen_y,e.screen_x]}):(o=bi().y((function(t){return t[0]})).x((function(t){return t[1]})).curve(Mi),r=function(t,n,e,r,i){return n?[e.screen_y+(t[0]-r)/50,e.screen_x+(t[1]-i)/50]:[e.screen_y,e.screen_x]}),i.exit().each((function(t){t.collapsed_clade=null})).remove(),t?i.enter().insert("path",":first-child").attr("class",this.css_classes.clade).merge(i).attr("d",(function(t){if(t.collapsed_clade)return t.collapsed_clade;let n=t.collapsed[0][0],e=t.collapsed[0][1];return o(t.collapsed.map((function(i,o){return r(i,o,t,n,e)})))})).attr("d",(function(t){return t.collapsed_clade=o(t.collapsed)})):i.enter().insert("path",":first-child").attr("class",this.css_classes.clade).merge(i).attr("d",(function(t){return t.collapsed_clade?t.collapsed_clade:t.collapsed_clade=o(t.collapsed)}))}function Rf(t,n,e){t=(t=Vt(t)).attr("class",(t=>this.reclassEdge(t))).on("click",(t=>{this.modifySelection([n.target],this.selection_attribute_name),this.update()}));let r=this.draw_branch([n.source,n.target]);e?(t.datum().existing_path&&(t=t.attr("d",(function(t){return t.existing_path}))),t=t.attr("d",r)):t=t.attr("d",r),n.existing_path=r;var i=this.phylotree.branch_length_accessor(n.target);if(void 0!==i){var o=t.selectAll("title");o.empty()&&(o=t.append("title")),o.text("Length = "+i)}else t.selectAll("title").remove();return this.edge_styler&&this.edge_styler(t,n,e),this.phylotree}function Uf(t){let n=cf.branch;return sf(t)&&(n+=" "+cf["tagged-branch"]),lf(t,this.selection_attribute_name)&&(n+=" "+cf["selected-branch"]),n}function Bf(){this.links.forEach((t=>{t.target.data.annotation&&(t.target[t.target.data.annotation]=t.target.data.annotation)}))}function Pf(){if(this.links.forEach((t=>{t[this.selection_attribute_name]=t.target[this.selection_attribute_name]||!1,t.tag=t.target.tag||!1})),this.countHandler()){let t={};t[this.selection_attribute_name]=this.links.reduce(((t,n)=>t+(n[this.selection_attribute_name]?1:0)),0),t.tagged=this.links.reduce((function(t,n){return t+(sf(n)?1:0)}),0),this.countUpdate(this,t,this.countHandler())}}function Ff(t){return!(t.target.hidden||t.target.notshown)}function Hf(t){return[t.branch,t["selected-branch"],t["tagged-branch"]].reduce((function(t,n,e,r){return t+"path."+n+(e<r.length-1?",":"")}),"")}function qf(t,n){return this.edge_placer(t,n)}let Vf="phylotree.event";function Wf(t){if(t.collapsed){t.collapsed=!1;let n=function(t){Lc(t)||t.collapsed||t.children.forEach(n),t.hidden=!1};n(t)}else t.collapsed=!0;return this.placenodes(),this}function Yf(t,n,e){let r=this.size;if(this.radial()){let t=this.pad_width(),e="fit-to-size"!=this.options["top-bottom-spacing"]?this.pad_height():0;r=[r[1]+2*t,r[0]+2*t+e],n&&n.selectAll("."+cf["tree-container"]).attr("transform","translate ("+t+","+(t+e)+")")}else r=[r[0]+("fit-to-size"!=this.options["top-bottom-spacing"]?this.pad_height():0),r[1]+("fit-to-size"!=this.options["left-right-spacing"]?this.pad_width():0)];return n&&(e&&(n=n.transition(100)),n.attr("height",r[0]).attr("width",r[1])),this.size=r,r}function $f(t,n){(n=n||"y_scaled")in this&&(this[n]*=t)}function Xf(t){var n=new CustomEvent(Vf,{detail:["refresh",t]});document.dispatchEvent(n)}function Zf(t,n){var e=new CustomEvent(Vf,{detail:["countUpdate",n,t.countHandler()]});document.dispatchEvent(e)}function Gf(t){var n=new CustomEvent(Vf,{detail:["layout",t,t.layoutHandler()]});document.dispatchEvent(n)}function Kf(t){switch(t.detail[0]){case"refresh":t.detail[1].refresh();break;case"countUpdate":case"layout":t.detail[2](t.detail[1])}return!0}function Jf(){document.addEventListener(Vf,Kf,!1)}function Qf(t){return!t||null===t[0]&&null===t[1]?"":"translate ("+(null!==t[0]?t[0]:0)+","+(null!==t[1]?t[1]:0)+") "}function th(t){return null!==t?"rotate ("+t+") ":""}let nh="d3_layout_phylotree_context_menu";function eh(t,n,e,r,i){let o=Vt(n).select("#"+nh);if(o.empty()&&(o=Vt(n).append("div").attr("id",nh).attr("class","dropdown-menu").attr("role","menu")),o.selectAll("a").remove(),o.selectAll("h6").remove(),o.selectAll("div").remove(),t){if(!Il([Boolean(t.menu_items),r.hide,r.selectable,r.collapsible])||!r["show-menu"])return;Lc(t)||(r.collapsible&&(o.append("a").attr("class","dropdown-item").attr("tabindex","-1").text(zf(t)?"Expand Subtree":"Collapse Subtree").on("click",(n=>{o.style("display","none"),this.toggleCollapse(t).update()})),r.selectable&&(o.append("div").attr("class","dropdown-divider"),o.append("h6").attr("class","dropdown-header").text("Toggle selection"))),r.selectable&&(o.append("a").attr("class","dropdown-item").attr("tabindex","-1").text("All descendant branches").on("click",(function(n){o.style("display","none"),e.modifySelection(e.selectAllDescendants(t,!0,!0))})),o.append("a").attr("class","dropdown-item").attr("tabindex","-1").text("All terminal branches").on("click",(function(n){o.style("display","none"),e.modifySelection(e.selectAllDescendants(t,!0,!1))})),o.append("a").attr("class","dropdown-item").attr("tabindex","-1").text("All internal branches").on("click",(function(n){o.style("display","none"),e.modifySelection(e.selectAllDescendants(t,!1,!0))})))),t.parent&&(r.selectable&&(o.append("a").attr("class","dropdown-item").attr("tabindex","-1").text("Incident branch").on("click",(function(n){o.style("display","none"),e.modifySelection([t])})),o.append("a").attr("class","dropdown-item").attr("tabindex","-1").text("Path to root").on("click",(n=>{o.style("display","none"),this.modifySelection(this.phylotree.pathToRoot(t))})),(r.reroot||r.hide)&&o.append("div").attr("class","dropdown-divider")),r.reroot&&o.append("a").attr("class","dropdown-item").attr("tabindex","-1").text("Reroot on this node").on("click",(n=>{o.style("display","none"),this.phylotree.reroot(t),this.update()})),r.hide&&o.append("a").attr("class","dropdown-item").attr("tabindex","-1").text("Hide this "+(Lc(t)?"node":"subtree")).on("click",(n=>{o.style("display","none"),this.modifySelection([t],"notshown",!0,!0).updateHasHiddenNodes().update()}))),Tf(t)&&o.append("a").attr("class","dropdown-item").attr("tabindex","-1").text("Show all descendant nodes").on("click",(function(n){o.style("display","none"),e.modifySelection(e.selectAllDescendants(t,!0,!0),"notshown",!0,!0,"false").updateHasHiddenNodes().update()}));var a=[];"menu_items"in t&&"object"==typeof t.menu_items&&t.menu_items.forEach((function(n){3==n.length&&(n[2]&&!n[2](t)||a.push([n[0],n[1]]))})),a.length&&(Il([r.hide,r.selectable,r.collapsible])&&o.append("div").attr("class","dropdown-divider"),a.forEach((function(n){o.append("a").attr("class","dropdown-item").attr("tabindex","-1").text(n[0](t)).on("click",el(n[1],t))})));let u=document.querySelector(n).getBoundingClientRect();o.style("position","absolute").style("left",i.clientX-u.x+12+"px").style("top",i.clientY-u.y+"px").style("display","block")}else o.style("display","none")}function rh(t,n,e,r){"menu_items"in t||(t.menu_items=[]),t.menu_items.some((function(t){return t[0]==n&&t[1]==e&&t[2]==r}))||t.menu_items.push([n,e,r])}function ih(t,n,e,r,i){if(n=n||this.selection_attribute_name,i=i||"toggle",this.options["restricted-selectable"].length){if(!Rl(Hu(mf),t))return;t=mf[t]}if(!this.options["restricted-selectable"]&&!this.options.selectable||this.options["binary-selectable"])this.options["binary-selectable"]&&("function"==typeof t?this.links.forEach((function(e){var r=t(e);e[n]=e[n]||!1,e[n]!=r&&(e[n]=r,a=!0,e.target[n]=r),this.options["attribute-list"].forEach((function(t){t!=n&&!0===e[n]&&(e[t]=!1,e.target[t]=!1)}))})):(t.forEach((function(t){var e;e=!t[n],t[n]!=e&&(t[n]=e,a=!0)})),this.links.forEach((function(t){t[n]=t.target[n],this.options["attribute-list"].forEach((function(e){e!=n&&!0!==t[n]&&(t[e]=!1,t.target[e]=!1)}))}))),a&&(r||Xf(this),this.countHandler()&&((o={})[n]=this.links.reduce((function(t,e){return t+(e[n]?1:0)}),0),this.countUpdate(this,o,this.countHandler())),e&&this.placenodes()));else{var o,a=!1;"function"==typeof t?this.links.forEach((function(e){let r=t(e);e[n]=e[n]||!1,e[n]!=r&&(e[n]=r,a=!0,e.target[n]=r)})):(t.forEach((function(t){var e;switch(i){case"true":e=!0;break;case"false":e=!1;break;default:e=!t[n]}t[n]!=e&&(t[n]=e,a=!0)})),this.links.forEach((function(t){t[n]=t.target[n]}))),a&&(r||Xf(this),this.countHandler&&((o={})[n]=this.links.reduce((function(t,e){return t+(e[n]?1:0)}),0),Zf(this,o,this.countHandler)),e&&this.placenodes())}return this.selectionCallback&&"tag"!=n&&this.selectionCallback(this.getSelection()),this.refresh(),this.update(),this}function oh(){return this.nodes.filter((t=>t[this.selection_attribute_name]))}function ah(t,n,e){let r=[];return function i(o){Lc(o)?n&&o!=t&&r.push(o):(e&&o!=t&&r.push(o),o.children.forEach(i))}(t),r}function uh(t){return t?(this.selectionCallback=t,this):this.selectionCallback}function sh(t){return function(){return t}}class lh{constructor(t,n={}){this.css_classes=cf,this.phylotree=t,this.container=n.container,this.separation=function(t,n){return 0},this._nodeLabel=this.defNodeLabel,this.svg=null,this.selectionCallback=null,this.scales=[1,1],this.size=[1,1],this.fixed_width=[14,30],this.font_size=12,this.scale_bar_font_size=12,this.offsets=[0,this.font_size/2],this.draw_branch=uf,this.draw_scale_bar=null,this.edge_placer=af,this.count_listener_handler=function(){},this.layout_listener_handler=function(){},this.node_styler=void 0,this.edge_styler=void 0,this.shown_font_size=this.font_size,this.selection_attribute_name="selected",this.right_most_leaf=0,this.label_width=0,this.radial_center=0,this.radius=1,this.radius_pad_for_bubbles=0,this.rescale_nodeSpan=1,this.relative_nodeSpan=function(t){return this.nodeSpan(t)/this.rescale_nodeSpan};let e={layout:"left-to-right",logger:console,branches:"step",scaling:!0,bootstrap:!1,"color-fill":!0,"internal-names":!1,selectable:!0,"restricted-selectable":!1,collapsible:!0,"left-right-spacing":"fixed-step","top-bottom-spacing":"fixed-step","left-offset":0,"show-scale":"top","draw-size-bubbles":!1,"bubble-styler":this.radius_pad_for_bubbles,"binary-selectable":!1,"is-radial":!1,"attribute-list":[],"max-radius":768,"annular-limit":.38196601125010515,compression:.2,"align-tips":!1,"maximum-per-node-spacing":100,"minimum-per-node-spacing":2,"maximum-per-level-spacing":100,"minimum-per-level-spacing":10,node_circle_size:sh(3),transitions:null,brush:!0,reroot:!0,hide:!0,"label-nodes-with-name":!1,zoom:!1,"show-menu":!0,"show-labels":!0,"node-styler":null,"edge-styler":null,"node-span":null};this.ensure_size_is_in_px=function(t){return"number"==typeof t?t+"px":t},this.options=gs(n,e),this.width=this.options.width||800,this.height=this.options.height||600,this.node_styler=this.options["node-styler"],this.edge_styler=this.options["edge-styler"],this.nodeSpan=this.options["node-span"],this.nodeSpan||(this.nodeSpan=function(t){return 1}),this.rescale_nodeSpan=this.phylotree.nodes.children.map((t=>{if(Lc(t)||this.showInternalName(t))return this.nodeSpan(t)})).reduce((function(t,n){return Math.min(n,t||1e200)}),null)||1,this.initialize_svg(this.container),this.links=this.phylotree.nodes.links(),this.initializeEdgeLabels(),this.update(),Jf()}pad_height(){return this.draw_scale_bar?this.scale_bar_font_size+25:0}pad_width(){this.label_width=this._label_width(this.shown_font_size);const t=this.options["show-labels"]?this.label_width:0;return this.offsets[1]+this.options["left-offset"]+t}collapse_node(t){zf(t)||(t.collapsed=!0)}set_size(t){if(!arguments.length)return this.size;let n=t;return"fixed-step"!=this.options["top-bottom-spacing"]&&(this.size[0]=n[0]),"fixed-step"!=this.options["left-right-spacing"]&&(this.size[1]=n[1]),this}initialize_svg(t){return this.svg!==t&&(Vt(t).select("svg").remove(),this.svg=("svg",Vt(zt("svg").call(document.documentElement))).attr("width",this.width).attr("height",this.height),this.set_size([this.height,this.width]),"phylotree-container"==this.css_classes["tree-container"]&&(this.svg.selectAll("*").remove(),this.svg.append("defs")),Vt(this.container).on("click",(t=>{this.handle_node_click(null)}),!0)),this}update_layout(t,n){n&&(this.nodes=Rr(t),this.nodes.each((function(t){t.id=null}))),this.update(),this.syncEdgeLabels()}update(t){var n=this;this.placenodes(),t=this.transitions(t);let e=0,r=this.svg.selectAll("."+cf["tree-container"]).data([0]);if(r=r.enter().append("g").attr("class",cf["tree-container"]).merge(r).attr("transform",(t=>this.d3PhylotreeSvgTranslate([this.offsets[1]+this.options["left-offset"],this.pad_height()]))),this.draw_scale_bar){let t=this.svg.selectAll("."+cf["tree-scale-bar"]).data([0]);t.enter().append("g").attr("class",cf["tree-scale-bar"]).style("font-size",this.ensure_size_is_in_px(this.scale_bar_font_size)).merge(t).attr("transform",(t=>this.d3PhylotreeSvgTranslate([this.offsets[1]+this.options["left-offset"],this.pad_height()-10]))).call(this.draw_scale_bar),t.selectAll("text").style("text-anchor","end")}else this.svg.selectAll("."+cf["tree-scale-bar"]).remove();r=this.svg.selectAll("."+cf["tree-container"]).data([0]),this.updateCollapsedClades(t);let i=r.selectAll(Hf(cf)).data(this.links.filter(Ff),(t=>t.target.id||(t.target.id=++e)));i.exit().remove(),i=i.enter().insert("path",":first-child").merge(i).each((function(e){n.drawEdge(this,e,t)}));let o=r.selectAll(Cf(cf)).data(this.phylotree.nodes.descendants().filter(Sf),(t=>t.id||(t.id=++e)));if(o.exit().remove(),o=o.enter().append("g").attr("class",this.reclassNode).merge(o).attr("transform",(t=>{const n="right-to-left"==this.options.layout&&Lc(t);return t.screen_x=Qc(t),t.screen_y=tf(t),this.d3PhylotreeSvgTranslate([n?0:t.screen_x,t.screen_y])})).each((function(e){n.drawNode(this,e,t)})).attr("transform",(t=>{if(!su(t.screen_x)&&!su(t.screen_y))return"translate("+t.screen_x+","+t.screen_y+")"})),this.options["label-nodes-with-name"]&&(o=o.attr("id",(t=>"node-"+t.name))),this.resizeSvg(this.phylotree,this.svg,t),this.options.brush){var a=r.selectAll("."+cf["tree-selection-brush"]).data([0]).enter().insert("g",":first-child").attr("class",cf["tree-selection-brush"]),u=wr().on("brush",((t,n)=>{var e=t.selection,r=this.links.filter(Ff).filter(((t,n)=>t.source.screen_x>=e[0][0]&&t.source.screen_x<=e[1][0]&&t.source.screen_y>=e[0][1]&&t.source.screen_y<=e[1][1]&&t.target.screen_x>=e[0][0]&&t.target.screen_x<=e[1][0]&&t.target.screen_y>=e[0][1]&&t.target.screen_y<=e[1][1])).map((t=>t.target));this.modifySelection(this.phylotree.links.map((t=>t.target)),"tag",!1,r.length>0,"false"),this.modifySelection(r,"tag",!1,!1,"true")})).on("end",(()=>{}));a.call(u)}if(this.syncEdgeLabels(),this.options.zoom){let t=function(){var t,n,e,r=La,i=Oa,o=Ua,a=Ia,u=Ra,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,f=Na,h=C("start","zoom","end"),p=500,d=150,_=0,g=10;function v(t){t.property("__zoom",Da).on("wheel.zoom",A).on("mousedown.zoom",k).on("dblclick.zoom",N).filter(u).on("touchstart.zoom",S).on("touchmove.zoom",E).on("touchend.zoom touchcancel.zoom",T).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(t,n){return(n=Math.max(s[0],Math.min(s[1],n)))===t.k?t:new Ta(n,t.x,t.y)}function m(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new Ta(t.k,r,i)}function b(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function w(t,n,e,r){t.on("start.zoom",(function(){x(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){x(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,o=arguments,a=x(t,o).event(r),u=i.apply(t,o),s=null==e?b(u):"function"==typeof e?e.apply(t,o):e,l=Math.max(u[1][0]-u[0][0],u[1][1]-u[0][1]),c=t.__zoom,h="function"==typeof n?n.apply(t,o):n,p=f(c.invert(s).concat(l/c.k),h.invert(s).concat(l/h.k));return function(t){if(1===t)t=h;else{var n=p(t),e=l/n[2];t=new Ta(e,s[0]-n[0]*e,s[1]-n[1]*e)}a.zoom(null,t)}}))}function x(t,n,e){return!e&&t.__zooming||new M(t,n)}function M(t,n){this.that=t,this.args=n,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,n),this.taps=0}function A(t,...n){if(r.apply(this,arguments)){var e=x(this,n).event(t),i=this.__zoom,u=Math.max(s[0],Math.min(s[1],i.k*Math.pow(2,a.apply(this,arguments)))),c=Bn(t);if(e.wheel)e.mouse[0][0]===c[0]&&e.mouse[0][1]===c[1]||(e.mouse[1]=i.invert(e.mouse[0]=c)),clearTimeout(e.wheel);else{if(i.k===u)return;e.mouse=[c,i.invert(c)],ye(this),e.start()}ja(t),e.wheel=setTimeout((function(){e.wheel=null,e.end()}),d),e.zoom("mouse",o(m(y(i,u),e.mouse[0],e.mouse[1]),e.extent,l))}}function k(t,...n){if(!e&&r.apply(this,arguments)){var i=x(this,n,!0).event(t),a=Vt(t.view).on("mousemove.zoom",(function(t){if(ja(t),!i.moved){var n=t.clientX-c,e=t.clientY-f;i.moved=n*n+e*e>_}i.event(t).zoom("mouse",o(m(i.that.__zoom,i.mouse[0]=Bn(t,s),i.mouse[1]),i.extent,l))}),!0).on("mouseup.zoom",(function(t){a.on("mousemove.zoom mouseup.zoom",null),$t(t.view,i.moved),ja(t),i.event(t).end()}),!0),u=Bn(t,s),s=t.currentTarget,c=t.clientX,f=t.clientY;Yt(t.view),Ca(t),i.mouse=[u,this.__zoom.invert(u)],ye(this),i.start()}}function N(t,...n){if(r.apply(this,arguments)){var e=this.__zoom,a=Bn(t.changedTouches?t.changedTouches[0]:t,this),u=e.invert(a),s=e.k*(t.shiftKey?.5:2),f=o(m(y(e,s),a,u),i.apply(this,n),l);ja(t),c>0?Vt(this).transition().duration(c).call(w,f,a,t):Vt(this).call(v.transform,f,a,t)}}function S(e,...i){if(r.apply(this,arguments)){var o,a,u,s,l=e.touches,c=l.length,f=x(this,i,e.changedTouches.length===c).event(e);for(Ca(e),a=0;a<c;++a)s=[s=Bn(u=l[a],this),this.__zoom.invert(s),u.identifier],f.touch0?f.touch1||f.touch0[2]===s[2]||(f.touch1=s,f.taps=0):(f.touch0=s,o=!0,f.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(f.taps<2&&(n=s[0],t=setTimeout((function(){t=null}),p)),ye(this),f.start())}}function E(t,...n){if(this.__zooming){var e,r,i,a,u=x(this,n).event(t),s=t.changedTouches,c=s.length;for(ja(t),e=0;e<c;++e)i=Bn(r=s[e],this),u.touch0&&u.touch0[2]===r.identifier?u.touch0[0]=i:u.touch1&&u.touch1[2]===r.identifier&&(u.touch1[0]=i);if(r=u.that.__zoom,u.touch1){var f=u.touch0[0],h=u.touch0[1],p=u.touch1[0],d=u.touch1[1],_=(_=p[0]-f[0])*_+(_=p[1]-f[1])*_,g=(g=d[0]-h[0])*g+(g=d[1]-h[1])*g;r=y(r,Math.sqrt(_/g)),i=[(f[0]+p[0])/2,(f[1]+p[1])/2],a=[(h[0]+d[0])/2,(h[1]+d[1])/2]}else{if(!u.touch0)return;i=u.touch0[0],a=u.touch0[1]}u.zoom("touch",o(m(r,i,a),u.extent,l))}}function T(t,...r){if(this.__zooming){var i,o,a=x(this,r).event(t),u=t.changedTouches,s=u.length;for(Ca(t),e&&clearTimeout(e),e=setTimeout((function(){e=null}),p),i=0;i<s;++i)o=u[i],a.touch0&&a.touch0[2]===o.identifier?delete a.touch0:a.touch1&&a.touch1[2]===o.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(o=Bn(o,this),Math.hypot(n[0]-o[0],n[1]-o[1])<g)){var l=Vt(this).on("dblclick.zoom");l&&l.apply(this,arguments)}}}return v.transform=function(t,n,e,r){var i=t.selection?t.selection():t;i.property("__zoom",Da),t!==i?w(t,n,e,r):i.interrupt().each((function(){x(this,arguments).event(r).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()}))},v.scaleBy=function(t,n,e,r){v.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)}),e,r)},v.scaleTo=function(t,n,e,r){v.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,a=null==e?b(t):"function"==typeof e?e.apply(this,arguments):e,u=r.invert(a),s="function"==typeof n?n.apply(this,arguments):n;return o(m(y(r,s),a,u),t,l)}),e,r)},v.translateBy=function(t,n,e,r){v.transform(t,(function(){return o(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),i.apply(this,arguments),l)}),null,r)},v.translateTo=function(t,n,e,r,a){v.transform(t,(function(){var t=i.apply(this,arguments),a=this.__zoom,u=null==r?b(t):"function"==typeof r?r.apply(this,arguments):r;return o(za.translate(u[0],u[1]).scale(a.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof e?-e.apply(this,arguments):-e),t,l)}),r,a)},M.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var n=Vt(this.that).datum();h.call(t,this.that,new Ea(t,{sourceEvent:this.sourceEvent,target:v,type:t,transform:this.that.__zoom,dispatch:h}),n)}},v.wheelDelta=function(t){return arguments.length?(a="function"==typeof t?t:Sa(+t),v):a},v.filter=function(t){return arguments.length?(r="function"==typeof t?t:Sa(!!t),v):r},v.touchable=function(t){return arguments.length?(u="function"==typeof t?t:Sa(!!t),v):u},v.extent=function(t){return arguments.length?(i="function"==typeof t?t:Sa([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),v):i},v.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],v):[s[0],s[1]]},v.translateExtent=function(t){return arguments.length?(l[0][0]=+t[0][0],l[1][0]=+t[1][0],l[0][1]=+t[0][1],l[1][1]=+t[1][1],v):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},v.constrain=function(t){return arguments.length?(o=t,v):o},v.duration=function(t){return arguments.length?(c=+t,v):c},v.interpolate=function(t){return arguments.length?(f=t,v):f},v.on=function(){var t=h.on.apply(h,arguments);return t===h?v:t},v.clickDistance=function(t){return arguments.length?(_=(t=+t)*t,v):Math.sqrt(_)},v.tapDistance=function(t){return arguments.length?(g=+t,v):g},v}().scaleExtent([.1,10]).on("zoom",(t=>{Vt("."+cf["tree-container"]).attr("transform",(n=>t.transform)),Vt("."+cf["tree-scale-bar"]).attr("transform",(n=>{let e=t.transform;return e.y-=10,e}))}));this.svg.call(t)}return this}_handle_single_node_layout(t){let n=this.nodeSpan(t)/this.rescale_nodeSpan;this.x=t.x=this.x+this.separation(this.last_node,t)+.5*(this.last_span+n),this._extents[1][1]=Math.max(this._extents[1][1],t.y),this._extents[1][0]=Math.min(this._extents[1][0],t.y-.5*n),this.is_under_collapsed_parent?this._extents[0][1]=Math.max(this._extents[0][1],this.save_x+(t.x-this.save_x)*this.options.compression+this.save_span+(.5*n+this.separation(this.last_node,t))*this.options.compression):this._extents[0][1]=Math.max(this._extents[0][1],this.x+.5*n+this.separation(this.last_node,t)),this.last_node=t,this.last_span=n}tree_layout(t){if(Ef(t))return;let n=Lc(t);t.text_angle=null,t.text_align=null,t.radius=null,t.angle=null;let e=!1;if(t.parent)if(this.do_scaling){if(e)return 0;if(t.y=this.phylotree.branch_length_accessor(t),void 0===t.y)return e=!0,0;t.y+=t.parent.y}else t.y=n?this.max_depth:t.depth;else this.x=0,t.y=0,this.last_node=null,this.last_span=0,this._extents=[[0,0],[0,0]];if(n&&this._handle_single_node_layout(t),!n)if(zf(t)&&!this.is_under_collapsed_parent){if(this.save_x=this.x,this.save_span=.5*this.last_span,this.is_under_collapsed_parent=!0,this.process_internal_node(t),this.is_under_collapsed_parent=!1,"number"==typeof t.x){t.x=this.save_x+(t.x-this.save_x)*this.options.compression+this.save_span,t.collapsed=[[t.x,t.y]];var r=n=>{n.hidden=!0,Lc(n)?(this.x=n.x=this.save_x+(n.x-this.save_x)*this.options.compression+this.save_span,t.collapsed.push([n.x,n.y])):n.children.map(r)};this.x=this.save_x,r(t),t.collapsed.splice(1,0,[this.save_x,t.y]),t.collapsed.push([this.x,t.y]),t.collapsed.push([t.x,t.y]),t.hidden=!1}}else this.process_internal_node(t);return t.x}process_internal_node(t){let n=0;if(this.showInternalName(t)){let n=t.children.length/2>>0,e=0,r=!1;for(let i=0;i<t.children.length;i++)"number"==typeof this.tree_layout(t.children[i])&&e++,e>=n&&!r&&(this._handle_single_node_layout(t),r=!0);0==e?(t.notshown=!0,t.x=void 0):r||this._handle_single_node_layout(t)}else t.x=t.children.map(this.tree_layout.bind(this)).reduce(((t,e)=>"number"==typeof e?t+e:(n+=1,t)),0),n==t.children.length?(t.notshown=!0,t.x=void 0):t.x/=t.children.length-n}do_lr(t){if(this.radial()&&t&&(this.offsets[1]=0),"fixed-step"==this.options["left-right-spacing"])this.size[1]=this.max_depth*this.fixed_width[1],this.scales[1]=(this.size[1]-this.offsets[1]-this.options["left-offset"])/this._extents[1][1],this.label_width=this._label_width(this.shown_font_size),this.radial()&&(this.label_width*=2);else{this.label_width=this._label_width(this.shown_font_size),t=!0;let n=this.size[1]-this.offsets[1]-this.options["left-offset"];.5*n<this.label_width&&(this.shown_font_size*=.5*n/this.label_width,this.label_width=.5*n),this.scales[1]=(this.size[1]-this.offsets[1]-this.options["left-offset"]-this.label_width)/this._extents[1][1]}}placenodes(){this._extents=[[0,0],[0,0]],this.x=0,this.last_span=0,this.last_node=null,this.last_span=0,this.save_x=this.x,this.save_span=.5*this.last_span,this.do_scaling=this.options.scaling,this.is_under_collapsed_parent=!1,this.max_depth=1,this.phylotree.nodes.x=this.tree_layout(this.phylotree.nodes,this.do_scaling),this.max_depth=function(t,n){let e;if(void 0===n)for(const n of t)null!=n&&(e<n||void 0===e&&n>=n)&&(e=n);else{let r=-1;for(let i of t)null!=(i=n(i,++r))&&(e<i||void 0===e&&i>=i)&&(e=i)}return e}(this.phylotree.nodes.descendants(),(t=>t.depth)),this.do_scaling;let t=!1;if(this.draw_scale_bar=this.options["show-scale"]&&this.do_scaling,this.offsets[1]=Math.max(this.font_size,-this._extents[1][0]*this.fixed_width[0]),"fixed-step"==this.options["top-bottom-spacing"]?(this.size[0]=this._extents[0][1]*this.fixed_width[0],this.scales[0]=this.fixed_width[0]):(this.scales[0]=(this.size[0]-this.pad_height())/this._extents[0][1],t=!0),this.shown_font_size=Math.min(this.font_size,this.scales[0]),this.radial()){this.draw_branch=el(rf,this.radial_center),this.edge_placer=of;let n=null,e=null,r=null,i=0,o=this._extents[0][1]*this.scales[0],a=function(t,n,e,r,i){return i=i||0,Math.sqrt((n-t)*(n-t)+2*(t+i)*(n+i)*(1-Math.cos(e-r)))},u=0;this.phylotree.nodes.each((t=>{let n=t.x*this.scales[0];t.angle=2*Math.PI*n/o,t.text_angle=t.angle-Math.PI/2,t.text_angle=t.text_angle>0&&t.text_angle<Math.PI,t.text_align=t.text_angle?"end":"start",t.text_angle=(t.text_angle?180:0)+180*t.angle/Math.PI})),this.do_lr(t),this.phylotree.nodes.each((t=>{t.radius=t.y*this.scales[1]/this.size[1],u=Math.max(t.radius,u)}));let s=0;this.phylotree.nodes.each((t=>{if(!t.children){let o=t.x*this.scales[0];if(null!==n){let l=o-e,c=a(t.radius,r,t.angle,n,s),f=c>0?l/c:10*this.options["max-radius"];if(f>this.options["max-radius"]){let e=l/this.options["max-radius"],o=t.radius+r,a=t.radius*r-(e*e-(r-t.radius)*(r-t.radius))/2/(1-Math.cos(n-t.angle)),c=Math.sqrt(o*o-4*a);s=Math.min(this.options["annular-limit"]*u,(-o+c)/2),i=this.options["max-radius"]}else i=Math.max(i,f)}n=t.angle,e=o,r=t.radius}})),this.radius=Math.min(this.options["max-radius"],Math.max(o/2/Math.PI,i)),t&&(this.radius=Math.min(this.radius,.5*(Math.min(o,this._extents[1][1]*this.scales[1])-this.label_width)-this.radius*s)),this.radial_center=this.radius_pad_for_bubbles=this.radius,this.draw_branch=el(rf,this.radial_center);let l=1;s&&(l=u/(u+s),this.radius*=l),this.phylotree.nodes.each((t=>{if(ef(t,this.radius,s,this.radial_center,this.scales,this.size),u=Math.max(u,t.radius),this.options["draw-size-bubbles"]?this.radius_pad_for_bubbles=Math.max(this.radius_pad_for_bubbles,t.radius+this.nodeBubbleSize(t)):this.radius_pad_for_bubbles=Math.max(this.radius_pad_for_bubbles,t.radius),t.collapsed){t.collapsed=t.collapsed.map((t=>{let n={};return n.x=t[0],n.y=t[1],n=ef(n,this.radius,s,this.radial_center,this.scales,this.size),[n.x,n.y]}));let n=t.collapsed[1];t.collapsed=t.collapsed.filter((function(e,r){return r<3||r>t.collapsed.length-4||Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))>3&&(n=e,!0)}))}})),this.size[0]=this.radial_center+this.radius/l,this.size[1]=this.radial_center+this.radius/l}else this.do_lr(),this.draw_branch=uf,this.edge_placer=af,this.right_most_leaf=0,this.phylotree.nodes.each((t=>{if(t.x*=this.scales[0],t.y*=.8*this.scales[1],"right-to-left"==this.options.layout&&(t.y=this._extents[1][1]*this.scales[1]-t.y),Lc(t)&&(this.right_most_leaf=Math.max(this.right_most_leaf,t.y+this.nodeBubbleSize(t))),t.collapsed){t.collapsed.forEach((t=>{t[0]*=this.scales[0],t[1]*=.8*this.scales[1]}));let n=t.collapsed[1][0];t.collapsed=t.collapsed.filter((function(e,r){return r<3||r>t.collapsed.length-4||e[0]-n>3&&(n=e[0],!0)}))}}));if(this.draw_scale_bar){let t,n;if(this.radial()){if(n=Math.min(this.radius/5,50),t=Math.pow(10,Math.ceil(Math.log(this._extents[1][1]*n/this.radius)/Math.log(10))),n=t*(this.radius/this._extents[1][1]),n<30){let e=Math.ceil(30/n);n*=e,t*=e}}else t=this._extents[1][1],n=this.size[1]-this.offsets[1]-this.options["left-offset"]-this.shown_font_size;let e=ui().domain([0,t]).range([0,n]),r=jr(".2f");if(this.draw_scale_bar=k(_,void 0).scale(e).tickFormat((function(t){return 0===t?"":r(t)})),this.radial())this.draw_scale_bar.tickValues([t]);else{let t=function(t,n){return n?Math.round(t*(n=Math.pow(10,n)))/n:Math.round(t)},i=e.ticks();i=i.length>1?i[1]:i[0],this.draw_scale_bar.ticks(Math.min(10,t(n/(this.shown_font_size*r(i).length*2),0)))}}else this.draw_scale_bar=null;return this}spacing_x(t,n){return arguments.length?(this.fixed_width[0]!=t&&t>=this.options["minimum-per-node-spacing"]&&t<=this.options["maximum-per-node-spacing"]&&(this.fixed_width[0]=t,n||this.placenodes()),this):this.fixed_width[0]}spacing_y(t,n){return arguments.length?(this.fixed_width[1]!=t&&t>=this.options["minimum-per-level-spacing"]&&t<=this.options["maximum-per-level-spacing"]&&(this.fixed_width[1]=t,n||this.placenodes()),this):this.fixed_width[1]}_label_width(t){t=t||this.shown_font_size;let n=0;return this.phylotree.nodes.descendants().filter(Sf).forEach((e=>{let r=12+this._nodeLabel(e).length*t*.8;null!==e.angle&&(r*=Math.max(Math.abs(Math.cos(e.angle)),Math.abs(Math.sin(e.angle)))),n=Math.max(r,n)})),n}font_size(t){return arguments.length?(this.font_size=void 0===t?12:t,this):this.font_size}scale_bar_font_size(t){return arguments.length?(this.scale_bar_font_size=void 0===t?12:t,this):this.scale_bar_font_size}node_circle_size(t,n){return arguments.length?(this.options.node_circle_size=sh(void 0===t?3:t),this):this.options.node_circle_size}css(t){if(0===arguments.length)return this.css_classes;if(arguments.length>2){var n={};return n[t[0]]=t[1],this.css(n)}for(var e in cf)e in t&&t[e]!=cf[e]&&(cf[e]=t[e]);return this}transitions(t){return void 0!==t?t:null!==this.options.transitions?this.options.transitions:this.phylotree.nodes.descendants().length<=300}css_classes(t,n){if(!arguments.length)return this.css_classes;let e=!1;for(var r in cf)r in t&&t[r]!=this.css_classes[r]&&(e=!0,this.css_classes[r]=t[r]);return n&&e&&this.layout(),this}layout(t){return this.svg?(this.svg.selectAll("."+this.css_classes["tree-container"]+",."+this.css_classes["tree-scale-bar"]+",."+this.css_classes["tree-selection-brush"]),this.d3PhylotreeTriggerLayout(this),this.update()):(this.d3PhylotreeTriggerLayout(this),this)}handle_node_click(t,n){this.nodeDropdownMenu(t,this.container,this,this.options,n)}refresh(){if(this.svg){let t=this.svg.selectAll("."+this.css_classes["tree-container"]).selectAll(Hf(this.css_classes)).attr("class",this.reclassEdge.bind(this));this.edge_styler&&t.each((t=>{this.edge_styler(Vt(this),t)}))}return this}countHandler(t){return arguments.length?(this.count_listener_handler=t,this):this.count_listener_handler}style_nodes(t){return arguments.length?(this.node_styler=t,this):this.node_styler}style_edges(t){return arguments.length?(this.edge_styler=t.bind(this),this):this.edge_styler}itemSelected(t,n){return t[n]||!1}show(){return this.svg.node()}}ds(lh.prototype,l),ds(lh.prototype,s),ds(lh.prototype,c),ds(lh.prototype,f),ds(lh.prototype,h),ds(lh.prototype,u);const ch=lh;let fh=class{constructor(t,n={}){this.newick_string="",this.nodes=[],this.links=[],this.parsed_tags=[],this.partitions=[],this.branch_length_accessor=Zc,this.branch_length=Zc,this.logger=n.logger||console,this.selection_attribute_name="selected";var e=n.type||void 0,r=[],i=this;if(hu(e))e in qc?r=qc[e](t,n):i.logger.error("type "+e+" not in registry! Available types are "+Hu(qc));else if(wu(e))try{r=e(t,n)}catch(t){i.logger.error("Could not parse custom format!")}else"root"==t.name?r={json:t,error:null}:"string"!=typeof t?r=t:"application/xml"==t.contentType?r=Hc(t):(this.newick_string=t,r=Rc(t,n));if(r.json){i.nodes=Rr(r.json);let t={};i.nodes.each((n=>{n.data.annotation&&(t[n.data.annotation]=!0)})),i.parsed_tags=Object.keys(t)}else i.nodes=[];return i.links=i.nodes.links(),this.hasBranchLengths()||(console.warn("Phylotree User Warning : NO BRANCH LENGTHS DETECTED, SETTING ALL LENGTHS TO 1"),this.setBranchLength((t=>1))),i}json(t){var n=0;this.traverse_and_compute((function(t){t.json_export_index=n++}),t);var e=new Array(n);return n=0,this.traverse_and_compute((function(t){let r=ms(t);delete r.json_export_index,t.parent&&(r.parent=t.parent.json_export_index),t.children&&(r.children=Tl(t.children,(function(t){return t.json_export_index}))),e[n++]=r}),t),this.traverse_and_compute((function(t){delete t.json_export_index}),t),JSON.stringify(e)}traverse_and_compute(t,n,e,r){return(n="pre-order"==(n=n||"post-order")?function(n){Yc(n,t,r)}:"in-order"==n?function(n){$c(n,t,r)}:function(n){su(n)||Wc(n,t,r)})(e||this.nodes),this}get_parsed_tags(){return this.parsed_tags}update(t){this.nodes=t}render(t){return this.display=new ch(this,t),this.display}};fh.prototype.isLeafNode=Lc,fh.prototype.mrca=function(){var t,n;return t=(t=1==arguments.length?arguments[0]:Array.from(arguments)).map((function(t){return"string"==typeof t?t:t.name})),this.traverse_and_compute((function(e){e.children?e.parent?(e.mrca=hc(...e.descendants().map((t=>t.mrca))),n||e.mrca.length!=t.length||(n=e)):n||(n=e):e.mrca=pc([e.name],t)})),n},fh.prototype.hasBranchLengths=function(){let t=this.branch_length;return!!t&&Dl(this.nodes.descendants(),(function(n){return!n.parent||!su(t(n))}))},fh.prototype.getBranchLengths=function(){let t=this.branch_length;return Tl(this.nodes.descendants(),(n=>t(n)))},fh.prototype.branchName=function(t){return arguments.length?(this.nodeLabel=t,this):this.nodeLabel},fh.prototype.normalizeBranchLengths=function(t){let n=this.branch_length,e=Tl(this.nodes.descendants(),(function(t){return n(t)?n(t):null}));const r=Fl(e),i=Hl(e);return El(this.nodes.descendants(),(t=>{let e=n(t);e&&n(t,(e-i)/(r-i))})),this},fh.prototype.scaleBranchLengths=function(t){let n=this.branch_length;return El(this.nodes.descendants(),(e=>{let r=n(e);r&&n(e,t(r))})),this},fh.prototype.getNewick=Ic,fh.prototype.resortChildren=function(t,n,e){return this.nodes.sum((function(t){return t.value})).sort(t),this.display&&(this.display.update_layout(this.nodes),this.display.update()),this},fh.prototype.setBranchLength=function(t){return arguments.length?(this.branch_length_accessor=t||Zc,this):this.branch_length_accessor},fh.prototype.maxParsimony=function(t,n){const e=el((function(t,n){if(n.mp=[[0,0],[!1,!1]],Lc(n))n.mp[1][0]=n.mp[1][1]=n[t]||!1,n.mp[0][0]=n.mp[1][0]?1:0,n.mp[0][1]=1-n.mp[0][0];else{n.children.forEach(e);var r=n.children.reduce((function(t,n){return n.mp[0][0]+t}),0),i=n.children.reduce((function(t,n){return n.mp[0][1]+t}),0);n[t]?(n.mp[0][0]=i+1,n.mp[1][0]=!0,n.mp[0][1]=i,n.mp[1][1]=!0):(r<i+1?(n.mp[0][0]=r,n.mp[1][0]=!1):(n.mp[0][0]=i+1,n.mp[1][0]=!0),i<r+1?(n.mp[0][1]=i,n.mp[1][1]=!0):(n.mp[0][1]=r+1,n.mp[1][1]=!1))}}),n);e(this.nodes),this.nodes.each((t=>{t.parent?t.mp=t.mp[1][t.parent.mp?1:0]:t.mp=t.mp[1][t.mp[0][0]<t.mp[0][1]?0:1]})),this.display.modifySelection(((t,e)=>Lc(t.target)?t.target[n]:t.target.mp))},fh.prototype.getTipLengths=function(){let t=Tl(this.getTips(),(t=>({name:t.data.name,length:parseFloat(t.data.attribute)})));return t=$l(t,(t=>-t.length)),t},fh.prototype.leftChildRightSibling=Xc,ds(fh.prototype,i),ds(fh.prototype,a),ds(fh.prototype,o);const hh=fh,ph=function(t){var n=t.branch_length_accessor;if(!n)throw"A non-null branch lengths accessor function is required for this operation";var e=0;function r(t){for(var n=0;n<t.children.length;n++)for(var e=0;e<t.children.length;e++)n!=e&&El(t.children[e].cot_path_to_leaves_below,(function(r,i){t.children[n].cot_path_to_leaves_above&&(t.children[n].cot_path_to_leaves_above[i]=r+t.children[e].cot_computed_length)}))}return t.traverse_and_compute((function(r){if(r.cot_computed_length=n(r),r.parent&&su(r.cot_computed_length))throw"Non-null branch lengths are required for this operation: missing branch length at node "+r.data.name;t.isLeafNode(r)?(r.cot_leaf_index=e++,r.cot_path_to_leaves_below={},r.cot_path_to_leaves_below[r.cot_leaf_index]=0,r.cot_path_to_leaves_above={}):(r.cot_path_to_leaves_below={},r.cot_path_to_leaves_above={})})),t.traverse_and_compute((function(t){t.parent&&El(t.cot_path_to_leaves_below,(function(n,e){t.parent.cot_path_to_leaves_below[e]=n+t.cot_computed_length}))})),r(t.getRootNode()),t.traverse_and_compute((function(n){n.parent&&(El(n.parent.cot_path_to_leaves_above,(function(t,e){n.cot_path_to_leaves_above[e]=t+n.parent.cot_computed_length})),t.isLeafNode(n)||r(n))}),"pre-order"),e};function dh(t){let n=Tl(t.getTips(),(t=>t.depth));return Cl(n,(function(t,n){return t+n}),0)}function _h(t,n){n=n||2;var e=ph(t),r=Number.MAX_VALUE,i=0,o=null;return 2==n?t.traverse_and_compute((function(t){if(t.parent){var n=0,a=0,u=0,s=0,l=0;El(t.cot_path_to_leaves_below,(function(t){n+=t,a+=t*t,l++})),El(t.cot_path_to_leaves_above,(function(t){u+=t,s+=t*t}));var c=e-l,f=(u-n+t.cot_computed_length*c)/e;f<0?f=0:f>t.cot_computed_length&&(f=t.cot_computed_length);var h=s+a+2*(u*(t.cot_computed_length-f)+n*f)+l*f*f+(t.cot_computed_length-f)*(t.cot_computed_length-f)*c;h<r&&(o=t,i=f/t.cot_computed_length,r=h),delete t.cot_computed_length,delete t.cot_path_to_leaves_below,delete t.cot_path_to_leaves_above,delete t.cot_leaf_index}})):t.traverse_and_compute((function(t){if(t.parent)for(var e=t.cot_computed_length>0?.05*t.cot_computed_length:.1,a=0;a<t.cot_computed_length;){var u=0;El(t.cot_path_to_leaves_below,(function(t){u+=Math.pow(t+a,n)})),El(t.cot_path_to_leaves_above,(function(e){u+=Math.pow(e+(t.cot_computed_length-a),n)})),u<r&&(o=t,i=a/t.cot_computed_length,r=u),a+=e}})),{location:o,breakpoint:i,distance:r}}function gh(t){if(!t.hasBranchLengths())throw"Center of tree calculation cannot be performed on trees that do not have fully specified branch lengths";var n=t.branch_length;t.traverse_and_compute((function(e){if(e.parent){var r,i=n(e);t.isLeafNode(e)?(r=e,e.max_path=0,e.max_path_terminus=e):(i+=e.max_path,r=e.max_path_terminus),(!e.parent.max_path||e.parent.max_path<i)&&(e.parent.max_path=i,e.parent.max_path_terminus=r)}}));var e=t.getRootNode(),r=0;if(e.children.forEach((function(t){if(t.max_path_terminus!==e.max_path_terminus){var i=t.max_path+n(t);i>=r&&(r=i)}})),e.max_path>r){r=.5*(r+e.max_path);for(var i=e.max_path_terminus;;){var o=n(i);if(!(o<=r))return{location:i,breakpoint:r/o};r-=o,i=i.parent}}return{location:e,breakpoint:0}}function vh(t,n,e,r,i){var o=t.branch_length(n),a=!1;if(e||(r=n.data.rootToTip,i=0,a=!0),n.children)for(var u=0;u<n.children.length;u++)n.children[u]!=e?vh(t,n.children[u],n,r,i):a=!0;n.data.rtta=n.data.rootToTip-r+i,a&&(r-=o,i+=o),n.parent&&a&&vh(t,n.parent,n,r,i)}function yh(t){var n=[],e=0,r=0;!function(t){t.traverse_and_compute((function(n){t.isLeafNode(n)&&(n.data.copy_number=1)}))}(t),bh(t),t.traverse_and_compute((function(e){t.isLeafNode(e)&&!uu(e.data.decimal_date_value)&&n.push([e.data.decimal_date_value,e.data.rtta,e.data.copy_number])}));let i=mh(n);return t.traverse_and_compute((function(o){if(t.isLeafNode(o)&&!uu(o.data.decimal_date_value)){vh(t,o,null,0,0),n=[],t.traverse_and_compute((function(e){t.isLeafNode(e)&&!uu(e.data.decimal_date_value)&&n.push([e.data.decimal_date_value,e.data.rtta,e.data.copy_number])}));var a=mh(n),u=a.r2;u>e&&(e=u,r=o,i=a)}})),{root:r,fit:i}}function mh(t){var n=t.reduce((function(t,n){return n[2]+t}),0),e=t.reduce((function(t,n){return n[2]*n[0]+t}),0),r=t.reduce((function(t,n){return n[2]*n[1]+t}),0),i=e/n,o=r/n,a=0,u=0,s=0;t.forEach((function(t){var n=t[0]-i;u+=t[2]*n*n,a+=t[2]*n*t[1],s+=t[2]*(t[1]-o)*(t[1]-o)}));var l=(r-e*(a/=u))/n,c=0;return t.forEach((function(t){var n=t[1]-l-a*t[0];c+=t[2]*n*n})),{intercept:l,slope:a,r2:1-c/s,"var (intercept)":Math.sqrt((1+e*e/(n*u))/n),"var (slope)":Math.sqrt(1/u)}}function bh(t){var n=t.branch_length_accessor,e=0;t.traverse_and_compute((r=>{if(r.parent&&(r.data._computed_length=n(r),!pu(r.data._computed_length)))throw"rootToTip cannot be run on trees with missing branch lengths";t.isLeafNode(r)&&(r.data.leaf_index=e++),"r2t"in r.data&&delete r.data.r2t})),t.traverse_and_compute((n=>{n.parent&&("r2t"in n.parent.data||(n.parent.data.r2t={}),t.isLeafNode(n)?n.parent.data.r2t[n.data.leaf_index]=n.data._computed_length:(El(n.data.r2t,(function(t,e){n.parent.data.r2t[e]=t+n.data._computed_length})),delete n.data.r2t),delete n.data._computed_length)}));var r=t.getRootNode().data.r2t;return t.traverse_and_compute((n=>{t.isLeafNode(n)&&(n.data.rootToTip=r[n.data.leaf_index]||0,delete n.data.leaf_index)})),delete t.getRootNode().data.r2t,t}const wh=oo("%Y%m%d"),xh=/([0-9]{4}).?([0-9]{2}).?([0-9]{2})$/g,Mh=function(t){if(Lc(t)&&"name"in t){let n=xh.exec(t.name);if(n)return n[1]+n[2]+n[3]}return null},Ah=function(t,n,e=wh){return n=n||Mh,t.traverse_and_compute((function(t){var r=n(t);if(r)try{t.data.date_value=e(r);var i=t.data.date_value.getFullYear(),o=new Date(i,0,1),a=new Date(i+1,0,1);return void(t.data.decimal_date_value=i+(t.data.date_value-o)/(a-o))}catch(t){}t.data.date_value=null,t.data.decimal_date_value=null})),t},kh=function(t,n,e,r,i){r=r||t.getRootNode(),i=pu(i)?i:1;let o=t.branch_length;t.traverse_and_compute((function(t){if(t.parent){if(t._computed_length=o(t),!pu(t._computed_length))throw"clusterPicker cannot be run on trees with missing branch lengths";t.max_path_length=0}})),t.traverse_and_compute((function(t){t.parent&&(t.parent.max_path_length=Math.max(t.parent.max_path_length,t.max_path_length+t._computed_length))}));var a=[];return t.traverse_and_compute(Os,"pre-order",r,(function(r){if(!t.isLeafNode(r)){var o=hu(r.data.bootstrap_values)?+r.data.bootstrap_values:i;if(o>=n){var u=Cl(r.children,(function(t,n){return n.max_path_length+n._computed_length+t}),0);if(u<=e)return a.push({root:r,diameter:u,bootstrap:o}),!0}}return!1})),t.traverse_and_compute((function(t){t.parent&&(delete t._computed_length,delete t.max_path_length)}),"post-order",r),El(a,(function(n){n.members=[],t.traverse_and_compute((function(e){t.isLeafNode(e)&&n.members.push(e)}),"post-order",n.root)})),a},Nh=function(t,n,e,r,i){r=pu(r)?r:1;var o=ph(t),a=t.getRootNode().children[0],u=Number.MAX_VALUE,s=Number.MAX_VALUE;if(!(e>0&&e<1))throw"Invalid percentile threshold in perform_phylopart";t.traverse_and_compute((function(n){t.isLeafNode(n)&&(n.cot_computed_length<u?(u<s&&(s=u),u=n.cot_computed_length):n.cot_computed_length<s&&(s=n.cot_computed_length))})),u+=s;var l=Cl(a.cot_path_to_leaves_below,(function(t,n){return n>t?n:t}),0)+Cl(a.cot_path_to_leaves_above,(function(t,n){return n>t?n:t}),0)+a.cot_computed_length-u;su(i)&&(i=Math.min(.001,l/100));var c=1+(l/i>>0);c>500&&(i=l/(c=500));var f=t.getRootNode();f.paths_to_leaves=new Array(o),El(f.children,(function(t){El(f.cot_path_to_leaves_below,(function(n,e){f.paths_to_leaves[e]=n+t.cot_computed_length}))})),t.traverse_and_compute((function(n){if(!t.isLeafNode(n)){n.histogram=new Array(c);for(var e=0;e<c;e++)n.histogram[e]=0;if(n.parent){var r=0;n.paths_to_leaves=[],El(n.cot_path_to_leaves_below,(function(t,e){n.paths_to_leaves[r++]=t}))}}delete n.cot_path_to_leaves_above,delete n.cot_path_to_leaves_below})),t.traverse_and_compute((function(n){if(!t.isLeafNode(n)){for(var e=0;e<n.paths_to_leaves.length;e++)for(var r=e+1;r<n.paths_to_leaves.length;r++){var o=n.paths_to_leaves[e]+n.paths_to_leaves[r];n.histogram[(o-u)/i>>0]++}n.leaf_count=n.paths_to_leaves.length,delete n.paths_to_leaves}}));for(var h=(o-1)*o/2*e,p=0;p<c-1&&h>f.histogram[p];p++)h-=f.histogram[p];var d=u+(p+(f.histogram[p]-h)/f.histogram[p])*i,_=[];return t.traverse_and_compute(Os,"pre-order",null,(function(e){if(!t.isLeafNode(e)){var o=hu(e.data.bootstrap_values)?+e.data.bootstrap_values:r;if(o>=n){for(var a=e.leaf_count*(e.leaf_count-1)*.25,s=0;s<c-1&&a>e.histogram[s];s++)a-=e.histogram[s];var l=u+(s+(e.histogram[s]-a)/e.histogram[s])*i;if(l<=d)return _.push({root:e,median:l,bootstrap:o}),!0}}return!1})),t.traverse_and_compute((function(n){t.isLeafNode(n)||"histogram"in n&&(delete n.histogram,delete n.leaf_count)})),El(_,(function(n){n.members=[],t.traverse_and_compute((function(e){t.isLeafNode(e)&&n.members.push(e)}),"post-order",n.root)})),_};function Sh(t){let n=Vc.split(t,"\n");return Vc.chain(n).map(((t,n)=>t.startsWith(">")?n:-1)).filter((t=>-1!=t)).map(((t,e,r)=>Vc.slice(n,r[e],r[e+1]))).keyBy((t=>Vc.trim(t[0],">"))).mapValues((t=>Vc.tail(t).join(""))).value()}function Eh(t,n){let e=[];for(let r of Vc.range(n.length))if(r!=t){let i=[];for(let e of Vc.range(n[r].length))e!=t&&i.push(n[r][e]);e.push(i)}return e}function Th(t){let n=Vc.keys(t)[0],e=t[n].length;return Vc.mapValues(t,(n=>Vc.map(t,(t=>Vc.sum(Vc.map(Vc.range(e),(e=>n[e]!=t[e]&&"-"!=n[e]&&"-"!=t[e])))))))}function zh(t,n,e){if(n<=2){let n=new hh(""),r=n.getNodes(),i=t[0][1]/2,o=n.createNode(e[0],[null,[i]]),a=n.createNode(e[1],[null,[i]]);return n.addChild(r,o),n.addChild(r,a),n}{let i=n,o=(r=t,Vc.map(r,Vc.sum)),a=function(t,n,e){let r=Vc.chunk(Vc.fill(Array(e*e),0),e);for(let i of Vc.range(e))for(let o of Vc.range(Vc.parseInt(i)+1,e))r[i][o]=(e-2)*t[i][o]-n[i]-n[o],r[o][i]=r[i][o];return r}(t,o,i),[u,s,l]=function(t,n){let e=-1,r=-1,i=1/0;for(let o of Vc.range(n))for(let a of Vc.range(e,n))t[o][a]<i&&(e=o,r=a,i=t[e][r]);return[e,r,i]}(a,i),c=function(t,n){let e=Vc.chunk(Array(n*n),n);for(let r of Vc.range(n))for(let i of Vc.range(parseInt(r)+1,n))e[r][i]=(t[r]-t[i])/(n-2),e[i][r]=e[r][i];return e}(o,i),f=(t[u][s]+c[u][s])/2,h=(t[u][s]-c[u][s])/2,p=Vc.concat(0,Vc.filter(Vc.map(Vc.range(n),(n=>{if(n!=u&&n!=s)return.5*(t[n][u]+t[n][s]-t[u][s])})),Vc.isNumber)),d=e[u],_=e[s],g="InternalNode0",v=Vc.filter(e,(t=>Vc.includes(t,"InternalNode")));if(v.length){let t=Vc.max(Vc.map(v,(t=>Vc.split(t,"InternalNode")[1])));g="InternalNode"+ ++t}e.unshift(g),t=Eh(Vc.max([u,s]),t),(t=Eh(Vc.min([u,s]),t)).unshift(p),Vc.each(Vc.range(1,n-1),(n=>t[n].unshift(p[n]))),Vc.remove(e,(t=>t==d||t==_));let y=zh(t,i-1,e),m=y.createNode(d,[null,[f]]),b=y.createNode(_,[null,[h]]);if(y.getNodeByName(g)){let t=y.getNodeByName(g);y.addChild(t,m),y.addChild(t,b)}else{let t=y.createNode(g,[null,[0]]);y.addChild(y.getNodes(),t),y.addChild(t,m),y.addChild(t,b)}return y}var r}}},n={};function e(r){var i=n[r];if(void 0!==i)return i.exports;var o=n[r]={id:r,loaded:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),phylotree=e(666),nwk="(((EELA:0.150276,CONGERA:0.213019):0.230956,(EELB:0.263487,CONGERB:0.202633):0.246917):0.094785,((CAVEFISH:0.451027,(GOLDFISH:0.340495,ZEBRAFISH:0.390163):0.220565):0.067778,((((((NSAM:0.008113,NARG:0.014065):0.052991,SPUN:0.061003,(SMIC:0.027806,SDIA:0.015298,SXAN:0.046873):0.046977):0.009822,(NAUR:0.081298,(SSPI:0.023876,STIE:0.013652):0.058179):0.091775):0.073346,(MVIO:0.012271,MBER:0.039798):0.178835):0.147992,((BFNKILLIFISH:0.317455,(ONIL:0.029217,XCAU:0.084388):0.201166):0.055908,THORNYHEAD:0.252481):0.061905):0.157214,LAMPFISH:0.717196,((SCABBARDA:0.189684,SCABBARDB:0.362015):0.282263,((VIPERFISH:0.318217,BLACKDRAGON:0.109912):0.123642,LOOSEJAW:0.3971):0.287152):0.140663):0.206729):0.222485,(COELACANTH:0.558103,((CLAWEDFROG:0.441842,SALAMANDER:0.299607):0.135307,((CHAMELEON:0.771665,((PIGEON:0.150909,CHICKEN:0.172733):0.082163,ZEBRAFINCH:0.099172):0.272338):0.014055,((BOVINE:0.167569,DOLPHIN:0.15745):0.104783,ELEPHANT:0.166557):0.367205):0.050892):0.114731):0.295021)",tree=new phylotree.phylotree(nwk),renderedTree=tree.render({height:1e3,width:1e3,"left-right-spacing":"fit-to-size","top-bottom-spacing":"fit-to-size"}),renderedTree.show()})();